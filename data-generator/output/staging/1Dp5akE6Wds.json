{
  "video_id": "1Dp5akE6Wds",
  "title": "Bring Your Own Observability Stack to DataStax Mission Control",
  "description": "In this video, we demonstrate how to integrate your own observability stack with DataStax Mission Control, using Prometheus as an example. Learn how to configure the Prometheus Remote Write Sink to monitor your Cassandra clusters, and visualize metrics in Grafana. For more details, visit datastax.com/products/mission-control.\n\nCONNECT WITH DATASTAX\nSubscribe: http://www.youtube.com/c/datastaxdevs?sub_confirmation=1 \nTwitter: https://twitter.com/datastaxdevs\nTwitch: https://www.twitch.tv/datastaxdevs\n\nABOUT DATASTAX\n➡️DataStax is the company that helps Developers and Companies successfully create a bold new world through GenAI. We offer a One-stop Generative AI Stack with everything needed for a faster, easier, path to production for relevant and responsive GenAI apps. \n➡️DataStax delivers a RAG-first developer experience, with first-class integrations into leading AI ecosystem partners, so we work out with developers’ existing stacks of choice. \n➡️With DataStax, anyone can quickly build smart, high-growth AI applications at unlimited scale, on any cloud. Hundreds of the world’s leading enterprises, including Audi, Bud Financial, Capital One, SkyPoint Cloud, and many more rely on DataStax.\n\n✅ Sign up to try DataStax Astra DB https://dtsx.io/3W4My1H\n\nAbout DataStax Developer:\nOn the DataStax Developers YouTube channel, you can find tutorials, workshops and much more to help you learn and stay updated with the latest information on Apache Cassandra©.  Visit https://datastax.com/dev for more free learning resources.",
  "published_at": "2024-09-01T15:13:57Z",
  "thumbnail": "https://i.ytimg.com/vi/1Dp5akE6Wds/hqdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "demo",
    "workshop",
    "datastax",
    "astra",
    "tutorial",
    "cassandra",
    "apache_cassandra"
  ],
  "url": "https://www.youtube.com/watch?v=1Dp5akE6Wds",
  "transcript": {
    "available": true,
    "language": "English",
    "language_code": "en",
    "is_generated": false,
    "text": "Hello everyone, I'm Aaron from DataStax. And today I'm here to talk to you all about bringing your own observability stack with DataStax Mission Control. All right, let's see if we can connect those up. Let's go. So when you installed Mission \nControl, you would have had to have used the kots system to do so. So you'll go to your Mission Control URL, but at port 8800 instead. And this actually gets you into the kots config underneath mission control. Now when you first install mission control on your control plane nodes, it's going to give you a default password. You should change that \npassword and that's really what you should be using in the long term. But anyway, this is where you'll want to put your mission control kots password. So I'll just go ahead and put that in there and I'll log in. Alright. Now inside of here you can see that I absolutely do have a mission \ncontrol cluster running here. I can have a look at all my nodes. Underneath you see I have a control plane node, I have my database nodes zero, one and two. So three database nodes. Then I have my platform nodes which are nodes, platform zero and platform one. Those are actually where \nmission controls components for logging and metrics are running, which are also known as I believe Loki and Mimir. If we go back to the application here and then over to the config tab, and then what we're going to do is we're going to look for this observability custom \npipelines and specifically we want the custom vector aggregator \nsyncs for metrics collection. Vector is the product that's underneath. Now to get this to work we're actually going to use a component called Prometheus remote write. And this is important because the system that I'm using is my own Prometheus \nmonitoring stack that I'm going to use to monitor my clusters inside of mission control with Prometheus remote write. It gives me a sync configuration here that I can use and mission control is going to expect that in a YAML format kind of like this. So essentially how this works \nis you define, you know, your sync, you gave it a \nunique label or identifier. You specify a type of Prometheus \nremote write, you define your inputs and then you give it the endpoint. Now there are some other properties too that we'll end up using, but this is the way this Prometheus remote write sync is how we're going to go about pushing our metrics \nfrom our Cassandra cluster in mission control out to my \nPrometheus observability stack. So if we go back to cots config and down to the custom vector aggregator \nsyncs, this is where we're going to define our prometheus remote write sync. So what I'm going to do is \ngrab the configuration that I know works and I'm going to paste that in here. All right, so as you can see, I'm going to call this, I'm using the \nexternal service logit IO. So I'm going to call this logit IO Prometheus. We're going to have a type \nof Prometheus remote write. Our inputs are going to be \ninternal metrics and vector. Now remember vector is the tool that's running underneath. And if you look, we have a list of default data sources \nhere inside the description of what this custom vector aggregator sync does. And you can see that vector and internal metrics are the first two options. Now Prometheus works with the snappy compression algorithm. So I'm going to specify that my logit IO account actually has this custom \nURL which I'm going to put in here for my endpoint and it uses basic auth. So I'm going to specify my username and password down here. I've adjusted my requests \nretry attempts down to zero. All right? And with that specified I'm going to go down to save config. Alright, the config for mission \ncontrol has been updated and I'm going to click go to updated version. Okay, now you'll notice that I do have a config change in the newest \nversion, but that's not the currently deployed version of mission control. So cots is giving me the option here to deploy my new configuration change \nand I will go ahead and click that blue deploy button and verify it. Now this is going to take a little bit. And there you go, it has successfully deployed. All right. Now if I go to my Grafana dashboard which is out at, you know, logit.IO, I'm \ngoing to say add visualization. And you can see I have my Prometheus data source right here. So I'm going to click that and you can see that there's no data. But if I click here you can see that I do have quite a bit of data here. So I'm going to go for JVM. Let's see here. So I'm going to say JVM memory pools g1 Edenspace used. And then if I run that for the last 30 minutes, you can see that \nthese are the three nodes in my cluster, and you can see the amount of new heap space that they've \nused inside of their jvms. So, hey, metrics are coming through, and I can start building out my dashboards and panels. For more information on \nDataStax Mission Control, just head on out to \ndatastax.com/products/mission control. There you can find all the information you need, including downloads and documentation. Thank you and have a great day.",
    "segments": [
      {
        "start": 0.52,
        "duration": 1.72,
        "text": "Hello everyone, I'm Aaron from DataStax."
      },
      {
        "start": 2.96,
        "duration": 1.76,
        "text": "And today I'm here to talk to"
      },
      {
        "start": 4.72,
        "duration": 3.08,
        "text": "you all about bringing your own observability"
      },
      {
        "start": 7.8,
        "duration": 3.68,
        "text": "stack with DataStax Mission Control."
      },
      {
        "start": 11.48,
        "duration": 2.12,
        "text": "All right, let's see if we can connect those up."
      },
      {
        "start": 13.6,
        "duration": 1.24,
        "text": "Let's go."
      },
      {
        "start": 14.84,
        "duration": 3.24,
        "text": "So when you installed Mission \nControl, you would have had"
      },
      {
        "start": 18.08,
        "duration": 3.52,
        "text": "to have used the kots system to do so."
      },
      {
        "start": 21.6,
        "duration": 2.2,
        "text": "So you'll go to your Mission Control"
      },
      {
        "start": 23.8,
        "duration": 3.72,
        "text": "URL, but at port 8800 instead."
      },
      {
        "start": 27.52,
        "duration": 1.44,
        "text": "And this actually gets you into"
      },
      {
        "start": 28.96,
        "duration": 2.64,
        "text": "the kots config underneath mission control."
      },
      {
        "start": 31.6,
        "duration": 2.6,
        "text": "Now when you first install mission control"
      },
      {
        "start": 34.2,
        "duration": 2.4,
        "text": "on your control plane nodes, it's going"
      },
      {
        "start": 36.6,
        "duration": 2.52,
        "text": "to give you a default password."
      },
      {
        "start": 39.12,
        "duration": 2.48,
        "text": "You should change that \npassword and that's really what"
      },
      {
        "start": 41.6,
        "duration": 1.96,
        "text": "you should be using in the long term."
      },
      {
        "start": 43.56,
        "duration": 1.88,
        "text": "But anyway, this is where you'll want"
      },
      {
        "start": 45.44,
        "duration": 3.12,
        "text": "to put your mission control kots password."
      },
      {
        "start": 48.56,
        "duration": 0.96,
        "text": "So I'll just go ahead and put"
      },
      {
        "start": 49.52,
        "duration": 3.44,
        "text": "that in there and I'll log in."
      },
      {
        "start": 52.96,
        "duration": 0.2,
        "text": "Alright."
      },
      {
        "start": 53.16,
        "duration": 2.0,
        "text": "Now inside of here you can see that I"
      },
      {
        "start": 55.88,
        "duration": 5.2,
        "text": "absolutely do have a mission \ncontrol cluster running here."
      },
      {
        "start": 61.08,
        "duration": 2.16,
        "text": "I can have a look at all my nodes."
      },
      {
        "start": 63.24,
        "duration": 3.72,
        "text": "Underneath you see I have a control plane node,"
      },
      {
        "start": 66.96,
        "duration": 3.0,
        "text": "I have my database nodes zero, one and two."
      },
      {
        "start": 69.96,
        "duration": 2.04,
        "text": "So three database nodes."
      },
      {
        "start": 72.0,
        "duration": 1.76,
        "text": "Then I have my platform nodes which"
      },
      {
        "start": 73.76,
        "duration": 4.4,
        "text": "are nodes, platform zero and platform one."
      },
      {
        "start": 78.16,
        "duration": 4.6,
        "text": "Those are actually where \nmission controls components for"
      },
      {
        "start": 82.76,
        "duration": 4.44,
        "text": "logging and metrics are running, which are also"
      },
      {
        "start": 87.2,
        "duration": 5.12,
        "text": "known as I believe Loki and Mimir."
      },
      {
        "start": 92.32,
        "duration": 2.72,
        "text": "If we go back to the application here and"
      },
      {
        "start": 95.04,
        "duration": 3.6,
        "text": "then over to the config tab, and then what"
      },
      {
        "start": 98.64,
        "duration": 1.32,
        "text": "we're going to do is we're going to look"
      },
      {
        "start": 99.96,
        "duration": 4.52,
        "text": "for this observability custom \npipelines and specifically we want"
      },
      {
        "start": 104.48,
        "duration": 4.6,
        "text": "the custom vector aggregator \nsyncs for metrics collection."
      },
      {
        "start": 109.08,
        "duration": 3.8,
        "text": "Vector is the product that's underneath."
      },
      {
        "start": 112.88,
        "duration": 2.12,
        "text": "Now to get this to work we're actually going"
      },
      {
        "start": 115.0,
        "duration": 4.56,
        "text": "to use a component called Prometheus remote write."
      },
      {
        "start": 119.56,
        "duration": 3.8,
        "text": "And this is important because the system that I'm"
      },
      {
        "start": 123.36,
        "duration": 4.52,
        "text": "using is my own Prometheus \nmonitoring stack that I'm"
      },
      {
        "start": 127.88,
        "duration": 2.48,
        "text": "going to use to monitor my clusters inside of"
      },
      {
        "start": 130.36,
        "duration": 4.0,
        "text": "mission control with Prometheus remote write."
      },
      {
        "start": 134.36,
        "duration": 4.68,
        "text": "It gives me a sync configuration here that I"
      },
      {
        "start": 139.04,
        "duration": 4.16,
        "text": "can use and mission control is going to expect"
      },
      {
        "start": 143.2,
        "duration": 3.76,
        "text": "that in a YAML format kind of like this."
      },
      {
        "start": 146.96,
        "duration": 2.96,
        "text": "So essentially how this works \nis you define, you know,"
      },
      {
        "start": 149.92,
        "duration": 3.84,
        "text": "your sync, you gave it a \nunique label or identifier."
      },
      {
        "start": 153.76,
        "duration": 4.88,
        "text": "You specify a type of Prometheus \nremote write, you define"
      },
      {
        "start": 158.64,
        "duration": 2.92,
        "text": "your inputs and then you give it the endpoint."
      },
      {
        "start": 161.56,
        "duration": 2.32,
        "text": "Now there are some other properties too that we'll"
      },
      {
        "start": 163.88,
        "duration": 2.12,
        "text": "end up using, but this is the way this"
      },
      {
        "start": 166.0,
        "duration": 3.6,
        "text": "Prometheus remote write sync is how we're going to"
      },
      {
        "start": 169.6,
        "duration": 5.2,
        "text": "go about pushing our metrics \nfrom our Cassandra cluster"
      },
      {
        "start": 174.8,
        "duration": 5.04,
        "text": "in mission control out to my \nPrometheus observability stack."
      },
      {
        "start": 180.44,
        "duration": 3.4,
        "text": "So if we go back to cots config and down"
      },
      {
        "start": 183.84,
        "duration": 3.68,
        "text": "to the custom vector aggregator \nsyncs, this is where we're"
      },
      {
        "start": 187.52,
        "duration": 4.44,
        "text": "going to define our prometheus remote write sync."
      },
      {
        "start": 191.96,
        "duration": 4.92,
        "text": "So what I'm going to do is \ngrab the configuration that"
      },
      {
        "start": 196.88,
        "duration": 6.6,
        "text": "I know works and I'm going to paste that in here."
      },
      {
        "start": 203.48,
        "duration": 1.68,
        "text": "All right, so as you can see, I'm going to"
      },
      {
        "start": 205.16,
        "duration": 5.76,
        "text": "call this, I'm using the \nexternal service logit IO."
      },
      {
        "start": 210.92,
        "duration": 3.4,
        "text": "So I'm going to call this logit IO Prometheus."
      },
      {
        "start": 214.32,
        "duration": 5.76,
        "text": "We're going to have a type \nof Prometheus remote write."
      },
      {
        "start": 220.08,
        "duration": 4.64,
        "text": "Our inputs are going to be \ninternal metrics and vector."
      },
      {
        "start": 224.72,
        "duration": 2.16,
        "text": "Now remember vector is the"
      },
      {
        "start": 226.88,
        "duration": 2.08,
        "text": "tool that's running underneath."
      },
      {
        "start": 229.68,
        "duration": 2.44,
        "text": "And if you look, we have a list"
      },
      {
        "start": 232.12,
        "duration": 4.8,
        "text": "of default data sources \nhere inside the description"
      },
      {
        "start": 236.92,
        "duration": 2.8,
        "text": "of what this custom vector aggregator sync does."
      },
      {
        "start": 240.28,
        "duration": 1.44,
        "text": "And you can see that vector and"
      },
      {
        "start": 241.72,
        "duration": 3.36,
        "text": "internal metrics are the first two options."
      },
      {
        "start": 245.08,
        "duration": 2.04,
        "text": "Now Prometheus works with"
      },
      {
        "start": 247.12,
        "duration": 1.68,
        "text": "the snappy compression algorithm."
      },
      {
        "start": 248.8,
        "duration": 8.12,
        "text": "So I'm going to specify that my logit IO account"
      },
      {
        "start": 256.92,
        "duration": 3.36,
        "text": "actually has this custom \nURL which I'm going to put"
      },
      {
        "start": 260.28,
        "duration": 4.2,
        "text": "in here for my endpoint and it uses basic auth."
      },
      {
        "start": 264.48,
        "duration": 1.44,
        "text": "So I'm going to specify my"
      },
      {
        "start": 265.92,
        "duration": 2.92,
        "text": "username and password down here."
      },
      {
        "start": 268.84,
        "duration": 4.68,
        "text": "I've adjusted my requests \nretry attempts down to zero."
      },
      {
        "start": 273.52,
        "duration": 0.36,
        "text": "All right?"
      },
      {
        "start": 273.88,
        "duration": 2.44,
        "text": "And with that specified I'm going"
      },
      {
        "start": 276.32,
        "duration": 10.32,
        "text": "to go down to save config."
      },
      {
        "start": 286.64,
        "duration": 4.64,
        "text": "Alright, the config for mission \ncontrol has been updated"
      },
      {
        "start": 291.28,
        "duration": 8.56,
        "text": "and I'm going to click go to updated version."
      },
      {
        "start": 299.84,
        "duration": 2.64,
        "text": "Okay, now you'll notice that I do have a"
      },
      {
        "start": 302.48,
        "duration": 4.2,
        "text": "config change in the newest \nversion, but that's not"
      },
      {
        "start": 306.68,
        "duration": 2.96,
        "text": "the currently deployed version of mission control."
      },
      {
        "start": 309.64,
        "duration": 2.88,
        "text": "So cots is giving me the option here to deploy"
      },
      {
        "start": 312.52,
        "duration": 3.04,
        "text": "my new configuration change \nand I will go ahead and"
      },
      {
        "start": 315.56,
        "duration": 11.52,
        "text": "click that blue deploy button and verify it."
      },
      {
        "start": 327.08,
        "duration": 2.56,
        "text": "Now this is going to take a little bit."
      },
      {
        "start": 331.36,
        "duration": 4.36,
        "text": "And there you go, it has successfully deployed."
      },
      {
        "start": 335.72,
        "duration": 0.76,
        "text": "All right."
      },
      {
        "start": 336.48,
        "duration": 3.32,
        "text": "Now if I go to my Grafana dashboard which is out"
      },
      {
        "start": 339.8,
        "duration": 5.44,
        "text": "at, you know, logit.IO, I'm \ngoing to say add visualization."
      },
      {
        "start": 345.24,
        "duration": 0.92,
        "text": "And you can see I have"
      },
      {
        "start": 346.16,
        "duration": 2.28,
        "text": "my Prometheus data source right here."
      },
      {
        "start": 348.44,
        "duration": 2.12,
        "text": "So I'm going to click that and"
      },
      {
        "start": 350.56,
        "duration": 1.8,
        "text": "you can see that there's no data."
      },
      {
        "start": 352.36,
        "duration": 2.8,
        "text": "But if I click here you can see that"
      },
      {
        "start": 355.16,
        "duration": 3.76,
        "text": "I do have quite a bit of data here."
      },
      {
        "start": 358.92,
        "duration": 5.48,
        "text": "So I'm going to go for JVM."
      },
      {
        "start": 364.4,
        "duration": 2.12,
        "text": "Let's see here."
      },
      {
        "start": 366.52,
        "duration": 2.32,
        "text": "So I'm going to say JVM"
      },
      {
        "start": 368.84,
        "duration": 5.0,
        "text": "memory pools g1 Edenspace used."
      },
      {
        "start": 373.84,
        "duration": 3.68,
        "text": "And then if I run that for the last 30"
      },
      {
        "start": 377.52,
        "duration": 1.84,
        "text": "minutes, you can see that \nthese are the three nodes"
      },
      {
        "start": 379.36,
        "duration": 3.6,
        "text": "in my cluster, and you can see the amount of"
      },
      {
        "start": 382.96,
        "duration": 6.68,
        "text": "new heap space that they've \nused inside of their jvms."
      },
      {
        "start": 389.64,
        "duration": 2.6,
        "text": "So, hey, metrics are coming through, and I"
      },
      {
        "start": 392.24,
        "duration": 2.76,
        "text": "can start building out my dashboards and panels."
      },
      {
        "start": 395.0,
        "duration": 4.0,
        "text": "For more information on \nDataStax Mission Control, just"
      },
      {
        "start": 399.0,
        "duration": 5.28,
        "text": "head on out to \ndatastax.com/products/mission control."
      },
      {
        "start": 404.28,
        "duration": 1.76,
        "text": "There you can find all the information"
      },
      {
        "start": 406.04,
        "duration": 3.64,
        "text": "you need, including downloads and documentation."
      },
      {
        "start": 409.68,
        "duration": 8.04,
        "text": "Thank you and have a great day."
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-11T21:40:55.216578+00:00"
}