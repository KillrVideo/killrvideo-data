{
  "video_id": "xueoAqQvSH8",
  "title": "DS310.17 Dynamic Fields | DataStax Enterprise 6 Search",
  "description": "#DataStaxAcademy #DS310\nDS310.17 Dynamic Fields\nIn this section we will look at the dynamic fields function, how it is used in DSE Search, and the benefits and tradeoffs of using it.\n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-15T20:52:19Z",
  "thumbnail": "https://i.ytimg.com/vi/xueoAqQvSH8/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "cassandra",
    "search",
    "tutorial",
    "apache_cassandra",
    "dse",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=xueoAqQvSH8",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] hi i'm joe chu and in this video we'll be talking about dynamic fields if you remember anything about dynamic fields in this video then hopefully it will be this very first point i'm going to make which is that you should always avoid using them whenever possible while dynamic fields is a pretty cool feature which you'll see more appear is something that can be hard to control particularly in the way that it consumes memory the problem is the more memory that is being allocated to be used for a dynamic field the less free memory there is which can lead to issues with performance or errors as a result of not having enough memory available since the cassandra map data type is tied to using dynamic field for search this means that each key value that you add to a column is going to automatically consume more and more memory if you do not have limits on the number of keys in these map columns then you too may soon experience these issues okay if you're still with me at this point then apparently i was not able to scare you off in that case let's talk about what a dynamic field is and how they work a dynamic field is a special type of field that allows additional fields to be indexed without being explicitly defined in the search index schema as long as the name of the field matches a certain pattern that is set by the dynamic field then they'll also be indexed as an example let's say you define a dynamic build with the name user underscore star if there are other fields that are created like user underscore age user underscore gender user underscore height and so forth then those fields will automatically be indexed and searchable this may be useful when you have data you receive for indexing that is not consistent or does not follow a strict schema and allows for arbitrary field names as mentioned in the beginning one of the reasons why we do talk about dynamic fields though is because the cassandra map data type is automatically defined as a dynamic field in the search index schema the dynamic field is ideally suited for a map since keys can be arbitrary with no requirement for the number of keys the inclusion of certain keys or whether each row contains the same set of keys in the map column each key technically becomes a field and the key value is automatically indexed thanks to the dynamic field there are some requirements though in order for map columns to work in search since a field name is supposed to be a string that means only maps with the key data type set to text can be used the key value does not have this limitation though and can use data types other than text finally the key needs to include a prefix or a suffix which is somewhat match the column name i.e the dynamic field name let's take a look at an example here we have a users table with a map column called phone number underscore and uses the text data type for both the key and key value the table shows several rows and key value pairs found in the phone number underscore column note that key names also start with phone number underscore since that is the pattern that will allow the dynamic field to automatically index these keys as new fields for the search index schema definition the list of fields should contain a dynamic field element which shows the name to be phone number underscore star which is derived from the column name and is what is used to match new fields to be indexed the type is a string field which corresponds to the text data type used for the key value here there are two possible search queries that we can execute for the map column one is to find all occurrences of a particular key which shown here is phone number underscore home another way would be to search for a specific value in a key with this example looking for rows with the workflow number 4107156911 unfortunately it is not possible to search for a value across all queues",
    "segments": [
      {
        "start": 2.17,
        "duration": 2.55,
        "text": "[Music]"
      },
      {
        "start": 4.16,
        "duration": 2.639,
        "text": "hi"
      },
      {
        "start": 4.72,
        "duration": 3.919,
        "text": "i'm joe chu and in this video we'll be"
      },
      {
        "start": 6.799,
        "duration": 3.521,
        "text": "talking about dynamic fields"
      },
      {
        "start": 8.639,
        "duration": 3.681,
        "text": "if you remember anything about dynamic"
      },
      {
        "start": 10.32,
        "duration": 3.359,
        "text": "fields in this video then hopefully it"
      },
      {
        "start": 12.32,
        "duration": 1.92,
        "text": "will be this very first point i'm going"
      },
      {
        "start": 13.679,
        "duration": 2.08,
        "text": "to make"
      },
      {
        "start": 14.24,
        "duration": 3.039,
        "text": "which is that you should always avoid"
      },
      {
        "start": 15.759,
        "duration": 3.041,
        "text": "using them whenever possible"
      },
      {
        "start": 17.279,
        "duration": 3.601,
        "text": "while dynamic fields is a pretty cool"
      },
      {
        "start": 18.8,
        "duration": 3.92,
        "text": "feature which you'll see more appear"
      },
      {
        "start": 20.88,
        "duration": 3.36,
        "text": "is something that can be hard to control"
      },
      {
        "start": 22.72,
        "duration": 2.08,
        "text": "particularly in the way that it consumes"
      },
      {
        "start": 24.24,
        "duration": 2.48,
        "text": "memory"
      },
      {
        "start": 24.8,
        "duration": 3.76,
        "text": "the problem is the more memory that is"
      },
      {
        "start": 26.72,
        "duration": 2.479,
        "text": "being allocated to be used for a dynamic"
      },
      {
        "start": 28.56,
        "duration": 2.879,
        "text": "field"
      },
      {
        "start": 29.199,
        "duration": 3.841,
        "text": "the less free memory there is which can"
      },
      {
        "start": 31.439,
        "duration": 3.521,
        "text": "lead to issues with performance"
      },
      {
        "start": 33.04,
        "duration": 3.359,
        "text": "or errors as a result of not having"
      },
      {
        "start": 34.96,
        "duration": 3.2,
        "text": "enough memory available"
      },
      {
        "start": 36.399,
        "duration": 4.241,
        "text": "since the cassandra map data type is"
      },
      {
        "start": 38.16,
        "duration": 4.64,
        "text": "tied to using dynamic field for search"
      },
      {
        "start": 40.64,
        "duration": 3.12,
        "text": "this means that each key value that you"
      },
      {
        "start": 42.8,
        "duration": 2.64,
        "text": "add to a column"
      },
      {
        "start": 43.76,
        "duration": 3.44,
        "text": "is going to automatically consume more"
      },
      {
        "start": 45.44,
        "duration": 3.439,
        "text": "and more memory if you do not have"
      },
      {
        "start": 47.2,
        "duration": 2.56,
        "text": "limits on the number of keys in these"
      },
      {
        "start": 48.879,
        "duration": 2.961,
        "text": "map columns"
      },
      {
        "start": 49.76,
        "duration": 3.92,
        "text": "then you too may soon experience these"
      },
      {
        "start": 51.84,
        "duration": 3.52,
        "text": "issues okay"
      },
      {
        "start": 53.68,
        "duration": 3.12,
        "text": "if you're still with me at this point"
      },
      {
        "start": 55.36,
        "duration": 2.4,
        "text": "then apparently i was not able to scare"
      },
      {
        "start": 56.8,
        "duration": 2.559,
        "text": "you off"
      },
      {
        "start": 57.76,
        "duration": 3.68,
        "text": "in that case let's talk about what a"
      },
      {
        "start": 59.359,
        "duration": 3.921,
        "text": "dynamic field is and how they work"
      },
      {
        "start": 61.44,
        "duration": 3.52,
        "text": "a dynamic field is a special type of"
      },
      {
        "start": 63.28,
        "duration": 2.4,
        "text": "field that allows additional fields to"
      },
      {
        "start": 64.96,
        "duration": 2.72,
        "text": "be indexed"
      },
      {
        "start": 65.68,
        "duration": 3.2,
        "text": "without being explicitly defined in the"
      },
      {
        "start": 67.68,
        "duration": 2.72,
        "text": "search index schema"
      },
      {
        "start": 68.88,
        "duration": 3.04,
        "text": "as long as the name of the field matches"
      },
      {
        "start": 70.4,
        "duration": 2.64,
        "text": "a certain pattern that is set by the"
      },
      {
        "start": 71.92,
        "duration": 3.28,
        "text": "dynamic field"
      },
      {
        "start": 73.04,
        "duration": 4.24,
        "text": "then they'll also be indexed as an"
      },
      {
        "start": 75.2,
        "duration": 3.04,
        "text": "example let's say you define a dynamic"
      },
      {
        "start": 77.28,
        "duration": 3.28,
        "text": "build with the name"
      },
      {
        "start": 78.24,
        "duration": 3.519,
        "text": "user underscore star if there are other"
      },
      {
        "start": 80.56,
        "duration": 4.08,
        "text": "fields that are created"
      },
      {
        "start": 81.759,
        "duration": 3.68,
        "text": "like user underscore age user underscore"
      },
      {
        "start": 84.64,
        "duration": 3.2,
        "text": "gender"
      },
      {
        "start": 85.439,
        "duration": 3.841,
        "text": "user underscore height and so forth then"
      },
      {
        "start": 87.84,
        "duration": 3.04,
        "text": "those fields will automatically be"
      },
      {
        "start": 89.28,
        "duration": 3.28,
        "text": "indexed and searchable"
      },
      {
        "start": 90.88,
        "duration": 3.199,
        "text": "this may be useful when you have data"
      },
      {
        "start": 92.56,
        "duration": 2.48,
        "text": "you receive for indexing that is not"
      },
      {
        "start": 94.079,
        "duration": 2.801,
        "text": "consistent"
      },
      {
        "start": 95.04,
        "duration": 3.84,
        "text": "or does not follow a strict schema and"
      },
      {
        "start": 96.88,
        "duration": 4.08,
        "text": "allows for arbitrary field names"
      },
      {
        "start": 98.88,
        "duration": 3.84,
        "text": "as mentioned in the beginning one of the"
      },
      {
        "start": 100.96,
        "duration": 2.64,
        "text": "reasons why we do talk about dynamic"
      },
      {
        "start": 102.72,
        "duration": 3.039,
        "text": "fields though"
      },
      {
        "start": 103.6,
        "duration": 4.159,
        "text": "is because the cassandra map data type"
      },
      {
        "start": 105.759,
        "duration": 2.481,
        "text": "is automatically defined as a dynamic"
      },
      {
        "start": 107.759,
        "duration": 2.4,
        "text": "field"
      },
      {
        "start": 108.24,
        "duration": 4.08,
        "text": "in the search index schema the dynamic"
      },
      {
        "start": 110.159,
        "duration": 4.24,
        "text": "field is ideally suited for a map"
      },
      {
        "start": 112.32,
        "duration": 3.839,
        "text": "since keys can be arbitrary with no"
      },
      {
        "start": 114.399,
        "duration": 4.0,
        "text": "requirement for the number of keys"
      },
      {
        "start": 116.159,
        "duration": 4.24,
        "text": "the inclusion of certain keys or whether"
      },
      {
        "start": 118.399,
        "duration": 3.04,
        "text": "each row contains the same set of keys"
      },
      {
        "start": 120.399,
        "duration": 3.201,
        "text": "in the map column"
      },
      {
        "start": 121.439,
        "duration": 4.0,
        "text": "each key technically becomes a field and"
      },
      {
        "start": 123.6,
        "duration": 3.36,
        "text": "the key value is automatically indexed"
      },
      {
        "start": 125.439,
        "duration": 3.201,
        "text": "thanks to the dynamic field"
      },
      {
        "start": 126.96,
        "duration": 3.68,
        "text": "there are some requirements though in"
      },
      {
        "start": 128.64,
        "duration": 3.599,
        "text": "order for map columns to work in search"
      },
      {
        "start": 130.64,
        "duration": 3.92,
        "text": "since a field name is supposed to be a"
      },
      {
        "start": 132.239,
        "duration": 3.841,
        "text": "string that means only maps with the key"
      },
      {
        "start": 134.56,
        "duration": 3.679,
        "text": "data type set to text"
      },
      {
        "start": 136.08,
        "duration": 3.28,
        "text": "can be used the key value does not have"
      },
      {
        "start": 138.239,
        "duration": 3.121,
        "text": "this limitation though"
      },
      {
        "start": 139.36,
        "duration": 3.04,
        "text": "and can use data types other than text"
      },
      {
        "start": 141.36,
        "duration": 3.28,
        "text": "finally the key"
      },
      {
        "start": 142.4,
        "duration": 4.16,
        "text": "needs to include a prefix or a suffix"
      },
      {
        "start": 144.64,
        "duration": 4.239,
        "text": "which is somewhat match the column name"
      },
      {
        "start": 146.56,
        "duration": 3.52,
        "text": "i.e the dynamic field name let's take a"
      },
      {
        "start": 148.879,
        "duration": 3.121,
        "text": "look at an example"
      },
      {
        "start": 150.08,
        "duration": 3.28,
        "text": "here we have a users table with a map"
      },
      {
        "start": 152.0,
        "duration": 3.76,
        "text": "column called phone number"
      },
      {
        "start": 153.36,
        "duration": 4.48,
        "text": "underscore and uses the text data type"
      },
      {
        "start": 155.76,
        "duration": 3.92,
        "text": "for both the key and key value"
      },
      {
        "start": 157.84,
        "duration": 3.84,
        "text": "the table shows several rows and key"
      },
      {
        "start": 159.68,
        "duration": 4.08,
        "text": "value pairs found in the phone number"
      },
      {
        "start": 161.68,
        "duration": 4.4,
        "text": "underscore column note that key names"
      },
      {
        "start": 163.76,
        "duration": 3.6,
        "text": "also start with phone number underscore"
      },
      {
        "start": 166.08,
        "duration": 3.28,
        "text": "since that is the pattern that will"
      },
      {
        "start": 167.36,
        "duration": 2.64,
        "text": "allow the dynamic field to automatically"
      },
      {
        "start": 169.36,
        "duration": 2.959,
        "text": "index these"
      },
      {
        "start": 170.0,
        "duration": 3.44,
        "text": "keys as new fields for the search index"
      },
      {
        "start": 172.319,
        "duration": 2.801,
        "text": "schema definition"
      },
      {
        "start": 173.44,
        "duration": 3.12,
        "text": "the list of fields should contain a"
      },
      {
        "start": 175.12,
        "duration": 3.52,
        "text": "dynamic field element"
      },
      {
        "start": 176.56,
        "duration": 3.36,
        "text": "which shows the name to be phone number"
      },
      {
        "start": 178.64,
        "duration": 3.04,
        "text": "underscore star"
      },
      {
        "start": 179.92,
        "duration": 3.679,
        "text": "which is derived from the column name"
      },
      {
        "start": 181.68,
        "duration": 2.32,
        "text": "and is what is used to match new fields"
      },
      {
        "start": 183.599,
        "duration": 2.961,
        "text": "to be"
      },
      {
        "start": 184.0,
        "duration": 4.48,
        "text": "indexed the type is a string field which"
      },
      {
        "start": 186.56,
        "duration": 3.2,
        "text": "corresponds to the text data type used"
      },
      {
        "start": 188.48,
        "duration": 2.72,
        "text": "for the key value"
      },
      {
        "start": 189.76,
        "duration": 3.04,
        "text": "here there are two possible search"
      },
      {
        "start": 191.2,
        "duration": 2.16,
        "text": "queries that we can execute for the map"
      },
      {
        "start": 192.8,
        "duration": 2.56,
        "text": "column"
      },
      {
        "start": 193.36,
        "duration": 3.12,
        "text": "one is to find all occurrences of a"
      },
      {
        "start": 195.36,
        "duration": 2.799,
        "text": "particular key"
      },
      {
        "start": 196.48,
        "duration": 4.08,
        "text": "which shown here is phone number"
      },
      {
        "start": 198.159,
        "duration": 4.561,
        "text": "underscore home another way would be to"
      },
      {
        "start": 200.56,
        "duration": 4.16,
        "text": "search for a specific value in a key"
      },
      {
        "start": 202.72,
        "duration": 4.76,
        "text": "with this example looking for rows with"
      },
      {
        "start": 204.72,
        "duration": 4.96,
        "text": "the workflow number"
      },
      {
        "start": 207.48,
        "duration": 4.039,
        "text": "4107156911 unfortunately"
      },
      {
        "start": 209.68,
        "duration": 9.04,
        "text": "it is not possible to search for a value"
      },
      {
        "start": 211.519,
        "duration": 7.201,
        "text": "across all queues"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T00:16:50.578181+00:00"
}