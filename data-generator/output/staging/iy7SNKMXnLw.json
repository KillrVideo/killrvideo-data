{
  "video_id": "iy7SNKMXnLw",
  "title": "DS210.35 Security Considerations | Operations with Apache Cassandra",
  "description": "#DataStaxAcademy #DS210\nDS210.35 SECURITY CONSIDERATIONS\nIn this unit, you will learn how to secure DataStax Enterprise in your environment, covering the basics of security.\n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-12T02:10:18Z",
  "thumbnail": "https://i.ytimg.com/vi/iy7SNKMXnLw/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "cassandra",
    "datastax",
    "tutorial",
    "apache_cassandra"
  ],
  "url": "https://www.youtube.com/watch?v=iy7SNKMXnLw",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] hi this is jeff carpenter let's talk about how to secure data stocks enterprise in your environment first a couple of disclaimers we all know that security is a big topic with a lot of facets in this section we're going to focus on the basics like setting up authentication and authorization using dse's built-in security for a more full treatment of security we offer another course ds410 that covers everything you need and best practices in more detail let's start with configuring authentication and authorization just to define our terms when we say authentication we're talking about controlling who can access our cluster and how we know who they are when we talk about authorization we're referring to what actions those users are allowed to perform so let's talk about authentication when you install dse out of the box authentication is disabled you enable authentication via configuration files as we'll discuss in a minute when authentication is enabled clients like cqlsh dse tool or your application must provide credentials such as a username and password to dse cassandra's extensible architecture allows us to provide plugable authentication and authorization mechanisms dse implements authentication via the dse authenticator the dse authenticator provides three different authentication schemes to meet the needs of various environments it can plug into your existing kerberos or ldap authentication or there's a built-in authentication using the internal scheme this built-in or internal authenticator is the one that we'll focus on in this course we configure the dse authenticator using options in the dse.yaml file as shown to the right here's how to configure authentication on each node in your cluster first you'll edit the dse yaml file to enable authentication using the desired scheme next restart the node to enable authentication then you can log into the node using the default role with username cassandra and password cassandra this default cassandra role is an administrative role known as a super user that has all permissions now this isn't a great thing to have available especially in a production cluster you will want to change this right away to do this use the alter user command to set a new password for the cassandra user the internal authenticator uses cassandra tables in the system auth key space to share user credentials across the cluster for this reason it's important that the replication strategy for this key space be configured appropriately for your deployment an example is shown on the slide you'll want multiple replicas of these credentials in each data center in your cluster so that dse will be able to authenticate users even if you have nodes go down or lose connectivity between data centers let's take a quick peek under the hood to see how this works dse stores user and role information in a table called roles in the system auth key space each row in the roles table stores the name of the role the roles that are granted to that role whether the role represents an individual or a true role shared by multiple users a flag indicating whether the role is a super user role and the password the passwords are stored in an encrypted form using a salted hash let's see what this looks like in practice with a few cqlsh commands first we might want to create a role called fred give fred a password and allow him to log in are some other commands that we might want to use to list the available roles or even to delete a role to remove that user or role from the system let's wrap up our discussion of authentication with a couple of best practices at a minimum you should change the default password for the cassandra user another approach you can take is to create another super user account log in as that super user and then delete the default administrator account finally don't forget to set the replication strategy for the system auth key space to something that is appropriate for your cluster topology next let's talk about authorization to give permission to users and roles we use the grant operation in cql the syntax works like this the grant command followed by the operation we're allowing followed by the name of the key space or table we're granting the operation on followed by the user or role name that we are granting this permission to here is a list of the various permissions that we can grant and which operations are implied by each one the permissions that we can grant allow us to do things like create alter modify or delete tables we can also grant permissions that allow us to be able to select insert or update data let's look at some other examples these commands show us the creation of a role called db accessors which is a true role because we have not set login to true we can grant some permissions to the db accessors role and then later we can grant this db accessor's role to users such as fred we can remove permissions from a user or role by using the revoke command let's take a minute and go do an exercise on authentication and authorization you could try it out for yourself don't worry i'll be here when you get back now let's talk a little bit about encryption using secure sockets layer or ssl we may want dse to encrypt data as it is moving around our cluster between clients and nodes from node to node or even as it's stored on disk we're just going to look at some of the basics here as we cover encryption in more detail in ds410 let's look at how sso works first the client requests the certificate second the server sends the certificate back third the client verifies the certificate now normally the client verifies using a certificate authority but in this case it's a self-signed certificate so the client looks in its trust store this is why the certificate of every node must be stored in the trust store of all the other nodes fourth the client generates a symmetric key encrypts the key using the server's public key from the certificate and sends the symmetric key to the server finally in step 5 both machines share the symmetric key so they can use it to communicate securely the purpose of this process is to create two artifacts the cassandra needs a key store containing a signed key pair and a trust store containing a root certificate authority or ca cassandra nodes present the node's signed certificate from the key store to prove they are part of the cluster and nodes will use the trust store to authenticate the presented signed certificates from other nodes first create a root certificate authority the root authority is at the head of the trust chain we will sign all nodes certs with this root authority and we will authorize all incoming connections using the root certificate second on the same machine where you created the ca for each node create a key store with a key pair once signed the node will present the certificate to other nodes for authentication and will use this key to encrypt communications to other nodes third we need to get the node's certificate signed so still on the same machine that has the certificate authority create a signing request for the node's certificates fourth sign all the nodes certificates using the root certificate authority key still on the machine with the ca fifth for each node import the root ca into the key store so that the node's signed certificates can be imported into each node's key store sixth now import each node's signed certificate into its key store as mentioned we can now use this science certificate for authenticating our communications seventh and finally create a trust store containing the root ca cert eight copy the trust store and each node's key store to the node's machine notice that we did all the previous work on a single machine so we would not have to transfer the ca's private key to any other machine here are some best practices for configuring encryption via ssl first you'll want to make sure to take good care of your private keys and your root store certificate authority keys and store them in a secure location next you'll want to secure your network so that nodes can only interact with each other via the listen port finally you'll want to use encryption and authentication in combination make sure that each node is configured to require client authentication so that only clients you approve can get access to encrypted communications",
    "segments": [
      {
        "start": 1.43,
        "duration": 5.33,
        "text": "[Music]"
      },
      {
        "start": 7.2,
        "duration": 3.68,
        "text": "hi this is jeff"
      },
      {
        "start": 8.16,
        "duration": 4.399,
        "text": "carpenter let's talk about how to secure"
      },
      {
        "start": 10.88,
        "duration": 2.48,
        "text": "data stocks enterprise in your"
      },
      {
        "start": 12.559,
        "duration": 3.441,
        "text": "environment"
      },
      {
        "start": 13.36,
        "duration": 4.4,
        "text": "first a couple of disclaimers we all"
      },
      {
        "start": 16.0,
        "duration": 4.0,
        "text": "know that security is a big"
      },
      {
        "start": 17.76,
        "duration": 3.76,
        "text": "topic with a lot of facets in this"
      },
      {
        "start": 20.0,
        "duration": 3.279,
        "text": "section we're going to focus on"
      },
      {
        "start": 21.52,
        "duration": 3.679,
        "text": "the basics like setting up"
      },
      {
        "start": 23.279,
        "duration": 5.121,
        "text": "authentication and authorization"
      },
      {
        "start": 25.199,
        "duration": 5.041,
        "text": "using dse's built-in security for a more"
      },
      {
        "start": 28.4,
        "duration": 2.839,
        "text": "full treatment of security we offer"
      },
      {
        "start": 30.24,
        "duration": 3.76,
        "text": "another course"
      },
      {
        "start": 31.239,
        "duration": 3.961,
        "text": "ds410 that covers everything you need"
      },
      {
        "start": 34.0,
        "duration": 3.2,
        "text": "and best practices"
      },
      {
        "start": 35.2,
        "duration": 3.679,
        "text": "in more detail let's start with"
      },
      {
        "start": 37.2,
        "duration": 2.879,
        "text": "configuring authentication and"
      },
      {
        "start": 38.879,
        "duration": 3.041,
        "text": "authorization"
      },
      {
        "start": 40.079,
        "duration": 3.681,
        "text": "just to define our terms when we say"
      },
      {
        "start": 41.92,
        "duration": 2.56,
        "text": "authentication we're talking about"
      },
      {
        "start": 43.76,
        "duration": 3.04,
        "text": "controlling"
      },
      {
        "start": 44.48,
        "duration": 3.36,
        "text": "who can access our cluster and how we"
      },
      {
        "start": 46.8,
        "duration": 2.8,
        "text": "know who they are"
      },
      {
        "start": 47.84,
        "duration": 4.08,
        "text": "when we talk about authorization we're"
      },
      {
        "start": 49.6,
        "duration": 4.24,
        "text": "referring to what actions those users"
      },
      {
        "start": 51.92,
        "duration": 4.639,
        "text": "are allowed to perform"
      },
      {
        "start": 53.84,
        "duration": 3.359,
        "text": "so let's talk about authentication when"
      },
      {
        "start": 56.559,
        "duration": 3.361,
        "text": "you install"
      },
      {
        "start": 57.199,
        "duration": 3.68,
        "text": "dse out of the box authentication is"
      },
      {
        "start": 59.92,
        "duration": 2.959,
        "text": "disabled"
      },
      {
        "start": 60.879,
        "duration": 4.081,
        "text": "you enable authentication via"
      },
      {
        "start": 62.879,
        "duration": 4.481,
        "text": "configuration files as we'll discuss"
      },
      {
        "start": 64.96,
        "duration": 3.44,
        "text": "in a minute when authentication is"
      },
      {
        "start": 67.36,
        "duration": 4.4,
        "text": "enabled"
      },
      {
        "start": 68.4,
        "duration": 6.16,
        "text": "clients like cqlsh dse tool"
      },
      {
        "start": 71.76,
        "duration": 3.6,
        "text": "or your application must provide"
      },
      {
        "start": 74.56,
        "duration": 4.0,
        "text": "credentials"
      },
      {
        "start": 75.36,
        "duration": 5.2,
        "text": "such as a username and password to dse"
      },
      {
        "start": 78.56,
        "duration": 3.28,
        "text": "cassandra's extensible architecture"
      },
      {
        "start": 80.56,
        "duration": 2.879,
        "text": "allows us to provide"
      },
      {
        "start": 81.84,
        "duration": 3.44,
        "text": "plugable authentication and"
      },
      {
        "start": 83.439,
        "duration": 4.561,
        "text": "authorization mechanisms"
      },
      {
        "start": 85.28,
        "duration": 4.56,
        "text": "dse implements authentication via the"
      },
      {
        "start": 88.0,
        "duration": 4.079,
        "text": "dse authenticator"
      },
      {
        "start": 89.84,
        "duration": 4.239,
        "text": "the dse authenticator provides three"
      },
      {
        "start": 92.079,
        "duration": 3.841,
        "text": "different authentication schemes to meet"
      },
      {
        "start": 94.079,
        "duration": 4.4,
        "text": "the needs of various environments"
      },
      {
        "start": 95.92,
        "duration": 4.72,
        "text": "it can plug into your existing kerberos"
      },
      {
        "start": 98.479,
        "duration": 4.881,
        "text": "or ldap authentication"
      },
      {
        "start": 100.64,
        "duration": 4.88,
        "text": "or there's a built-in authentication"
      },
      {
        "start": 103.36,
        "duration": 4.96,
        "text": "using the internal scheme"
      },
      {
        "start": 105.52,
        "duration": 4.559,
        "text": "this built-in or internal authenticator"
      },
      {
        "start": 108.32,
        "duration": 2.4,
        "text": "is the one that we'll focus on in this"
      },
      {
        "start": 110.079,
        "duration": 3.04,
        "text": "course"
      },
      {
        "start": 110.72,
        "duration": 3.64,
        "text": "we configure the dse authenticator using"
      },
      {
        "start": 113.119,
        "duration": 4.64,
        "text": "options in the"
      },
      {
        "start": 114.36,
        "duration": 5.399,
        "text": "dse.yaml file as shown to the right"
      },
      {
        "start": 117.759,
        "duration": 3.68,
        "text": "here's how to configure authentication"
      },
      {
        "start": 119.759,
        "duration": 4.561,
        "text": "on each node in your cluster"
      },
      {
        "start": 121.439,
        "duration": 4.161,
        "text": "first you'll edit the dse yaml file to"
      },
      {
        "start": 124.32,
        "duration": 4.559,
        "text": "enable authentication"
      },
      {
        "start": 125.6,
        "duration": 5.84,
        "text": "using the desired scheme next restart"
      },
      {
        "start": 128.879,
        "duration": 5.121,
        "text": "the node to enable authentication"
      },
      {
        "start": 131.44,
        "duration": 3.519,
        "text": "then you can log into the node using the"
      },
      {
        "start": 134.0,
        "duration": 4.08,
        "text": "default role"
      },
      {
        "start": 134.959,
        "duration": 5.92,
        "text": "with username cassandra and password"
      },
      {
        "start": 138.08,
        "duration": 4.56,
        "text": "cassandra this default cassandra role is"
      },
      {
        "start": 140.879,
        "duration": 4.641,
        "text": "an administrative role"
      },
      {
        "start": 142.64,
        "duration": 3.76,
        "text": "known as a super user that has all"
      },
      {
        "start": 145.52,
        "duration": 2.799,
        "text": "permissions"
      },
      {
        "start": 146.4,
        "duration": 4.16,
        "text": "now this isn't a great thing to have"
      },
      {
        "start": 148.319,
        "duration": 3.121,
        "text": "available especially in a production"
      },
      {
        "start": 150.56,
        "duration": 3.36,
        "text": "cluster"
      },
      {
        "start": 151.44,
        "duration": 4.159,
        "text": "you will want to change this right away"
      },
      {
        "start": 153.92,
        "duration": 4.16,
        "text": "to do this use the alter"
      },
      {
        "start": 155.599,
        "duration": 4.561,
        "text": "user command to set a new password for"
      },
      {
        "start": 158.08,
        "duration": 3.92,
        "text": "the cassandra user"
      },
      {
        "start": 160.16,
        "duration": 3.04,
        "text": "the internal authenticator uses"
      },
      {
        "start": 162.0,
        "duration": 4.239,
        "text": "cassandra tables"
      },
      {
        "start": 163.2,
        "duration": 5.2,
        "text": "in the system auth key space to share"
      },
      {
        "start": 166.239,
        "duration": 3.841,
        "text": "user credentials across the cluster"
      },
      {
        "start": 168.4,
        "duration": 4.479,
        "text": "for this reason it's important that the"
      },
      {
        "start": 170.08,
        "duration": 5.12,
        "text": "replication strategy for this key space"
      },
      {
        "start": 172.879,
        "duration": 3.36,
        "text": "be configured appropriately for your"
      },
      {
        "start": 175.2,
        "duration": 5.039,
        "text": "deployment"
      },
      {
        "start": 176.239,
        "duration": 4.0,
        "text": "an example is shown on the slide"
      },
      {
        "start": 180.72,
        "duration": 3.28,
        "text": "you'll want multiple replicas of these"
      },
      {
        "start": 182.64,
        "duration": 4.08,
        "text": "credentials in each data"
      },
      {
        "start": 184.0,
        "duration": 4.72,
        "text": "center in your cluster so that dse will"
      },
      {
        "start": 186.72,
        "duration": 4.4,
        "text": "be able to authenticate users"
      },
      {
        "start": 188.72,
        "duration": 5.12,
        "text": "even if you have nodes go down or lose"
      },
      {
        "start": 191.12,
        "duration": 4.8,
        "text": "connectivity between data centers"
      },
      {
        "start": 193.84,
        "duration": 3.36,
        "text": "let's take a quick peek under the hood"
      },
      {
        "start": 195.92,
        "duration": 4.399,
        "text": "to see how this works"
      },
      {
        "start": 197.2,
        "duration": 5.92,
        "text": "dse stores user and role information"
      },
      {
        "start": 200.319,
        "duration": 3.2,
        "text": "in a table called roles in the system"
      },
      {
        "start": 203.12,
        "duration": 3.28,
        "text": "auth"
      },
      {
        "start": 203.519,
        "duration": 4.72,
        "text": "key space each row in the roles table"
      },
      {
        "start": 206.4,
        "duration": 4.32,
        "text": "stores the name of the role"
      },
      {
        "start": 208.239,
        "duration": 3.761,
        "text": "the roles that are granted to that role"
      },
      {
        "start": 210.72,
        "duration": 3.92,
        "text": "whether the role represents"
      },
      {
        "start": 212.0,
        "duration": 4.08,
        "text": "an individual or a true role shared by"
      },
      {
        "start": 214.64,
        "duration": 3.92,
        "text": "multiple users"
      },
      {
        "start": 216.08,
        "duration": 3.92,
        "text": "a flag indicating whether the role is a"
      },
      {
        "start": 218.56,
        "duration": 3.84,
        "text": "super user role"
      },
      {
        "start": 220.0,
        "duration": 4.4,
        "text": "and the password the passwords are"
      },
      {
        "start": 222.4,
        "duration": 5.119,
        "text": "stored in an encrypted form"
      },
      {
        "start": 224.4,
        "duration": 4.559,
        "text": "using a salted hash let's see what this"
      },
      {
        "start": 227.519,
        "duration": 4.8,
        "text": "looks like in practice"
      },
      {
        "start": 228.959,
        "duration": 5.041,
        "text": "with a few cqlsh commands first we might"
      },
      {
        "start": 232.319,
        "duration": 5.2,
        "text": "want to create a role called"
      },
      {
        "start": 234.0,
        "duration": 6.319,
        "text": "fred give fred a password and allow him"
      },
      {
        "start": 237.519,
        "duration": 4.321,
        "text": "to log in are some other commands that"
      },
      {
        "start": 240.319,
        "duration": 5.041,
        "text": "we might want to use"
      },
      {
        "start": 241.84,
        "duration": 6.08,
        "text": "to list the available roles or even to"
      },
      {
        "start": 245.36,
        "duration": 3.12,
        "text": "delete a role to remove that user or"
      },
      {
        "start": 247.92,
        "duration": 3.679,
        "text": "role"
      },
      {
        "start": 248.48,
        "duration": 5.2,
        "text": "from the system let's"
      },
      {
        "start": 251.599,
        "duration": 3.041,
        "text": "wrap up our discussion of authentication"
      },
      {
        "start": 253.68,
        "duration": 4.16,
        "text": "with a couple of"
      },
      {
        "start": 254.64,
        "duration": 4.879,
        "text": "best practices at a minimum you should"
      },
      {
        "start": 257.84,
        "duration": 2.959,
        "text": "change the default password for the"
      },
      {
        "start": 259.519,
        "duration": 3.361,
        "text": "cassandra user"
      },
      {
        "start": 260.799,
        "duration": 4.4,
        "text": "another approach you can take is to"
      },
      {
        "start": 262.88,
        "duration": 4.8,
        "text": "create another super user account"
      },
      {
        "start": 265.199,
        "duration": 6.081,
        "text": "log in as that super user and then"
      },
      {
        "start": 267.68,
        "duration": 5.44,
        "text": "delete the default administrator account"
      },
      {
        "start": 271.28,
        "duration": 4.4,
        "text": "finally don't forget to set the"
      },
      {
        "start": 273.12,
        "duration": 4.079,
        "text": "replication strategy for the system auth"
      },
      {
        "start": 275.68,
        "duration": 5.68,
        "text": "key space to something that is"
      },
      {
        "start": 277.199,
        "duration": 7.28,
        "text": "appropriate for your cluster topology"
      },
      {
        "start": 281.36,
        "duration": 5.6,
        "text": "next let's talk about authorization to"
      },
      {
        "start": 284.479,
        "duration": 5.681,
        "text": "give permission to users and roles"
      },
      {
        "start": 286.96,
        "duration": 6.48,
        "text": "we use the grant operation in cql"
      },
      {
        "start": 290.16,
        "duration": 4.16,
        "text": "the syntax works like this the grant"
      },
      {
        "start": 293.44,
        "duration": 3.6,
        "text": "command"
      },
      {
        "start": 294.32,
        "duration": 3.439,
        "text": "followed by the operation we're allowing"
      },
      {
        "start": 297.04,
        "duration": 3.12,
        "text": "followed by"
      },
      {
        "start": 297.759,
        "duration": 4.321,
        "text": "the name of the key space or table we're"
      },
      {
        "start": 300.16,
        "duration": 4.4,
        "text": "granting the operation on"
      },
      {
        "start": 302.08,
        "duration": 5.679,
        "text": "followed by the user or role name that"
      },
      {
        "start": 304.56,
        "duration": 4.639,
        "text": "we are granting this permission to"
      },
      {
        "start": 307.759,
        "duration": 3.201,
        "text": "here is a list of the various"
      },
      {
        "start": 309.199,
        "duration": 4.641,
        "text": "permissions that we can grant"
      },
      {
        "start": 310.96,
        "duration": 3.519,
        "text": "and which operations are implied by each"
      },
      {
        "start": 313.84,
        "duration": 2.56,
        "text": "one"
      },
      {
        "start": 314.479,
        "duration": 3.681,
        "text": "the permissions that we can grant allow"
      },
      {
        "start": 316.4,
        "duration": 5.2,
        "text": "us to do things like"
      },
      {
        "start": 318.16,
        "duration": 5.68,
        "text": "create alter modify or delete"
      },
      {
        "start": 321.6,
        "duration": 5.039,
        "text": "tables we can also grant permissions"
      },
      {
        "start": 323.84,
        "duration": 6.079,
        "text": "that allow us to be able to select"
      },
      {
        "start": 326.639,
        "duration": 5.041,
        "text": "insert or update data let's look at some"
      },
      {
        "start": 329.919,
        "duration": 4.081,
        "text": "other examples"
      },
      {
        "start": 331.68,
        "duration": 3.28,
        "text": "these commands show us the creation of a"
      },
      {
        "start": 334.0,
        "duration": 4.24,
        "text": "role called"
      },
      {
        "start": 334.96,
        "duration": 6.239,
        "text": "db accessors which is a true role"
      },
      {
        "start": 338.24,
        "duration": 4.399,
        "text": "because we have not set login to true we"
      },
      {
        "start": 341.199,
        "duration": 4.641,
        "text": "can grant some permissions"
      },
      {
        "start": 342.639,
        "duration": 5.521,
        "text": "to the db accessors role and then later"
      },
      {
        "start": 345.84,
        "duration": 5.199,
        "text": "we can grant this db accessor's role to"
      },
      {
        "start": 348.16,
        "duration": 5.36,
        "text": "users such as fred"
      },
      {
        "start": 351.039,
        "duration": 3.6,
        "text": "we can remove permissions from a user or"
      },
      {
        "start": 353.52,
        "duration": 4.959,
        "text": "role by using"
      },
      {
        "start": 354.639,
        "duration": 4.641,
        "text": "the revoke command let's take a minute"
      },
      {
        "start": 358.479,
        "duration": 2.881,
        "text": "and go do an"
      },
      {
        "start": 359.28,
        "duration": 3.919,
        "text": "exercise on authentication and"
      },
      {
        "start": 361.36,
        "duration": 2.72,
        "text": "authorization you could try it out for"
      },
      {
        "start": 363.199,
        "duration": 2.401,
        "text": "yourself"
      },
      {
        "start": 364.08,
        "duration": 4.239,
        "text": "don't worry i'll be here when you get"
      },
      {
        "start": 365.6,
        "duration": 5.439,
        "text": "back now let's talk a little bit"
      },
      {
        "start": 368.319,
        "duration": 3.521,
        "text": "about encryption using secure sockets"
      },
      {
        "start": 371.039,
        "duration": 4.081,
        "text": "layer or"
      },
      {
        "start": 371.84,
        "duration": 5.04,
        "text": "ssl we may want dse to encrypt data as"
      },
      {
        "start": 375.12,
        "duration": 4.16,
        "text": "it is moving around our cluster"
      },
      {
        "start": 376.88,
        "duration": 3.12,
        "text": "between clients and nodes from node to"
      },
      {
        "start": 379.28,
        "duration": 3.12,
        "text": "node or"
      },
      {
        "start": 380.0,
        "duration": 4.08,
        "text": "even as it's stored on disk we're just"
      },
      {
        "start": 382.4,
        "duration": 2.96,
        "text": "going to look at some of the basics here"
      },
      {
        "start": 384.08,
        "duration": 4.32,
        "text": "as we cover encryption"
      },
      {
        "start": 385.36,
        "duration": 6.0,
        "text": "in more detail in ds410"
      },
      {
        "start": 388.4,
        "duration": 3.44,
        "text": "let's look at how sso works first the"
      },
      {
        "start": 391.36,
        "duration": 2.959,
        "text": "client"
      },
      {
        "start": 391.84,
        "duration": 3.04,
        "text": "requests the certificate second the"
      },
      {
        "start": 394.319,
        "duration": 2.801,
        "text": "server"
      },
      {
        "start": 394.88,
        "duration": 4.8,
        "text": "sends the certificate back third the"
      },
      {
        "start": 397.12,
        "duration": 5.04,
        "text": "client verifies the certificate"
      },
      {
        "start": 399.68,
        "duration": 3.2,
        "text": "now normally the client verifies using a"
      },
      {
        "start": 402.16,
        "duration": 3.039,
        "text": "certificate"
      },
      {
        "start": 402.88,
        "duration": 4.159,
        "text": "authority but in this case it's a"
      },
      {
        "start": 405.199,
        "duration": 2.801,
        "text": "self-signed certificate so the client"
      },
      {
        "start": 407.039,
        "duration": 2.88,
        "text": "looks in its trust"
      },
      {
        "start": 408.0,
        "duration": 4.08,
        "text": "store this is why the certificate of"
      },
      {
        "start": 409.919,
        "duration": 4.481,
        "text": "every node must be stored in the trust"
      },
      {
        "start": 412.08,
        "duration": 4.959,
        "text": "store of all the other nodes"
      },
      {
        "start": 414.4,
        "duration": 3.28,
        "text": "fourth the client generates a symmetric"
      },
      {
        "start": 417.039,
        "duration": 2.801,
        "text": "key"
      },
      {
        "start": 417.68,
        "duration": 4.48,
        "text": "encrypts the key using the server's"
      },
      {
        "start": 419.84,
        "duration": 5.199,
        "text": "public key from the certificate and"
      },
      {
        "start": 422.16,
        "duration": 4.0,
        "text": "sends the symmetric key to the server"
      },
      {
        "start": 425.039,
        "duration": 4.321,
        "text": "finally in step"
      },
      {
        "start": 426.16,
        "duration": 5.2,
        "text": "5 both machines share the symmetric key"
      },
      {
        "start": 429.36,
        "duration": 3.36,
        "text": "so they can use it to communicate"
      },
      {
        "start": 431.36,
        "duration": 3.76,
        "text": "securely"
      },
      {
        "start": 432.72,
        "duration": 3.28,
        "text": "the purpose of this process is to create"
      },
      {
        "start": 435.12,
        "duration": 3.44,
        "text": "two artifacts"
      },
      {
        "start": 436.0,
        "duration": 4.8,
        "text": "the cassandra needs a key store"
      },
      {
        "start": 438.56,
        "duration": 4.4,
        "text": "containing a signed key pair"
      },
      {
        "start": 440.8,
        "duration": 3.679,
        "text": "and a trust store containing a root"
      },
      {
        "start": 442.96,
        "duration": 4.56,
        "text": "certificate authority or"
      },
      {
        "start": 444.479,
        "duration": 5.681,
        "text": "ca cassandra nodes present the node's"
      },
      {
        "start": 447.52,
        "duration": 3.119,
        "text": "signed certificate from the key store to"
      },
      {
        "start": 450.16,
        "duration": 2.8,
        "text": "prove"
      },
      {
        "start": 450.639,
        "duration": 3.84,
        "text": "they are part of the cluster and nodes"
      },
      {
        "start": 452.96,
        "duration": 3.92,
        "text": "will use the trust store"
      },
      {
        "start": 454.479,
        "duration": 4.401,
        "text": "to authenticate the presented signed"
      },
      {
        "start": 456.88,
        "duration": 4.0,
        "text": "certificates from other nodes"
      },
      {
        "start": 458.88,
        "duration": 4.319,
        "text": "first create a root certificate"
      },
      {
        "start": 460.88,
        "duration": 4.24,
        "text": "authority the root authority is at the"
      },
      {
        "start": 463.199,
        "duration": 4.801,
        "text": "head of the trust chain"
      },
      {
        "start": 465.12,
        "duration": 3.919,
        "text": "we will sign all nodes certs with this"
      },
      {
        "start": 468.0,
        "duration": 2.8,
        "text": "root authority"
      },
      {
        "start": 469.039,
        "duration": 3.28,
        "text": "and we will authorize all incoming"
      },
      {
        "start": 470.8,
        "duration": 4.48,
        "text": "connections using"
      },
      {
        "start": 472.319,
        "duration": 5.121,
        "text": "the root certificate second on the same"
      },
      {
        "start": 475.28,
        "duration": 4.56,
        "text": "machine where you created the ca"
      },
      {
        "start": 477.44,
        "duration": 3.439,
        "text": "for each node create a key store with a"
      },
      {
        "start": 479.84,
        "duration": 3.199,
        "text": "key pair"
      },
      {
        "start": 480.879,
        "duration": 3.841,
        "text": "once signed the node will present the"
      },
      {
        "start": 483.039,
        "duration": 2.961,
        "text": "certificate to other nodes for"
      },
      {
        "start": 484.72,
        "duration": 3.599,
        "text": "authentication"
      },
      {
        "start": 486.0,
        "duration": 4.319,
        "text": "and will use this key to encrypt"
      },
      {
        "start": 488.319,
        "duration": 4.0,
        "text": "communications to other nodes"
      },
      {
        "start": 490.319,
        "duration": 3.6,
        "text": "third we need to get the node's"
      },
      {
        "start": 492.319,
        "duration": 4.32,
        "text": "certificate signed"
      },
      {
        "start": 493.919,
        "duration": 4.56,
        "text": "so still on the same machine that has"
      },
      {
        "start": 496.639,
        "duration": 3.921,
        "text": "the certificate authority"
      },
      {
        "start": 498.479,
        "duration": 3.28,
        "text": "create a signing request for the node's"
      },
      {
        "start": 500.56,
        "duration": 3.919,
        "text": "certificates"
      },
      {
        "start": 501.759,
        "duration": 5.601,
        "text": "fourth sign all the nodes certificates"
      },
      {
        "start": 504.479,
        "duration": 6.081,
        "text": "using the root certificate authority key"
      },
      {
        "start": 507.36,
        "duration": 6.32,
        "text": "still on the machine with the ca fifth"
      },
      {
        "start": 510.56,
        "duration": 4.08,
        "text": "for each node import the root ca into"
      },
      {
        "start": 513.68,
        "duration": 3.76,
        "text": "the key store"
      },
      {
        "start": 514.64,
        "duration": 3.839,
        "text": "so that the node's signed certificates"
      },
      {
        "start": 517.44,
        "duration": 4.399,
        "text": "can be imported"
      },
      {
        "start": 518.479,
        "duration": 6.001,
        "text": "into each node's key store sixth now"
      },
      {
        "start": 521.839,
        "duration": 3.281,
        "text": "import each node's signed certificate"
      },
      {
        "start": 524.48,
        "duration": 3.76,
        "text": "into"
      },
      {
        "start": 525.12,
        "duration": 5.36,
        "text": "its key store as mentioned we can now"
      },
      {
        "start": 528.24,
        "duration": 4.56,
        "text": "use this science certificate for"
      },
      {
        "start": 530.48,
        "duration": 5.44,
        "text": "authenticating our communications"
      },
      {
        "start": 532.8,
        "duration": 4.88,
        "text": "seventh and finally create a trust store"
      },
      {
        "start": 535.92,
        "duration": 4.72,
        "text": "containing the root ca"
      },
      {
        "start": 537.68,
        "duration": 4.159,
        "text": "cert eight copy the trust store and each"
      },
      {
        "start": 540.64,
        "duration": 4.48,
        "text": "node's key store"
      },
      {
        "start": 541.839,
        "duration": 5.041,
        "text": "to the node's machine notice that we did"
      },
      {
        "start": 545.12,
        "duration": 3.92,
        "text": "all the previous work on a single"
      },
      {
        "start": 546.88,
        "duration": 3.92,
        "text": "machine so we would not have to transfer"
      },
      {
        "start": 549.04,
        "duration": 4.4,
        "text": "the ca's private key"
      },
      {
        "start": 550.8,
        "duration": 3.36,
        "text": "to any other machine here are some best"
      },
      {
        "start": 553.44,
        "duration": 4.0,
        "text": "practices"
      },
      {
        "start": 554.16,
        "duration": 5.04,
        "text": "for configuring encryption via ssl first"
      },
      {
        "start": 557.44,
        "duration": 3.2,
        "text": "you'll want to make sure to take good"
      },
      {
        "start": 559.2,
        "duration": 3.04,
        "text": "care of your private keys"
      },
      {
        "start": 560.64,
        "duration": 4.0,
        "text": "and your root store certificate"
      },
      {
        "start": 562.24,
        "duration": 3.599,
        "text": "authority keys and store them in a"
      },
      {
        "start": 564.64,
        "duration": 3.92,
        "text": "secure location"
      },
      {
        "start": 565.839,
        "duration": 4.56,
        "text": "next you'll want to secure your network"
      },
      {
        "start": 568.56,
        "duration": 2.64,
        "text": "so that nodes can only interact with"
      },
      {
        "start": 570.399,
        "duration": 3.761,
        "text": "each other"
      },
      {
        "start": 571.2,
        "duration": 4.48,
        "text": "via the listen port finally you'll want"
      },
      {
        "start": 574.16,
        "duration": 4.48,
        "text": "to use encryption"
      },
      {
        "start": 575.68,
        "duration": 4.64,
        "text": "and authentication in combination make"
      },
      {
        "start": 578.64,
        "duration": 2.4,
        "text": "sure that each node is configured to"
      },
      {
        "start": 580.32,
        "duration": 2.88,
        "text": "require"
      },
      {
        "start": 581.04,
        "duration": 3.44,
        "text": "client authentication so that only"
      },
      {
        "start": 583.2,
        "duration": 4.8,
        "text": "clients you approve"
      },
      {
        "start": 584.48,
        "duration": 3.52,
        "text": "can get access to encrypted"
      },
      {
        "start": 588.839,
        "duration": 3.0,
        "text": "communications"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T01:10:15.977475+00:00"
}