{
  "video_id": "GUm_OZY0j8k",
  "title": "DS310.19 Faceting | DataStax Enterprise 6 Search",
  "description": "#DataStaxAcademy #DS310\nDS310.19 Faceting\nFaceting is a powerful feature supported by DSE Search. This involves providing some metadata about our search results, in conjunction with the results themselves.\n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-15T20:52:40Z",
  "thumbnail": "https://i.ytimg.com/vi/GUm_OZY0j8k/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "cassandra",
    "search",
    "tutorial",
    "apache_cassandra",
    "dse",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=GUm_OZY0j8k",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] fastening is a really powerful feature supported by dsu search even if you've never heard the term fascinating before you've almost certainly used fastening if you've ever shopped online fastening involves providing some metadata about our search results in conjunction with the results themselves for example if using the killer video website a user searches for movies with the term alien in their title it can be very valuable to that user to get a list of genres contained in those results using these facets the user can query again using a more narrowly scoped search which ultimately helps them get to the most relevant results more quickly dse search provides a mechanism to let us do this let's check it out faceted results can be calculated quickly since they can be built solely from the index any kind of faceting we do returns buckets and counts that summarize the search results there are several types of faceting available they differ in the way that they distribute the results into those buckets let's explore the different types and get a sense of when each one can help us the most common type of faceting is field fastening here's how it works the specified search query is executed against the killer video video search index but since fastening was requested dsc search doesn't return the video records themselves instead it calculates facets based on the video records genres is the field by which we want to group and the results are organized into groups based on the values they have for the genres field query faceting operates similarly to field faceting but instead of organizing the facets strictly by the field values it organizes them by the results of one or more query expressions range faceting organizes its facets according to a given field and ranges of that field's values interval fastening is similar to range faceting in that it organizes facets according to a given field but it allows more flexibility and how the ranges are specified finally pivot fastening organizes facets according to multiple fields and the various combinations of those fields values regardless of which type of faceting is run the faceted results are returned in a single json object but the structure of the json object varies based on what type of fastening was specified earlier we talked about the fact that fastening is only supported on fields under two conditions when the field has dock values enabled in its index schema or when the field cache is enabled for the query when doc values is enabled in the index schema dsc search keeps a separate index structure that is highly efficient for reading out the values for fastening the performance of the structure stays consistent even when the size of the index or the size of the result set is very large similar to a sorting example we examined earlier it is possible to get some strange fascinating results when fascinating occurs against a field that is tokenized in this example we see odd facet values like adventure with the trailing e missing and we see science and fiction under separate facets this is a situation to watch out for since no error is thrown so we won't be able to detect it by monitoring our application's error logs like our sorting example earlier the way to address this situation is to use a copy field so that you can have a tokenized version and a non-tokenized version which can be faceted against let's talk about how we specify our faceting options using json notation before we jump into the facet parameter let me just call out the fact that the q parameter is required for faceting operations and don't forget that the select clause is ignored for fastening requests since we don't return any field values anyway for basic field faceting we need to specify the field by which to facet in this case we're faceting by the genres field the json output of field fastening is a map made up of the field values and their respective counts to specify query faceting options we need to use the query parameter and we need to specify at least one query that should be run the json fastening output is a collection of maps keyed by our queries and result counts to specify query fastening options we need to use the query parameter and we need to specify at least one query that should be run the json faceting output is a collection of maps keyed by our queries and result counts it's common in query faceting to pass more than one query to do so we pass an array of queries the output contains counts for all the queries we requested sometimes we want to bucket our results based on a numeric or date field that has non-discrete values instead of returning a bucket for each distinct value in these cases it makes sense to bucket into ranges this is where range faceting comes into play we need to specify a few more parameters to make range fastening work in addition to the field we're grouping on we also need to provide the upper and lower bounds of our data values and we need to specify the interval between ranges if we're creating facets based on multiple fields we have to use a slightly more verbose syntax here's an example we're wanting to bucket based on the average rating field then we want to see buckets for values between 5 and 7 in increments of 0.5 in our fastening output we get four buckets back based on ranges of five five and a half six and six and a half we can bucket by multiple fields in the same request to do so we specify our fields in an array and then specify our upper bounds lower bounds and interval between ranges per field the fastening output returned would show the buckets for average rating and then the buckets for release year here is an example using a date field instead of a numeric field notice the format of the start and the end values and notice the plus one month syntax used to specify the interval between ranges the faceting output is similar to what we saw with numeric fields but the buckets are keyed by dates interval fastening is another way we can customize our buckets beyond the strict lines of field faceting in interval faceting we explicitly indicate the bounds of each of our intervals we use solar's range syntax to specify the lower and upper bound values square brackets for inclusive limits and parentheses for exclusive limits those can be mixed and matched we'll see an example of that here in a second several fields can be specified at once and of course multiple intervals can be specified in this example we're asking dsc search to facet by the genres field and we're specifying two intervals one that starts at a and goes through b but not including b so what we're really saying here is any value that starts with a and the other is values that start with the letter t or higher our results come back as a map whose key is the interval we specified and whose value is the count of results finally pivot fastening is very similar to field fastening but instead of specifying a single field we specify multiple fields using the pivot parameter what we'll get in return is a multi-level hierarchy of all the values across the specified fields as you can imagine for fields with many values these results can be large so be careful about doing this across too many fields or fields with too many values since the results will grow exponentially and can cause some resource contention the output of pivot fastening can be a lot of data here we're looking at a paired down version of some output to give you a sense of it you can see that we have counts first by the genre value and then the results are further broken down by release year we get counts at every level there are a few fascinating parameters we can pass that help us control our output one such parameter is min count min count lets us specify the minimum threshold of count values that we want to see in our groupings for example it's common to want to filter out any groupings that have zero results in them which is a possibility due to the way that doc values structure works but you can also filter out groups based on some higher threshold this is a handy feature and can cut down on the volume of results that we get in our fastening output the limit parameter lets us specify how many groups that will be returned by default the value is 100 but we can ask for more or less by changing this parameter",
    "segments": [
      {
        "start": 2.11,
        "duration": 3.169,
        "text": "[Music]"
      },
      {
        "start": 3.52,
        "duration": 3.52,
        "text": "fastening is a really powerful feature"
      },
      {
        "start": 5.279,
        "duration": 2.961,
        "text": "supported by dsu search"
      },
      {
        "start": 7.04,
        "duration": 2.479,
        "text": "even if you've never heard the term"
      },
      {
        "start": 8.24,
        "duration": 3.12,
        "text": "fascinating before you've almost"
      },
      {
        "start": 9.519,
        "duration": 2.801,
        "text": "certainly used fastening if you've ever"
      },
      {
        "start": 11.36,
        "duration": 2.399,
        "text": "shopped online"
      },
      {
        "start": 12.32,
        "duration": 3.439,
        "text": "fastening involves providing some"
      },
      {
        "start": 13.759,
        "duration": 3.28,
        "text": "metadata about our search results"
      },
      {
        "start": 15.759,
        "duration": 3.68,
        "text": "in conjunction with the results"
      },
      {
        "start": 17.039,
        "duration": 4.881,
        "text": "themselves for example"
      },
      {
        "start": 19.439,
        "duration": 4.401,
        "text": "if using the killer video website a user"
      },
      {
        "start": 21.92,
        "duration": 2.96,
        "text": "searches for movies with the term alien"
      },
      {
        "start": 23.84,
        "duration": 2.96,
        "text": "in their title"
      },
      {
        "start": 24.88,
        "duration": 3.52,
        "text": "it can be very valuable to that user to"
      },
      {
        "start": 26.8,
        "duration": 2.399,
        "text": "get a list of genres contained in those"
      },
      {
        "start": 28.4,
        "duration": 2.959,
        "text": "results"
      },
      {
        "start": 29.199,
        "duration": 4.161,
        "text": "using these facets the user can query"
      },
      {
        "start": 31.359,
        "duration": 2.561,
        "text": "again using a more narrowly scoped"
      },
      {
        "start": 33.36,
        "duration": 2.16,
        "text": "search"
      },
      {
        "start": 33.92,
        "duration": 3.6,
        "text": "which ultimately helps them get to the"
      },
      {
        "start": 35.52,
        "duration": 3.76,
        "text": "most relevant results more quickly dse"
      },
      {
        "start": 37.52,
        "duration": 2.16,
        "text": "search provides a mechanism to let us do"
      },
      {
        "start": 39.28,
        "duration": 2.64,
        "text": "this"
      },
      {
        "start": 39.68,
        "duration": 4.24,
        "text": "let's check it out faceted results can"
      },
      {
        "start": 41.92,
        "duration": 3.52,
        "text": "be calculated quickly since they can be"
      },
      {
        "start": 43.92,
        "duration": 3.36,
        "text": "built solely from the index"
      },
      {
        "start": 45.44,
        "duration": 3.84,
        "text": "any kind of faceting we do returns"
      },
      {
        "start": 47.28,
        "duration": 2.88,
        "text": "buckets and counts that summarize the"
      },
      {
        "start": 49.28,
        "duration": 2.32,
        "text": "search results"
      },
      {
        "start": 50.16,
        "duration": 3.36,
        "text": "there are several types of faceting"
      },
      {
        "start": 51.6,
        "duration": 3.439,
        "text": "available they differ in the way that"
      },
      {
        "start": 53.52,
        "duration": 2.879,
        "text": "they distribute the results into those"
      },
      {
        "start": 55.039,
        "duration": 3.04,
        "text": "buckets let's explore the different"
      },
      {
        "start": 56.399,
        "duration": 2.48,
        "text": "types and get a sense of when each one"
      },
      {
        "start": 58.079,
        "duration": 2.48,
        "text": "can help us"
      },
      {
        "start": 58.879,
        "duration": 4.081,
        "text": "the most common type of faceting is"
      },
      {
        "start": 60.559,
        "duration": 4.401,
        "text": "field fastening here's how it works the"
      },
      {
        "start": 62.96,
        "duration": 3.6,
        "text": "specified search query is executed"
      },
      {
        "start": 64.96,
        "duration": 3.68,
        "text": "against the killer video video"
      },
      {
        "start": 66.56,
        "duration": 3.04,
        "text": "search index but since fastening was"
      },
      {
        "start": 68.64,
        "duration": 2.799,
        "text": "requested"
      },
      {
        "start": 69.6,
        "duration": 3.199,
        "text": "dsc search doesn't return the video"
      },
      {
        "start": 71.439,
        "duration": 3.841,
        "text": "records themselves"
      },
      {
        "start": 72.799,
        "duration": 3.68,
        "text": "instead it calculates facets based on"
      },
      {
        "start": 75.28,
        "duration": 3.199,
        "text": "the video records"
      },
      {
        "start": 76.479,
        "duration": 4.161,
        "text": "genres is the field by which we want to"
      },
      {
        "start": 78.479,
        "duration": 4.0,
        "text": "group and the results are organized into"
      },
      {
        "start": 80.64,
        "duration": 3.119,
        "text": "groups based on the values they have for"
      },
      {
        "start": 82.479,
        "duration": 3.601,
        "text": "the genres field"
      },
      {
        "start": 83.759,
        "duration": 3.601,
        "text": "query faceting operates similarly to"
      },
      {
        "start": 86.08,
        "duration": 3.359,
        "text": "field faceting"
      },
      {
        "start": 87.36,
        "duration": 4.079,
        "text": "but instead of organizing the facets"
      },
      {
        "start": 89.439,
        "duration": 4.0,
        "text": "strictly by the field values"
      },
      {
        "start": 91.439,
        "duration": 3.68,
        "text": "it organizes them by the results of one"
      },
      {
        "start": 93.439,
        "duration": 4.0,
        "text": "or more query expressions"
      },
      {
        "start": 95.119,
        "duration": 4.64,
        "text": "range faceting organizes its facets"
      },
      {
        "start": 97.439,
        "duration": 3.761,
        "text": "according to a given field and ranges of"
      },
      {
        "start": 99.759,
        "duration": 3.761,
        "text": "that field's values"
      },
      {
        "start": 101.2,
        "duration": 3.199,
        "text": "interval fastening is similar to range"
      },
      {
        "start": 103.52,
        "duration": 2.959,
        "text": "faceting"
      },
      {
        "start": 104.399,
        "duration": 3.441,
        "text": "in that it organizes facets according to"
      },
      {
        "start": 106.479,
        "duration": 3.361,
        "text": "a given field"
      },
      {
        "start": 107.84,
        "duration": 3.68,
        "text": "but it allows more flexibility and how"
      },
      {
        "start": 109.84,
        "duration": 4.4,
        "text": "the ranges are specified"
      },
      {
        "start": 111.52,
        "duration": 4.4,
        "text": "finally pivot fastening organizes facets"
      },
      {
        "start": 114.24,
        "duration": 3.44,
        "text": "according to multiple fields and the"
      },
      {
        "start": 115.92,
        "duration": 2.559,
        "text": "various combinations of those fields"
      },
      {
        "start": 117.68,
        "duration": 2.719,
        "text": "values"
      },
      {
        "start": 118.479,
        "duration": 4.401,
        "text": "regardless of which type of faceting is"
      },
      {
        "start": 120.399,
        "duration": 4.241,
        "text": "run the faceted results are returned in"
      },
      {
        "start": 122.88,
        "duration": 3.519,
        "text": "a single json object"
      },
      {
        "start": 124.64,
        "duration": 3.52,
        "text": "but the structure of the json object"
      },
      {
        "start": 126.399,
        "duration": 2.881,
        "text": "varies based on what type of fastening"
      },
      {
        "start": 128.16,
        "duration": 2.64,
        "text": "was specified"
      },
      {
        "start": 129.28,
        "duration": 3.52,
        "text": "earlier we talked about the fact that"
      },
      {
        "start": 130.8,
        "duration": 3.519,
        "text": "fastening is only supported on fields"
      },
      {
        "start": 132.8,
        "duration": 3.28,
        "text": "under two conditions"
      },
      {
        "start": 134.319,
        "duration": 3.121,
        "text": "when the field has dock values enabled"
      },
      {
        "start": 136.08,
        "duration": 3.84,
        "text": "in its index schema"
      },
      {
        "start": 137.44,
        "duration": 3.2,
        "text": "or when the field cache is enabled for"
      },
      {
        "start": 139.92,
        "duration": 2.56,
        "text": "the query"
      },
      {
        "start": 140.64,
        "duration": 3.52,
        "text": "when doc values is enabled in the index"
      },
      {
        "start": 142.48,
        "duration": 3.44,
        "text": "schema dsc search"
      },
      {
        "start": 144.16,
        "duration": 3.28,
        "text": "keeps a separate index structure that is"
      },
      {
        "start": 145.92,
        "duration": 2.64,
        "text": "highly efficient for reading out the"
      },
      {
        "start": 147.44,
        "duration": 2.72,
        "text": "values for fastening"
      },
      {
        "start": 148.56,
        "duration": 3.44,
        "text": "the performance of the structure stays"
      },
      {
        "start": 150.16,
        "duration": 3.84,
        "text": "consistent even when the size of the"
      },
      {
        "start": 152.0,
        "duration": 2.959,
        "text": "index or the size of the result set is"
      },
      {
        "start": 154.0,
        "duration": 3.04,
        "text": "very large"
      },
      {
        "start": 154.959,
        "duration": 4.0,
        "text": "similar to a sorting example we examined"
      },
      {
        "start": 157.04,
        "duration": 3.52,
        "text": "earlier it is possible to get some"
      },
      {
        "start": 158.959,
        "duration": 3.28,
        "text": "strange fascinating results when"
      },
      {
        "start": 160.56,
        "duration": 2.64,
        "text": "fascinating occurs against a field that"
      },
      {
        "start": 162.239,
        "duration": 3.521,
        "text": "is tokenized"
      },
      {
        "start": 163.2,
        "duration": 4.319,
        "text": "in this example we see odd facet values"
      },
      {
        "start": 165.76,
        "duration": 2.479,
        "text": "like adventure with the trailing e"
      },
      {
        "start": 167.519,
        "duration": 3.201,
        "text": "missing"
      },
      {
        "start": 168.239,
        "duration": 3.601,
        "text": "and we see science and fiction under"
      },
      {
        "start": 170.72,
        "duration": 3.04,
        "text": "separate facets"
      },
      {
        "start": 171.84,
        "duration": 3.679,
        "text": "this is a situation to watch out for"
      },
      {
        "start": 173.76,
        "duration": 3.92,
        "text": "since no error is thrown"
      },
      {
        "start": 175.519,
        "duration": 4.401,
        "text": "so we won't be able to detect it by"
      },
      {
        "start": 177.68,
        "duration": 4.559,
        "text": "monitoring our application's error logs"
      },
      {
        "start": 179.92,
        "duration": 4.239,
        "text": "like our sorting example earlier the way"
      },
      {
        "start": 182.239,
        "duration": 2.72,
        "text": "to address this situation is to use a"
      },
      {
        "start": 184.159,
        "duration": 2.961,
        "text": "copy field"
      },
      {
        "start": 184.959,
        "duration": 3.761,
        "text": "so that you can have a tokenized version"
      },
      {
        "start": 187.12,
        "duration": 3.759,
        "text": "and a non-tokenized version"
      },
      {
        "start": 188.72,
        "duration": 3.92,
        "text": "which can be faceted against let's talk"
      },
      {
        "start": 190.879,
        "duration": 2.321,
        "text": "about how we specify our faceting"
      },
      {
        "start": 192.64,
        "duration": 2.8,
        "text": "options"
      },
      {
        "start": 193.2,
        "duration": 4.0,
        "text": "using json notation before we jump into"
      },
      {
        "start": 195.44,
        "duration": 3.439,
        "text": "the facet parameter let me just call out"
      },
      {
        "start": 197.2,
        "duration": 4.399,
        "text": "the fact that the q parameter"
      },
      {
        "start": 198.879,
        "duration": 4.401,
        "text": "is required for faceting operations and"
      },
      {
        "start": 201.599,
        "duration": 3.441,
        "text": "don't forget that the select clause is"
      },
      {
        "start": 203.28,
        "duration": 3.519,
        "text": "ignored for fastening requests"
      },
      {
        "start": 205.04,
        "duration": 4.24,
        "text": "since we don't return any field values"
      },
      {
        "start": 206.799,
        "duration": 5.201,
        "text": "anyway for basic field faceting we need"
      },
      {
        "start": 209.28,
        "duration": 4.319,
        "text": "to specify the field by which to facet"
      },
      {
        "start": 212.0,
        "duration": 4.159,
        "text": "in this case we're faceting by the"
      },
      {
        "start": 213.599,
        "duration": 3.2,
        "text": "genres field the json output of field"
      },
      {
        "start": 216.159,
        "duration": 2.961,
        "text": "fastening"
      },
      {
        "start": 216.799,
        "duration": 3.601,
        "text": "is a map made up of the field values and"
      },
      {
        "start": 219.12,
        "duration": 3.92,
        "text": "their respective counts"
      },
      {
        "start": 220.4,
        "duration": 4.64,
        "text": "to specify query faceting options we"
      },
      {
        "start": 223.04,
        "duration": 3.6,
        "text": "need to use the query parameter"
      },
      {
        "start": 225.04,
        "duration": 3.44,
        "text": "and we need to specify at least one"
      },
      {
        "start": 226.64,
        "duration": 2.959,
        "text": "query that should be run the json"
      },
      {
        "start": 228.48,
        "duration": 3.039,
        "text": "fastening output"
      },
      {
        "start": 229.599,
        "duration": 3.681,
        "text": "is a collection of maps keyed by our"
      },
      {
        "start": 231.519,
        "duration": 3.92,
        "text": "queries and result counts"
      },
      {
        "start": 233.28,
        "duration": 3.84,
        "text": "to specify query fastening options we"
      },
      {
        "start": 235.439,
        "duration": 3.36,
        "text": "need to use the query parameter"
      },
      {
        "start": 237.12,
        "duration": 3.44,
        "text": "and we need to specify at least one"
      },
      {
        "start": 238.799,
        "duration": 4.401,
        "text": "query that should be run the json"
      },
      {
        "start": 240.56,
        "duration": 4.879,
        "text": "faceting output is a collection of maps"
      },
      {
        "start": 243.2,
        "duration": 3.92,
        "text": "keyed by our queries and result counts"
      },
      {
        "start": 245.439,
        "duration": 3.201,
        "text": "it's common in query faceting to pass"
      },
      {
        "start": 247.12,
        "duration": 4.08,
        "text": "more than one query"
      },
      {
        "start": 248.64,
        "duration": 4.159,
        "text": "to do so we pass an array of queries the"
      },
      {
        "start": 251.2,
        "duration": 2.8,
        "text": "output contains counts for all the"
      },
      {
        "start": 252.799,
        "duration": 2.8,
        "text": "queries we requested"
      },
      {
        "start": 254.0,
        "duration": 3.6,
        "text": "sometimes we want to bucket our results"
      },
      {
        "start": 255.599,
        "duration": 4.001,
        "text": "based on a numeric or date field that"
      },
      {
        "start": 257.6,
        "duration": 3.359,
        "text": "has non-discrete values"
      },
      {
        "start": 259.6,
        "duration": 4.08,
        "text": "instead of returning a bucket for each"
      },
      {
        "start": 260.959,
        "duration": 4.321,
        "text": "distinct value in these cases it makes"
      },
      {
        "start": 263.68,
        "duration": 3.36,
        "text": "sense to bucket into ranges"
      },
      {
        "start": 265.28,
        "duration": 3.6,
        "text": "this is where range faceting comes into"
      },
      {
        "start": 267.04,
        "duration": 4.32,
        "text": "play we need to specify a few more"
      },
      {
        "start": 268.88,
        "duration": 4.08,
        "text": "parameters to make range fastening work"
      },
      {
        "start": 271.36,
        "duration": 3.2,
        "text": "in addition to the field we're grouping"
      },
      {
        "start": 272.96,
        "duration": 3.84,
        "text": "on we also need to provide the upper and"
      },
      {
        "start": 274.56,
        "duration": 3.84,
        "text": "lower bounds of our data values"
      },
      {
        "start": 276.8,
        "duration": 3.839,
        "text": "and we need to specify the interval"
      },
      {
        "start": 278.4,
        "duration": 3.68,
        "text": "between ranges if we're creating facets"
      },
      {
        "start": 280.639,
        "duration": 3.28,
        "text": "based on multiple fields"
      },
      {
        "start": 282.08,
        "duration": 3.6,
        "text": "we have to use a slightly more verbose"
      },
      {
        "start": 283.919,
        "duration": 3.28,
        "text": "syntax here's an example"
      },
      {
        "start": 285.68,
        "duration": 3.12,
        "text": "we're wanting to bucket based on the"
      },
      {
        "start": 287.199,
        "duration": 3.841,
        "text": "average rating field"
      },
      {
        "start": 288.8,
        "duration": 3.76,
        "text": "then we want to see buckets for values"
      },
      {
        "start": 291.04,
        "duration": 4.48,
        "text": "between 5 and 7"
      },
      {
        "start": 292.56,
        "duration": 3.6,
        "text": "in increments of 0.5 in our fastening"
      },
      {
        "start": 295.52,
        "duration": 3.04,
        "text": "output"
      },
      {
        "start": 296.16,
        "duration": 3.36,
        "text": "we get four buckets back based on ranges"
      },
      {
        "start": 298.56,
        "duration": 3.52,
        "text": "of five"
      },
      {
        "start": 299.52,
        "duration": 4.239,
        "text": "five and a half six and six and a half"
      },
      {
        "start": 302.08,
        "duration": 2.64,
        "text": "we can bucket by multiple fields in the"
      },
      {
        "start": 303.759,
        "duration": 3.121,
        "text": "same request"
      },
      {
        "start": 304.72,
        "duration": 4.56,
        "text": "to do so we specify our fields in an"
      },
      {
        "start": 306.88,
        "duration": 3.12,
        "text": "array and then specify our upper bounds"
      },
      {
        "start": 309.28,
        "duration": 3.28,
        "text": "lower bounds"
      },
      {
        "start": 310.0,
        "duration": 4.4,
        "text": "and interval between ranges per field"
      },
      {
        "start": 312.56,
        "duration": 3.52,
        "text": "the fastening output returned would show"
      },
      {
        "start": 314.4,
        "duration": 3.2,
        "text": "the buckets for average rating and then"
      },
      {
        "start": 316.08,
        "duration": 3.679,
        "text": "the buckets for release year"
      },
      {
        "start": 317.6,
        "duration": 3.84,
        "text": "here is an example using a date field"
      },
      {
        "start": 319.759,
        "duration": 3.601,
        "text": "instead of a numeric field"
      },
      {
        "start": 321.44,
        "duration": 3.28,
        "text": "notice the format of the start and the"
      },
      {
        "start": 323.36,
        "duration": 3.6,
        "text": "end values"
      },
      {
        "start": 324.72,
        "duration": 4.08,
        "text": "and notice the plus one month syntax"
      },
      {
        "start": 326.96,
        "duration": 2.72,
        "text": "used to specify the interval between"
      },
      {
        "start": 328.8,
        "duration": 2.72,
        "text": "ranges"
      },
      {
        "start": 329.68,
        "duration": 3.519,
        "text": "the faceting output is similar to what"
      },
      {
        "start": 331.52,
        "duration": 3.679,
        "text": "we saw with numeric fields"
      },
      {
        "start": 333.199,
        "duration": 3.921,
        "text": "but the buckets are keyed by dates"
      },
      {
        "start": 335.199,
        "duration": 3.681,
        "text": "interval fastening is another way we can"
      },
      {
        "start": 337.12,
        "duration": 3.76,
        "text": "customize our buckets beyond the strict"
      },
      {
        "start": 338.88,
        "duration": 4.24,
        "text": "lines of field faceting"
      },
      {
        "start": 340.88,
        "duration": 3.84,
        "text": "in interval faceting we explicitly"
      },
      {
        "start": 343.12,
        "duration": 2.24,
        "text": "indicate the bounds of each of our"
      },
      {
        "start": 344.72,
        "duration": 3.039,
        "text": "intervals"
      },
      {
        "start": 345.36,
        "duration": 4.8,
        "text": "we use solar's range syntax to specify"
      },
      {
        "start": 347.759,
        "duration": 4.401,
        "text": "the lower and upper bound values"
      },
      {
        "start": 350.16,
        "duration": 3.039,
        "text": "square brackets for inclusive limits and"
      },
      {
        "start": 352.16,
        "duration": 3.599,
        "text": "parentheses for"
      },
      {
        "start": 353.199,
        "duration": 3.12,
        "text": "exclusive limits those can be mixed and"
      },
      {
        "start": 355.759,
        "duration": 2.16,
        "text": "matched"
      },
      {
        "start": 356.319,
        "duration": 3.6,
        "text": "we'll see an example of that here in a"
      },
      {
        "start": 357.919,
        "duration": 3.12,
        "text": "second several fields can be specified"
      },
      {
        "start": 359.919,
        "duration": 3.441,
        "text": "at once and of course"
      },
      {
        "start": 361.039,
        "duration": 4.481,
        "text": "multiple intervals can be specified in"
      },
      {
        "start": 363.36,
        "duration": 4.16,
        "text": "this example we're asking dsc search to"
      },
      {
        "start": 365.52,
        "duration": 4.72,
        "text": "facet by the genres field"
      },
      {
        "start": 367.52,
        "duration": 3.679,
        "text": "and we're specifying two intervals one"
      },
      {
        "start": 370.24,
        "duration": 4.0,
        "text": "that starts at a"
      },
      {
        "start": 371.199,
        "duration": 4.72,
        "text": "and goes through b but not including b"
      },
      {
        "start": 374.24,
        "duration": 3.28,
        "text": "so what we're really saying here is any"
      },
      {
        "start": 375.919,
        "duration": 3.761,
        "text": "value that starts with a"
      },
      {
        "start": 377.52,
        "duration": 3.76,
        "text": "and the other is values that start with"
      },
      {
        "start": 379.68,
        "duration": 3.92,
        "text": "the letter t or higher"
      },
      {
        "start": 381.28,
        "duration": 4.0,
        "text": "our results come back as a map whose key"
      },
      {
        "start": 383.6,
        "duration": 4.159,
        "text": "is the interval we specified"
      },
      {
        "start": 385.28,
        "duration": 3.28,
        "text": "and whose value is the count of results"
      },
      {
        "start": 387.759,
        "duration": 3.041,
        "text": "finally"
      },
      {
        "start": 388.56,
        "duration": 3.12,
        "text": "pivot fastening is very similar to field"
      },
      {
        "start": 390.8,
        "duration": 3.36,
        "text": "fastening"
      },
      {
        "start": 391.68,
        "duration": 3.2,
        "text": "but instead of specifying a single field"
      },
      {
        "start": 394.16,
        "duration": 2.24,
        "text": "we specify"
      },
      {
        "start": 394.88,
        "duration": 3.52,
        "text": "multiple fields using the pivot"
      },
      {
        "start": 396.4,
        "duration": 3.84,
        "text": "parameter what we'll get in return"
      },
      {
        "start": 398.4,
        "duration": 3.919,
        "text": "is a multi-level hierarchy of all the"
      },
      {
        "start": 400.24,
        "duration": 3.92,
        "text": "values across the specified fields"
      },
      {
        "start": 402.319,
        "duration": 4.72,
        "text": "as you can imagine for fields with many"
      },
      {
        "start": 404.16,
        "duration": 4.56,
        "text": "values these results can be large so"
      },
      {
        "start": 407.039,
        "duration": 3.44,
        "text": "be careful about doing this across too"
      },
      {
        "start": 408.72,
        "duration": 2.72,
        "text": "many fields or fields with too many"
      },
      {
        "start": 410.479,
        "duration": 2.081,
        "text": "values"
      },
      {
        "start": 411.44,
        "duration": 2.72,
        "text": "since the results will grow"
      },
      {
        "start": 412.56,
        "duration": 2.88,
        "text": "exponentially and can cause some"
      },
      {
        "start": 414.16,
        "duration": 3.28,
        "text": "resource contention"
      },
      {
        "start": 415.44,
        "duration": 3.84,
        "text": "the output of pivot fastening can be a"
      },
      {
        "start": 417.44,
        "duration": 3.68,
        "text": "lot of data here we're looking at a"
      },
      {
        "start": 419.28,
        "duration": 2.96,
        "text": "paired down version of some output to"
      },
      {
        "start": 421.12,
        "duration": 2.88,
        "text": "give you a sense of it"
      },
      {
        "start": 422.24,
        "duration": 3.92,
        "text": "you can see that we have counts first by"
      },
      {
        "start": 424.0,
        "duration": 4.479,
        "text": "the genre value and then the results are"
      },
      {
        "start": 426.16,
        "duration": 4.64,
        "text": "further broken down by release year"
      },
      {
        "start": 428.479,
        "duration": 4.16,
        "text": "we get counts at every level there are a"
      },
      {
        "start": 430.8,
        "duration": 3.44,
        "text": "few fascinating parameters we can pass"
      },
      {
        "start": 432.639,
        "duration": 3.921,
        "text": "that help us control our output"
      },
      {
        "start": 434.24,
        "duration": 3.92,
        "text": "one such parameter is min count min"
      },
      {
        "start": 436.56,
        "duration": 3.359,
        "text": "count lets us specify the minimum"
      },
      {
        "start": 438.16,
        "duration": 3.439,
        "text": "threshold of count values that we want"
      },
      {
        "start": 439.919,
        "duration": 3.441,
        "text": "to see in our groupings"
      },
      {
        "start": 441.599,
        "duration": 3.44,
        "text": "for example it's common to want to"
      },
      {
        "start": 443.36,
        "duration": 2.959,
        "text": "filter out any groupings that have zero"
      },
      {
        "start": 445.039,
        "duration": 2.88,
        "text": "results in them"
      },
      {
        "start": 446.319,
        "duration": 3.761,
        "text": "which is a possibility due to the way"
      },
      {
        "start": 447.919,
        "duration": 3.84,
        "text": "that doc values structure works but"
      },
      {
        "start": 450.08,
        "duration": 3.6,
        "text": "you can also filter out groups based on"
      },
      {
        "start": 451.759,
        "duration": 3.601,
        "text": "some higher threshold this is a handy"
      },
      {
        "start": 453.68,
        "duration": 3.359,
        "text": "feature and can cut down on the volume"
      },
      {
        "start": 455.36,
        "duration": 2.32,
        "text": "of results that we get in our fastening"
      },
      {
        "start": 457.039,
        "duration": 2.641,
        "text": "output"
      },
      {
        "start": 457.68,
        "duration": 4.0,
        "text": "the limit parameter lets us specify how"
      },
      {
        "start": 459.68,
        "duration": 4.639,
        "text": "many groups that will be returned"
      },
      {
        "start": 461.68,
        "duration": 6.4,
        "text": "by default the value is 100 but we can"
      },
      {
        "start": 464.319,
        "duration": 3.761,
        "text": "ask for more or less by changing this"
      },
      {
        "start": 469.72,
        "duration": 3.0,
        "text": "parameter"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T00:14:49.441433+00:00"
}