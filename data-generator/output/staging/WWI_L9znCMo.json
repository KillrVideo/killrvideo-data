{
  "video_id": "WWI_L9znCMo",
  "title": "DS220.16 Mapping Conceptual To Logical Model | Data Modeling with Apache Cassandra",
  "description": "#DataStaxAcademy #DS220\nDS220.16 Mapping Conceptual To Logical Model\nIn this unit, you will learn how to map your conceptual data model to a logical one, also using the access patterns from your application workflow. \n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-14T09:26:33Z",
  "thumbnail": "https://i.ytimg.com/vi/WWI_L9znCMo/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "data_modeling",
    "cassandra",
    "tutorial",
    "apache_cassandra",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=WWI_L9znCMo",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] now that we have our conceptual data model and our application workflow we combine them to make our logical data model that's what we'll discuss in this section here's a diagram to explain it further we have our conceptual data model on the left and our access patterns on the right remember our application workflow diagram had access patterns in it that's the actual queries we perform against our apache standard database that's the critical part to take away from your application workflow diagram and mix that up with the conceptual data model to build our logical data model that's what we have in the middle here we apply some mapping rules with inputs being our conceptual data model and our access patterns and out pops the logical data model we call these chabako diagrams named after the person who came up with this way of diagramming your logical data model you can see it looks a lot like our application workflow at the bottom of the slide you see query one find a video with a specific video id looking at the tobacco diagram in the middle you see that query one leads into a table which would satisfy this query we'll get into the details a little bit more later let's get some terminology out of the way first of all you'll notice this diagram looks a lot like our application workflow hence that's why we built our application workflow we have our queries which are the arrows leading into the table we have our table diagrams which looks a little bit more like cassandra tables hey we're getting there and then at the bottom we brought along our query list again the queries are fundamental when it comes to data modeling with apache cassandra on the right we have our udt diagrams udt stands for user defined types these are a lot like tables except there's no primary key we can nest these structures in other actual cassandra tables we'll get into the details more later in order to move from a logical table diagram to a physical table diagram you only need to add the data types there's a little bit optimization that we'll get into later but let's look at an example here's our table you can notice that we have some abstract column names on the left on the right we describe whether their partition key clustering column static column so on and so forth note the notation on the left corresponds with the description on the right for example in order to do a list which is column name seven we use square brackets in order to do a set we use curlies hey you want to do a map great angle brackets work just fine the key thing to pull from this diagram is that we add the cql types in the middle that's where we get physical once we have our cql types we can write our create table statements in apache cassandra one other important thing to notice in this slide is that our column name one has partition key which we denote with a capital k clustering key columns we denote with a capital c and we also denote whether they're sorted ascending or descending with a small arrow next to that c remember we're modeling in order to satisfy some queries the partition key and clustering columns are critical to get correct remember how i mentioned we talk about udts later it's later udt stands for user defined types which is essentially a table without a primary key but you can nest that type within other tables for example with the videos table we have an encoding column third from the bottom that encoding column represents how the video data is stored in the video data file there's a lot more information than just some simple text to store here so we encapsulate all that in the encoding user-defined type on the right notice it has encoding height width and possible bit rates the same is true for actor name remember when we saw actor in our conceptual data model it was a composite attribute we can also break it down into first name and last name in the logical layer as well by having an actor name user defined type this is where the artistic part comes in maybe you want a separate first name and last name column maybe you only want one column to store the first name and last name in instead it's up to you but just know that there's these user defined types that you can utilize to help you move along here's the exact same diagram except it's a physical layer diagram let's pop between this and the logical diagram we saw in the previous slide and see if we can tell the difference logical physical logical physical do you see the difference go figure hopefully it was obvious as i mentioned earlier all we're doing is adding the cql data types here's an example logical data model for our killer video domain notice we have our application workflow we have our queries our queries create our access patterns at the bottom i encourage you to pause the video and study this diagram just a little bit to get familiar with it here are some basic rule of thumbs when doing data modeling know your data know your queries you can also nest data and you've probably heard with apache cassandra we duplicate data we sacrifice space for time we want our queries to perform so what do we mean by knowing your data well you can learn about your domain by doing the conceptual model process if you're like me you just want to get in and start coding create some tables let's just roll and not think about it but every time i move forward without doing any upfront planning it always ends up biting me it's good to take a little bit of time talk to your domain expert and become familiar with the domain that you're going to work in one part of understanding your data model is understanding the primary key constraints again a primary key in apache cassandra is composed of uniqueness and also to satisfy a query often in a relational world we get so tied up in the uniqueness that we even forget that queries exist but in apache cassandra we flip that over and actually worry about the queries first and then add uniqueness on the end look at the example we have here a videos table by itself has video id as the primary key this is a typical table you would see in a relational model you may also need this table in your apache cassandra model as well however the table on the right videos by user the primary key has a user id so that we can look up the videos for a particular user and then we've sorted by the uploaded timestamp we tag video id on the end simply to maintain uniqueness remember when we were talking about keys for our relationship types again remember the cardinality of the relationship type determines the key for the relationship type by building the application workflow diagram you now have your queries that's critical to understand what you need in your data model the most optimal situation is when you create a table that can satisfy a query and that query only needs to execute once we call this single partition per query this is the most efficient design pattern in apache cassandra it's basically constant time because when you query for that partition you simply give it a partition key value the coordinator knows figures out which node has that value that node retrieves the data and returns it right back to you there's no filtering or searching through the entire cluster it's really just go here pop there give the data back some access patterns may require multiple queries on your apache cassandra cluster this isn't too bad as long as you're not pulling from multiple partitions at the same time getting away with a few partitions is okay doing several of these means you're doing something wrong here's the anti-pattern you absolutely want to avoid searching through the entire cluster through all the tables through all the partitions to pull back several rows remember that allow filtering that pops up in that warning if you don't do your query right yeah don't use it because this is what will happen essentially you're stressing out the entire cluster telling every node hey i need some data please go do a linear search through everything you got not a good idea you",
    "segments": [
      {
        "start": 1.47,
        "duration": 5.32,
        "text": "[Music]"
      },
      {
        "start": 7.2,
        "duration": 2.08,
        "text": "now that we have our conceptual data"
      },
      {
        "start": 8.639,
        "duration": 3.281,
        "text": "model"
      },
      {
        "start": 9.28,
        "duration": 4.72,
        "text": "and our application workflow we combine"
      },
      {
        "start": 11.92,
        "duration": 3.36,
        "text": "them to make our logical data model"
      },
      {
        "start": 14.0,
        "duration": 3.76,
        "text": "that's what we'll discuss in this"
      },
      {
        "start": 15.28,
        "duration": 3.36,
        "text": "section here's a diagram to explain it"
      },
      {
        "start": 17.76,
        "duration": 2.72,
        "text": "further"
      },
      {
        "start": 18.64,
        "duration": 4.16,
        "text": "we have our conceptual data model on the"
      },
      {
        "start": 20.48,
        "duration": 3.12,
        "text": "left and our access patterns on the"
      },
      {
        "start": 22.8,
        "duration": 2.559,
        "text": "right"
      },
      {
        "start": 23.6,
        "duration": 4.32,
        "text": "remember our application workflow"
      },
      {
        "start": 25.359,
        "duration": 4.401,
        "text": "diagram had access patterns in it"
      },
      {
        "start": 27.92,
        "duration": 4.24,
        "text": "that's the actual queries we perform"
      },
      {
        "start": 29.76,
        "duration": 4.16,
        "text": "against our apache standard database"
      },
      {
        "start": 32.16,
        "duration": 4.0,
        "text": "that's the critical part to take away"
      },
      {
        "start": 33.92,
        "duration": 4.08,
        "text": "from your application workflow diagram"
      },
      {
        "start": 36.16,
        "duration": 4.64,
        "text": "and mix that up with the conceptual data"
      },
      {
        "start": 38.0,
        "duration": 4.8,
        "text": "model to build our logical data model"
      },
      {
        "start": 40.8,
        "duration": 3.2,
        "text": "that's what we have in the middle here"
      },
      {
        "start": 42.8,
        "duration": 3.52,
        "text": "we apply some mapping"
      },
      {
        "start": 44.0,
        "duration": 4.64,
        "text": "rules with inputs being our conceptual"
      },
      {
        "start": 46.32,
        "duration": 5.2,
        "text": "data model and our access patterns"
      },
      {
        "start": 48.64,
        "duration": 5.12,
        "text": "and out pops the logical data model we"
      },
      {
        "start": 51.52,
        "duration": 3.84,
        "text": "call these chabako diagrams named after"
      },
      {
        "start": 53.76,
        "duration": 4.319,
        "text": "the person who came up with this way of"
      },
      {
        "start": 55.36,
        "duration": 4.16,
        "text": "diagramming your logical data model you"
      },
      {
        "start": 58.079,
        "duration": 3.921,
        "text": "can see it looks a lot like"
      },
      {
        "start": 59.52,
        "duration": 4.48,
        "text": "our application workflow at the bottom"
      },
      {
        "start": 62.0,
        "duration": 4.96,
        "text": "of the slide you see query one"
      },
      {
        "start": 64.0,
        "duration": 4.56,
        "text": "find a video with a specific video id"
      },
      {
        "start": 66.96,
        "duration": 3.6,
        "text": "looking at the tobacco diagram in the"
      },
      {
        "start": 68.56,
        "duration": 4.559,
        "text": "middle you see that query one leads into"
      },
      {
        "start": 70.56,
        "duration": 4.08,
        "text": "a table which would satisfy this query"
      },
      {
        "start": 73.119,
        "duration": 4.081,
        "text": "we'll get into the details a little bit"
      },
      {
        "start": 74.64,
        "duration": 3.68,
        "text": "more later let's get some terminology"
      },
      {
        "start": 77.2,
        "duration": 3.12,
        "text": "out of the way"
      },
      {
        "start": 78.32,
        "duration": 3.76,
        "text": "first of all you'll notice this diagram"
      },
      {
        "start": 80.32,
        "duration": 3.04,
        "text": "looks a lot like our application"
      },
      {
        "start": 82.08,
        "duration": 2.56,
        "text": "workflow"
      },
      {
        "start": 83.36,
        "duration": 3.52,
        "text": "hence that's why we built our"
      },
      {
        "start": 84.64,
        "duration": 3.92,
        "text": "application workflow we have our queries"
      },
      {
        "start": 86.88,
        "duration": 2.48,
        "text": "which are the arrows leading into the"
      },
      {
        "start": 88.56,
        "duration": 2.96,
        "text": "table"
      },
      {
        "start": 89.36,
        "duration": 4.719,
        "text": "we have our table diagrams which looks a"
      },
      {
        "start": 91.52,
        "duration": 4.559,
        "text": "little bit more like cassandra tables"
      },
      {
        "start": 94.079,
        "duration": 3.121,
        "text": "hey we're getting there and then at the"
      },
      {
        "start": 96.079,
        "duration": 3.841,
        "text": "bottom we brought along"
      },
      {
        "start": 97.2,
        "duration": 4.32,
        "text": "our query list again the queries are"
      },
      {
        "start": 99.92,
        "duration": 3.76,
        "text": "fundamental when it comes to data"
      },
      {
        "start": 101.52,
        "duration": 5.36,
        "text": "modeling with apache cassandra"
      },
      {
        "start": 103.68,
        "duration": 6.24,
        "text": "on the right we have our udt diagrams"
      },
      {
        "start": 106.88,
        "duration": 5.12,
        "text": "udt stands for user defined types these"
      },
      {
        "start": 109.92,
        "duration": 3.28,
        "text": "are a lot like tables except there's no"
      },
      {
        "start": 112.0,
        "duration": 3.28,
        "text": "primary key"
      },
      {
        "start": 113.2,
        "duration": 4.4,
        "text": "we can nest these structures in other"
      },
      {
        "start": 115.28,
        "duration": 4.72,
        "text": "actual cassandra tables"
      },
      {
        "start": 117.6,
        "duration": 4.08,
        "text": "we'll get into the details more later in"
      },
      {
        "start": 120.0,
        "duration": 3.84,
        "text": "order to move from a logical table"
      },
      {
        "start": 121.68,
        "duration": 4.56,
        "text": "diagram to a physical table diagram"
      },
      {
        "start": 123.84,
        "duration": 4.0,
        "text": "you only need to add the data types"
      },
      {
        "start": 126.24,
        "duration": 2.879,
        "text": "there's a little bit optimization that"
      },
      {
        "start": 127.84,
        "duration": 3.759,
        "text": "we'll get into later"
      },
      {
        "start": 129.119,
        "duration": 4.48,
        "text": "but let's look at an example here's our"
      },
      {
        "start": 131.599,
        "duration": 4.161,
        "text": "table you can notice that we have some"
      },
      {
        "start": 133.599,
        "duration": 3.681,
        "text": "abstract column names on the left"
      },
      {
        "start": 135.76,
        "duration": 3.839,
        "text": "on the right we describe whether their"
      },
      {
        "start": 137.28,
        "duration": 3.92,
        "text": "partition key clustering column static"
      },
      {
        "start": 139.599,
        "duration": 2.881,
        "text": "column so on and so forth"
      },
      {
        "start": 141.2,
        "duration": 3.039,
        "text": "note the notation on the left"
      },
      {
        "start": 142.48,
        "duration": 2.479,
        "text": "corresponds with the description on the"
      },
      {
        "start": 144.239,
        "duration": 2.961,
        "text": "right"
      },
      {
        "start": 144.959,
        "duration": 3.041,
        "text": "for example in order to do a list which"
      },
      {
        "start": 147.2,
        "duration": 3.679,
        "text": "is column name"
      },
      {
        "start": 148.0,
        "duration": 3.92,
        "text": "seven we use square brackets in order to"
      },
      {
        "start": 150.879,
        "duration": 3.681,
        "text": "do a set"
      },
      {
        "start": 151.92,
        "duration": 3.2,
        "text": "we use curlies hey you want to do a map"
      },
      {
        "start": 154.56,
        "duration": 2.72,
        "text": "great"
      },
      {
        "start": 155.12,
        "duration": 3.839,
        "text": "angle brackets work just fine the key"
      },
      {
        "start": 157.28,
        "duration": 3.92,
        "text": "thing to pull from this diagram is that"
      },
      {
        "start": 158.959,
        "duration": 4.721,
        "text": "we add the cql types"
      },
      {
        "start": 161.2,
        "duration": 3.759,
        "text": "in the middle that's where we get"
      },
      {
        "start": 163.68,
        "duration": 3.839,
        "text": "physical"
      },
      {
        "start": 164.959,
        "duration": 4.721,
        "text": "once we have our cql types we can write"
      },
      {
        "start": 167.519,
        "duration": 3.121,
        "text": "our create table statements in apache"
      },
      {
        "start": 169.68,
        "duration": 2.72,
        "text": "cassandra"
      },
      {
        "start": 170.64,
        "duration": 3.84,
        "text": "one other important thing to notice in"
      },
      {
        "start": 172.4,
        "duration": 4.72,
        "text": "this slide is that our column name"
      },
      {
        "start": 174.48,
        "duration": 4.32,
        "text": "one has partition key which we denote"
      },
      {
        "start": 177.12,
        "duration": 3.92,
        "text": "with a capital k"
      },
      {
        "start": 178.8,
        "duration": 3.439,
        "text": "clustering key columns we denote with a"
      },
      {
        "start": 181.04,
        "duration": 2.96,
        "text": "capital c"
      },
      {
        "start": 182.239,
        "duration": 4.0,
        "text": "and we also denote whether they're"
      },
      {
        "start": 184.0,
        "duration": 5.12,
        "text": "sorted ascending or descending with a"
      },
      {
        "start": 186.239,
        "duration": 4.961,
        "text": "small arrow next to that c"
      },
      {
        "start": 189.12,
        "duration": 3.44,
        "text": "remember we're modeling in order to"
      },
      {
        "start": 191.2,
        "duration": 3.36,
        "text": "satisfy some queries"
      },
      {
        "start": 192.56,
        "duration": 4.08,
        "text": "the partition key and clustering columns"
      },
      {
        "start": 194.56,
        "duration": 3.679,
        "text": "are critical to get correct"
      },
      {
        "start": 196.64,
        "duration": 3.28,
        "text": "remember how i mentioned we talk about"
      },
      {
        "start": 198.239,
        "duration": 4.801,
        "text": "udts later"
      },
      {
        "start": 199.92,
        "duration": 4.8,
        "text": "it's later udt stands for user defined"
      },
      {
        "start": 203.04,
        "duration": 3.119,
        "text": "types which is essentially a table"
      },
      {
        "start": 204.72,
        "duration": 3.519,
        "text": "without a primary key"
      },
      {
        "start": 206.159,
        "duration": 4.961,
        "text": "but you can nest that type within other"
      },
      {
        "start": 208.239,
        "duration": 4.481,
        "text": "tables for example with the videos table"
      },
      {
        "start": 211.12,
        "duration": 3.92,
        "text": "we have an encoding column"
      },
      {
        "start": 212.72,
        "duration": 4.64,
        "text": "third from the bottom that encoding"
      },
      {
        "start": 215.04,
        "duration": 4.559,
        "text": "column represents how the video data is"
      },
      {
        "start": 217.36,
        "duration": 3.92,
        "text": "stored in the video data file"
      },
      {
        "start": 219.599,
        "duration": 3.841,
        "text": "there's a lot more information than just"
      },
      {
        "start": 221.28,
        "duration": 3.92,
        "text": "some simple text to store here"
      },
      {
        "start": 223.44,
        "duration": 3.76,
        "text": "so we encapsulate all that in the"
      },
      {
        "start": 225.2,
        "duration": 4.56,
        "text": "encoding user-defined type"
      },
      {
        "start": 227.2,
        "duration": 3.119,
        "text": "on the right notice it has encoding"
      },
      {
        "start": 229.76,
        "duration": 3.759,
        "text": "height"
      },
      {
        "start": 230.319,
        "duration": 5.041,
        "text": "width and possible bit rates the same is"
      },
      {
        "start": 233.519,
        "duration": 3.44,
        "text": "true for actor name"
      },
      {
        "start": 235.36,
        "duration": 3.68,
        "text": "remember when we saw actor in our"
      },
      {
        "start": 236.959,
        "duration": 2.801,
        "text": "conceptual data model it was a composite"
      },
      {
        "start": 239.04,
        "duration": 2.72,
        "text": "attribute"
      },
      {
        "start": 239.76,
        "duration": 3.28,
        "text": "we can also break it down into first"
      },
      {
        "start": 241.76,
        "duration": 3.28,
        "text": "name and last name"
      },
      {
        "start": 243.04,
        "duration": 4.8,
        "text": "in the logical layer as well by having"
      },
      {
        "start": 245.04,
        "duration": 4.96,
        "text": "an actor name user defined type"
      },
      {
        "start": 247.84,
        "duration": 3.84,
        "text": "this is where the artistic part comes in"
      },
      {
        "start": 250.0,
        "duration": 2.64,
        "text": "maybe you want a separate first name and"
      },
      {
        "start": 251.68,
        "duration": 2.639,
        "text": "last name column"
      },
      {
        "start": 252.64,
        "duration": 3.76,
        "text": "maybe you only want one column to store"
      },
      {
        "start": 254.319,
        "duration": 4.001,
        "text": "the first name and last name in instead"
      },
      {
        "start": 256.4,
        "duration": 3.519,
        "text": "it's up to you but just know that"
      },
      {
        "start": 258.32,
        "duration": 3.12,
        "text": "there's these user defined types that"
      },
      {
        "start": 259.919,
        "duration": 5.041,
        "text": "you can utilize to help you"
      },
      {
        "start": 261.44,
        "duration": 6.8,
        "text": "move along here's the exact same diagram"
      },
      {
        "start": 264.96,
        "duration": 5.28,
        "text": "except it's a physical layer diagram"
      },
      {
        "start": 268.24,
        "duration": 3.92,
        "text": "let's pop between this and the logical"
      },
      {
        "start": 270.24,
        "duration": 4.64,
        "text": "diagram we saw in the previous slide and"
      },
      {
        "start": 272.16,
        "duration": 5.84,
        "text": "see if we can tell the difference"
      },
      {
        "start": 274.88,
        "duration": 6.4,
        "text": "logical physical"
      },
      {
        "start": 278.0,
        "duration": 6.479,
        "text": "logical physical"
      },
      {
        "start": 281.28,
        "duration": 5.52,
        "text": "do you see the difference"
      },
      {
        "start": 284.479,
        "duration": 3.44,
        "text": "go figure hopefully it was obvious as i"
      },
      {
        "start": 286.8,
        "duration": 3.2,
        "text": "mentioned earlier"
      },
      {
        "start": 287.919,
        "duration": 5.121,
        "text": "all we're doing is adding the cql data"
      },
      {
        "start": 290.0,
        "duration": 5.44,
        "text": "types here's an example logical data"
      },
      {
        "start": 293.04,
        "duration": 4.879,
        "text": "model for our killer video domain"
      },
      {
        "start": 295.44,
        "duration": 4.08,
        "text": "notice we have our application workflow"
      },
      {
        "start": 297.919,
        "duration": 3.681,
        "text": "we have our queries"
      },
      {
        "start": 299.52,
        "duration": 3.36,
        "text": "our queries create our access patterns"
      },
      {
        "start": 301.6,
        "duration": 2.879,
        "text": "at the bottom"
      },
      {
        "start": 302.88,
        "duration": 3.599,
        "text": "i encourage you to pause the video and"
      },
      {
        "start": 304.479,
        "duration": 4.321,
        "text": "study this diagram just a little bit to"
      },
      {
        "start": 306.479,
        "duration": 4.56,
        "text": "get familiar with it"
      },
      {
        "start": 308.8,
        "duration": 4.0,
        "text": "here are some basic rule of thumbs when"
      },
      {
        "start": 311.039,
        "duration": 4.801,
        "text": "doing data modeling"
      },
      {
        "start": 312.8,
        "duration": 6.16,
        "text": "know your data know your queries"
      },
      {
        "start": 315.84,
        "duration": 5.44,
        "text": "you can also nest data and you've"
      },
      {
        "start": 318.96,
        "duration": 6.0,
        "text": "probably heard with apache cassandra"
      },
      {
        "start": 321.28,
        "duration": 7.359,
        "text": "we duplicate data we sacrifice space"
      },
      {
        "start": 324.96,
        "duration": 5.84,
        "text": "for time we want our queries to perform"
      },
      {
        "start": 328.639,
        "duration": 4.161,
        "text": "so what do we mean by knowing your data"
      },
      {
        "start": 330.8,
        "duration": 4.48,
        "text": "well you can learn about your domain by"
      },
      {
        "start": 332.8,
        "duration": 3.839,
        "text": "doing the conceptual model process"
      },
      {
        "start": 335.28,
        "duration": 3.84,
        "text": "if you're like me you just want to get"
      },
      {
        "start": 336.639,
        "duration": 4.641,
        "text": "in and start coding create some tables"
      },
      {
        "start": 339.12,
        "duration": 3.84,
        "text": "let's just roll and not think about it"
      },
      {
        "start": 341.28,
        "duration": 3.199,
        "text": "but every time i move forward without"
      },
      {
        "start": 342.96,
        "duration": 4.0,
        "text": "doing any upfront planning"
      },
      {
        "start": 344.479,
        "duration": 3.921,
        "text": "it always ends up biting me it's good to"
      },
      {
        "start": 346.96,
        "duration": 3.2,
        "text": "take a little bit of time"
      },
      {
        "start": 348.4,
        "duration": 2.96,
        "text": "talk to your domain expert and become"
      },
      {
        "start": 350.16,
        "duration": 1.92,
        "text": "familiar with the domain that you're"
      },
      {
        "start": 351.36,
        "duration": 2.96,
        "text": "going to work"
      },
      {
        "start": 352.08,
        "duration": 4.32,
        "text": "in one part of understanding your data"
      },
      {
        "start": 354.32,
        "duration": 3.439,
        "text": "model is understanding the primary key"
      },
      {
        "start": 356.4,
        "duration": 4.16,
        "text": "constraints"
      },
      {
        "start": 357.759,
        "duration": 4.481,
        "text": "again a primary key in apache cassandra"
      },
      {
        "start": 360.56,
        "duration": 4.88,
        "text": "is composed of uniqueness"
      },
      {
        "start": 362.24,
        "duration": 4.88,
        "text": "and also to satisfy a query often in a"
      },
      {
        "start": 365.44,
        "duration": 3.36,
        "text": "relational world we get so tied up in"
      },
      {
        "start": 367.12,
        "duration": 2.799,
        "text": "the uniqueness that we even forget that"
      },
      {
        "start": 368.8,
        "duration": 3.04,
        "text": "queries exist"
      },
      {
        "start": 369.919,
        "duration": 3.84,
        "text": "but in apache cassandra we flip that"
      },
      {
        "start": 371.84,
        "duration": 3.04,
        "text": "over and actually worry about the"
      },
      {
        "start": 373.759,
        "duration": 3.921,
        "text": "queries first"
      },
      {
        "start": 374.88,
        "duration": 4.56,
        "text": "and then add uniqueness on the end look"
      },
      {
        "start": 377.68,
        "duration": 4.88,
        "text": "at the example we have here"
      },
      {
        "start": 379.44,
        "duration": 4.56,
        "text": "a videos table by itself has video id as"
      },
      {
        "start": 382.56,
        "duration": 3.28,
        "text": "the primary key"
      },
      {
        "start": 384.0,
        "duration": 3.12,
        "text": "this is a typical table you would see in"
      },
      {
        "start": 385.84,
        "duration": 3.199,
        "text": "a relational model"
      },
      {
        "start": 387.12,
        "duration": 3.919,
        "text": "you may also need this table in your"
      },
      {
        "start": 389.039,
        "duration": 4.16,
        "text": "apache cassandra model as well"
      },
      {
        "start": 391.039,
        "duration": 3.041,
        "text": "however the table on the right videos by"
      },
      {
        "start": 393.199,
        "duration": 3.361,
        "text": "user"
      },
      {
        "start": 394.08,
        "duration": 4.8,
        "text": "the primary key has a user id so that we"
      },
      {
        "start": 396.56,
        "duration": 3.359,
        "text": "can look up the videos for a particular"
      },
      {
        "start": 398.88,
        "duration": 2.879,
        "text": "user"
      },
      {
        "start": 399.919,
        "duration": 3.12,
        "text": "and then we've sorted by the uploaded"
      },
      {
        "start": 401.759,
        "duration": 3.681,
        "text": "timestamp"
      },
      {
        "start": 403.039,
        "duration": 5.521,
        "text": "we tag video id on the end simply to"
      },
      {
        "start": 405.44,
        "duration": 4.8,
        "text": "maintain uniqueness remember when we"
      },
      {
        "start": 408.56,
        "duration": 2.4,
        "text": "were talking about keys for our"
      },
      {
        "start": 410.24,
        "duration": 4.079,
        "text": "relationship"
      },
      {
        "start": 410.96,
        "duration": 5.84,
        "text": "types again remember the cardinality of"
      },
      {
        "start": 414.319,
        "duration": 4.961,
        "text": "the relationship type determines the key"
      },
      {
        "start": 416.8,
        "duration": 4.72,
        "text": "for the relationship type by building"
      },
      {
        "start": 419.28,
        "duration": 2.72,
        "text": "the application workflow diagram you now"
      },
      {
        "start": 421.52,
        "duration": 2.72,
        "text": "have your"
      },
      {
        "start": 422.0,
        "duration": 4.16,
        "text": "queries that's critical to understand"
      },
      {
        "start": 424.24,
        "duration": 4.32,
        "text": "what you need in your data model"
      },
      {
        "start": 426.16,
        "duration": 4.56,
        "text": "the most optimal situation is when you"
      },
      {
        "start": 428.56,
        "duration": 4.32,
        "text": "create a table that can satisfy"
      },
      {
        "start": 430.72,
        "duration": 3.44,
        "text": "a query and that query only needs to"
      },
      {
        "start": 432.88,
        "duration": 4.08,
        "text": "execute once"
      },
      {
        "start": 434.16,
        "duration": 4.8,
        "text": "we call this single partition per query"
      },
      {
        "start": 436.96,
        "duration": 4.079,
        "text": "this is the most efficient design"
      },
      {
        "start": 438.96,
        "duration": 4.56,
        "text": "pattern in apache cassandra"
      },
      {
        "start": 441.039,
        "duration": 4.0,
        "text": "it's basically constant time because"
      },
      {
        "start": 443.52,
        "duration": 3.84,
        "text": "when you query for that partition you"
      },
      {
        "start": 445.039,
        "duration": 4.241,
        "text": "simply give it a partition key value"
      },
      {
        "start": 447.36,
        "duration": 3.44,
        "text": "the coordinator knows figures out which"
      },
      {
        "start": 449.28,
        "duration": 3.44,
        "text": "node has that value"
      },
      {
        "start": 450.8,
        "duration": 3.04,
        "text": "that node retrieves the data and returns"
      },
      {
        "start": 452.72,
        "duration": 2.96,
        "text": "it right back to you"
      },
      {
        "start": 453.84,
        "duration": 3.28,
        "text": "there's no filtering or searching"
      },
      {
        "start": 455.68,
        "duration": 4.0,
        "text": "through the entire cluster"
      },
      {
        "start": 457.12,
        "duration": 3.84,
        "text": "it's really just go here pop there give"
      },
      {
        "start": 459.68,
        "duration": 3.2,
        "text": "the data back"
      },
      {
        "start": 460.96,
        "duration": 3.519,
        "text": "some access patterns may require"
      },
      {
        "start": 462.88,
        "duration": 2.8,
        "text": "multiple queries on your apache"
      },
      {
        "start": 464.479,
        "duration": 3.12,
        "text": "cassandra cluster"
      },
      {
        "start": 465.68,
        "duration": 4.079,
        "text": "this isn't too bad as long as you're not"
      },
      {
        "start": 467.599,
        "duration": 4.481,
        "text": "pulling from multiple partitions"
      },
      {
        "start": 469.759,
        "duration": 3.84,
        "text": "at the same time getting away with a few"
      },
      {
        "start": 472.08,
        "duration": 3.119,
        "text": "partitions is okay"
      },
      {
        "start": 473.599,
        "duration": 3.04,
        "text": "doing several of these means you're"
      },
      {
        "start": 475.199,
        "duration": 3.84,
        "text": "doing something wrong"
      },
      {
        "start": 476.639,
        "duration": 4.0,
        "text": "here's the anti-pattern you absolutely"
      },
      {
        "start": 479.039,
        "duration": 3.361,
        "text": "want to avoid"
      },
      {
        "start": 480.639,
        "duration": 3.521,
        "text": "searching through the entire cluster"
      },
      {
        "start": 482.4,
        "duration": 4.32,
        "text": "through all the tables through all the"
      },
      {
        "start": 484.16,
        "duration": 4.4,
        "text": "partitions to pull back several rows"
      },
      {
        "start": 486.72,
        "duration": 3.36,
        "text": "remember that allow filtering that pops"
      },
      {
        "start": 488.56,
        "duration": 2.72,
        "text": "up in that warning if you don't do your"
      },
      {
        "start": 490.08,
        "duration": 3.2,
        "text": "query right"
      },
      {
        "start": 491.28,
        "duration": 4.0,
        "text": "yeah don't use it because this is what"
      },
      {
        "start": 493.28,
        "duration": 3.84,
        "text": "will happen essentially you're stressing"
      },
      {
        "start": 495.28,
        "duration": 2.56,
        "text": "out the entire cluster telling every"
      },
      {
        "start": 497.12,
        "duration": 3.28,
        "text": "node hey"
      },
      {
        "start": 497.84,
        "duration": 4.479,
        "text": "i need some data please go do a linear"
      },
      {
        "start": 500.4,
        "duration": 6.079,
        "text": "search through everything you got"
      },
      {
        "start": 502.319,
        "duration": 6.241,
        "text": "not a good idea"
      },
      {
        "start": 506.479,
        "duration": 2.081,
        "text": "you"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T00:48:04.431431+00:00"
}