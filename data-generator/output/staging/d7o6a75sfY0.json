{
  "video_id": "d7o6a75sfY0",
  "title": "Introduction to Apache Cassandra™ + What’s New in 4.0 by Patrick McFadin | DataStax Presents",
  "description": "Apache Cassandra™ has been making a difference for applications that scale for over 10 years! If you haven’t hzad a chance to get to know our favorite database, this is your chance to get the basics. In this talk, we’ll go over the fundamentals, including Cassandra’s distributed architecture, data model and what it means for your application. We’ll also cover what’s coming in 4.0 in the coming year.",
  "published_at": "2019-04-10T15:04:22Z",
  "thumbnail": "https://i.ytimg.com/vi/d7o6a75sfY0/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "distributed",
    "cassandra",
    "database",
    "apache_cassandra",
    "talk",
    "introduction",
    "architecture",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=d7o6a75sfY0",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "okay yeah cuz Ryan has seen this before this is an introduction Apache Cassandra if you've never used it seen it understood it maybe you heard the rumors saw some really cool slides from Apple and you're like it's not a legitimate database is it well I'm here to tell you it is it's been around for a long time and it's crossed over the 10-year mark which i think is a good mark it's a stable database it's getting where I'm gonna be talking a little bit about cassandra 4.0 4.0 is is more of a it's a milestone release for sure it has a lot of a lot more if you look at the features that are gonna be released for dotto it's like a mature database release because it's not booooo these crazy features it's like here's all these stability changes and developer productivity changes and more of that maturity level of a long-term database that's being used at incredible scales everywhere you don't want to make big changes to things when you know half of the world's commerce is running off of it and that's a true number all right so cloud applications this is where everyone is writing their applications is for the cloud right and if you're not you probably will eventually but every cloud application has a basic need and the kind of applications that we like to talk about we are an application database Cassandra data stacks we're the experts in this for sure but any kind of data that is close to or your users is the data that we want to talk to you about it's not a back-end database it's not a Hadoop II thing a sparky thing it's a application database so things like IOT financial data gaming some of the coolest projects I ever worked on we're gaming projects like Call of Duty all that database behind that Cassandra I got to go to a launch for Call of Duty that was so freakin cool you know what I couldn't do play call of duty because I didn't sign the right form like you gotta be kidding me so I have used every single these are all the ones I've broken in production I've been called at 3m on most of those on the left the ones on the right I blame somebody else so but this is this is what the landscape is and if you're on that left-hand side still today that's still these are still valid databases out there I mean or those buildings still there in Oracle and it's matter-of-fact Oracle Microsoft or big sponsors of the deuced exercise an IBM - that's kind of weird all of a sudden I think about it huh anyway it is a little strange so what's that and you have more - nice target audience so what I'm telling you is new stuff I don't feel like I'm repeating myself this is great so this is that this is a very famous quote which I if you're using these older databases to do modern stuff I'm gonna change this definition to this which is you know I've spent years I actually worked in this neighborhood in like 1998 I know back in the day right coms are cool we had tens of users out there it was awesome I made so much money off of getting an Oracle database to talk to a Java servlet everybody's like you're a wizard no but that was that was fun but those databases then were great why because we only had a few few users then Google and Facebook come along and blow it all out the window so this is how I spent a lot of my first days trying to scale a large-scale database is just like break it into pieces and do this charting routine and my this is probably an old joke now that Ryan knows this one friends don't let friends shard that's bad because what happens when you do that because you're probably gonna do something like this where you break it up and like into domains like oh we're gonna buy a customer name or something like that and what happens when you lose like the primary and then everything goes to hell in a handbasket everybody with a name that ends with end through T is gonna be really pissed off at this point and it's not a good way to sustain a business Twitter actually got over the hump remember the fail wail oh let's see the fail is like almost like ancient history now but the fail Twitter was down more than it was up naturally that was the fun part of using Twitter is finding out if it was online but the you know you can't do that anymore apps go offline people freak out and they move on to the next one come on keep going okay I'm killing this thing slowly so a twenty two thousand five and this is when I was working in infrastructure I was running infrastructure for a a SAS company we broke the internet and why because we just couldn't Rach enough servers I was literally bringing in pallets of servers in these coalos we were doing Equinix down in San Jose we couldn't put enough servers in there and we couldn't buy in a bandwidth and why because we started doing this stuff with and this is really networking because of this right that these things are horrible because they just told the whole world that your experience your online experience is now 24/7 so now we expect remember maybe some of you probably never heard of this but banks used to be open from nine o'clock in the morning till about 3:00 or 4:00 in the afternoon that's the only time you could get your money can you imagine not be able do banking on your phone at 3:00 a.m. in Europe I mean it just changed everything and so we broke the internet and everything is different now everything has to be online 24/7 it has to be phone quality meaning that whenever I go like this and oh click it's there it's available ready to go fast because when it isn't things bad things happen so around that time is when the Dynamo paper came out and this is one of those papers that is really really cool look I got a Voldemort quote on there do you see that they were talking about Bouldin where he works at LinkedIn Voldemort I'll get to that in a second so dynamo paper was one of those like wow this really is cool because it here's how to do all these things and it's about performance and reliability and keeping your data from going south and really when it came down to is Amazon and I actually know a couple people on this paper Amazon was sick and tired of paying Oracle and not getting the reliability they needed Jeff Bezos loves money I don't know if you know that and this was to replace the shopping cart on Amazon because they couldn't keep it online long enough because you know relational database works when you do an upgrade you got to bring it down and if you don't have a secondary over it's a crime did you hear this thank you thank you when when you have a relational database that is in front of something mission-critical it's built in downtime you you can't avoid it so using some computer science how do we avoid downtime hard problem but they did a really good job of describing how that work interesting enough they never built this DynamoDB in Amazon is not from the Dynamo paper they just co-opted the name funny funny story however it started a revolution or an evolution react which is another database was very popular for a long time had a very bad fall out Voldemort which we were laughing about it about LinkedIn LinkedIn built to sing called Voldemort all based on dynamo and then this little database called Cassandra BigTable was also a pretty influential paper in that time and this was about how to get AB data model that is closer to what we use in our applications long sequential forms of data linear reads that sort of thing Cassandra came out a year later and Avinash and Prashant both were on that original Dynamo paper that you saw Avinash is one of the funniest dude you'll ever talk to either he's a character but the Cassandra Cassandra was built at Facebook to replace their messenger and the h beef team got ahead of him and so he got all pissed off and he put it in the Apache project there's only one Apache project that came from Facebook and it was Cassandra and he did it without telling anybody yeah so that's a fun story you like see this is a San Francisco crowd I got to tell you these stories I won't tell us the Chicago story no Chicago will now get this story at all so it featured all these things about dynamo about uptime but it took the BigTable dated model and said all right we're gonna glue these things together and we're gonna build this really robust database with a cool data model because dynamo is key value and if you've never worked with a key value database it's good for something's really bad for most things right so this is a richer data model so let's get into the basic architecture of Cassandra so you I this is the this is in the weeds talk we're gonna put on our engineering hat and go so we start out with this lonely node Cassandra node is just a server running a JVM process in this particular case it's a single server now no one this is not how you deploy into production a single node of Cassandra is either on your laptop or a boring database with very little features so not what you want to do but that's okay I'm gonna explain how this works so a Cassandra server stores a certain stores data locally instead it's stored on disk and that data is arranged in a way that it's called a partition and each node has a partition of data now partition is a 64-bit value it's really big but in its we use a consistent hashing algorithm to figure out where that data is partitioned and if you're not familiar to consistent hashing algorithms those are really great little tricks of computer science when you input something it always gives you the same output so you put in a Shakespeare sonnet you get a number you put it in that same Shakespeare respondent you get the exact same number and it's really it's it's also kind of a compression thing which is kind of cool but they were they all there is very similar to encryption hashes but in this case we use them for just always getting the same number out of one string so we use that quite a bit to generate tokens so each node owns a range of tokens now in this case there's just one node so it owns all of them we also do this thing well we have this beginning token like that's what the token we assign to a node that's the beginning of the range for that node we have a thing called virtual nodes which breaks down those those ranges into smaller chunks that's more of an operations thing you'll see how that can be very helpful later whenever we get into large clusters it helps arrange the data in a better way but these are kind of the basic terms of partitioning and tokens so like I said a single node of Cassandra is kind of boring we want to build a cluster now when I first start at my cluster with one node not really a cluster but sort of if I'm gonna we have this imaginary range of 0 to 100 because I don't even know what that's called but a 64-bit number is huge you do not we're not going to use that we're gonna use a more human number like 0 to 100 so when you add a node to the cluster it what we split the the token range in half so 1 will be started at 0 1 will start at 51 and now each one of these servers stores half of the data so you see what we've done we're as we're splitting we're forking out how much data is in there and if I double it again now each node is storing a quarter of the data you can see how the token ranges are breaking it down so when we come when it comes to linear scaling with storage and for reads and writes the story with Cassandra is linear we has a linear readwrite capability or capacity based on how you add nodes so if you need double the capacity you double the amount of node to need and it makes it very good for planning but this is something we could also do online which is something I'll show you all right so we have this set up but having 4 nodes we each node has 1/4 we're right back to our sharding problem you're like dude you didn't show anything that's sharding you and true if you put 4 nodes out there and that's it then good luck when that fourth node or third node goes down you just lost a quarter of your data the replication is really the important part of this this is this is probably the most there's two things that I'm going to show you they're the most important part of a Cassander architecture so the replication is there's this concept of each node I'm gonna walk over here so I can point so each node now is stories a primary range so like the zero to twenty five but this this node right here also stores 76 to 100 it stores its neighbors range so now each node is storing half of the data in the cluster now we're starting our now we have more protection if I lose a node I'll probably be okay but it doesn't give me the most protection the most protection we like to see is a replication factor of three three is a magic number that's a song by the way three is a great number for replication because it's the right number for like that's a good multiple of your data but four or five you start getting diminishing returns it starts being too much replication and you start losing money on how much I mean you don't get as much return on your safety there are some great academic papers on that pretty deadly tech as we talked earlier if you would want to do an academic paper you can only use latech you cannot use PowerPoint or what's the other thing a PDF no it has to look like an academic paper but there's some great academic papers that show that three is a good numbers all right if we have three is a replication factor each node now stores three sets of data primary and two replicas so that means each node in this four node cluster is has three-quarters of the data that means we can now Lowe's two nodes and we still don't lose any data awesome but replication comes with its counterpart which is consistency these are the two things you need to know we're application and consistency replication is great because that means oh good my data is all spread out nicely as a developer you probably want to know what level of if that replication actually happened so if you write data into your into your cluster you want to know that it's there before you move on and as a as a programmer you can specify that consistency level so let's do that so when the client says I want to write to partition 15 that's coming between here so it's right here here and here it's gonna write to that primary node and then out to this replicas okay so this is an asynchronous copy that happens when it writes to I just happen to write to the primary this right can happen to any node any node can act as a coordinator that's what we call that because each node is participating in the cluster it knows where all that data should be so if I wrote to this node right here it would know oh here's where the data should live and it would a synchronously send that data over to the other nodes but when I'm writing it out I don't know what happened so I'm gonna specify when I do that read or write the consistency level and we give it this is the tuning factor and this is actually pretty cool for someone who's writing code because you now have power the the least is what we call a least consistency level is called one and that just means that one replica acknowledges the right to disk or that it has the data that's it so it acknowledges really quickly and a1 is the fastest because we're not waiting for other nodes to return the data so that is a really popular one because it's good for things like IOT you're not losing data you're just moving data into the cluster as fast as possible and the consistency guarantees you're not asking for yes it still replicates the data that does happen but you're not asking for that to complete the transaction now the strong consistency is a quorum quorum means that 51% of the replica nodes I should probably change that to replicas knows not just nodes agree on a read or that they've committed to the disk so in when you have a replication factor of three 51% is 2 so 2 nodes need to say yes I either have I we would agree on the data or that we've written it to disk and if you read and write it quorum that's strong consistency that means when you do a right and then you come along and do a read you'll read the same right so you won't lose you won't have stale data in that now if you do a read at one you have a potential stale data if you do a read right after a right you might get lost your old data or no data at all that's part of how this works now we have this thing this is just to give you some idea of another setting local quorum because whenever we're running in multiple data centers quorum could potentially cross a way in line and we'll get into how this works this is actually one of the superhero tricks that Cassandra does is really good when replication but the local quorum means I only want to get a little quorum in my local data center why because a way link usually generates a lot more latency so like if you're going east coast west coast on Amazon it's like 70 milliseconds 60 milliseconds of hop time that that means that when you do a quorum read you have to wait that 60 or 70 milliseconds for it to do that do a local quorum you'll be happy so now it's consistency what I'm saying is now as a client says right to partition 15 or the seal of 1 I'm tagging that consistency level on when it writes it still writes to the one node and not it writes to all three nodes but the fastest node like this one over here let's say that it the coordinator this node up here in this node right here we're having a bad date because somebody decided to gzip the entire data directory you know who you are because that happens right in production this so this node over here happens to be the fastest well it returns a really fast really fast right you know in those cases whenever I haven't said it you know I've seen some ridiculously fast writes on these because it's the way that it writes and I'll show you how it writes to the disk in a minute but this is how you get that sub-millisecond right SLA all right so whenever man there's a big boom literate quicker me let's say we have this situation where somebody walks in the datacenter and unplugs a rack I may have done that at one point in my life and it takes down a certain group of servers well back in the day when I was doing Oracle RAC if I took down a rack of a literal rack of servers I was not a popular person for another two hours when it resync tall the chorim's so this situation is totally cool in Cassandra Lane if I have two nodes that go down the clients gonna write to the one node that's up and back up and it would be like nothing happened this is that magic moment oh yeah we do have NIRSPEC this is that magic moment where you're just so happy you're using Cassandra and I've had this happen so many times where oh we're doing a we have to do a database update on this one oops I terminated that node by mistake and no one knows the difference that is a magic and we do things like this in the day time too but this is a this is how you keep your customers happy this is how you keep your app online is these things start going you know life happens infrastructure fails it can work around it and what's great now I'll point this out real quick is so data stacks we build all the drivers for Cassandra and for data stacks enterprise we put in all this resiliency inside of our drivers our drivers actually participate in the cluster and the gossip so the what's happening in the cluster so when things are happening in the cluster our drivers are aware there's no configuration file when it starts up it isn't like give me a list of all the notes oh no as nodes are going up and down and disappearing and coming back the drivers are updated in real-time because they have this they're participating in the cluster so whenever you have a node go offline or two of them go offline and everybody knows it the driver just works around it and no one will know the difference that's almost magic but it's computer science so what about quorum same thing we write to the cluster does asynchronous right what if one of those nodes goes down totally fine because now we have two nodes let's remember we need 51 to get that read back multi data center like I said this is the super power of Cassandra I do not understand why databases modern databases don't do this Amazon will not sell you a database that can do this they sell things that will replicate they don't think you cannot buy an active-active database from them and I get why it's hard and it's expensive and they can't they don't want to do it but here's a very DC these are the cross the top Amazon Google cloud we have so many customers that are doing this now that are running in multiple clouds that is really freaking cool we had a demo you guys know sky TV in UK they run in Amazon GCP and on-prem they have three different setups one database across all of it and it's because of the way the database replicates so when I say right to partition 15 it goes to the coordinator now not only does it asynchronously copy in the local data center it also asynchronously copies to another coordinator in another data center and that other data center or multiple data centers and then it does the local async copy so this is how you can run active active not standby database you know that those back when I was doing it was like oh we have a standby data center which means we're paying a hundred percent of the price for something we're never using that's sad there's some great talks online if you you to you go to YouTube and Google do a search for Cassandra multi data center or Cassandra active-active you'll see some great talks by Netflix and a couple others that talked about this but this is what we were trying to survive is both Amazon and Google are great at going down you know they lose infrastructure so fast and it's great because you only pay for it by the hour so when it goes offline you don't pay for it but this stuff is what we're trying to avoid all the things that happen either it's a person it's something at Amazon or Google that went down it broke or an entire cloud or entire data center going down if you are not running in this configuration you have zero chance of 100% uptime you need to be in multiple data centers data centers go down clouds go down and usually not an entire cloud it's like a region right a region goes down sure lots of stuff happening nothing is invincible we have we don't have vibranium data centers yet yet although I bet you when we find what Conda they will have the 100% uptime data center because I just think that might happen all right so let's talk about how to actually use the data base so this is how that was how it worked so relational databases we all use them we all loved them it's all this you know the five normal forms how many in here have actually used the fourth and fifth normal form steals none okay right I had to build a database so when I was in university I was a computer engineering student at Cal Poly we had to build a database that satisfied all five normal forms it sucked so bad no one uses it anyway it's all these normal forms as dean or it's normalizing your data separating out the employees from department I think this is a scott tiger database and you have foreign keys and you can i join you join joanne jokes for SQL and then this the erd isn't this great you feel a little pang of joy when you see this not really relational database modeling is this you create a table you add your constraints this is an actual oracle table you index it then you create a foreign key relationships oh down here so this is how you do relational database modeling and the method is you start with this domain of your data you build the models for that domain and create create that erd print it on the big piece of paper and put it in your office right everyone goes and looks at it where's my data and then you build your application but what happens is you got to know these to get to this right because that's when you like oops we missed our model I'll just join my way out of it and then you impress your friends with your left inner join everyone's like dude that's gonna take like eight hours to run on the server we should put that on the homepage so yeah this is but relational databases were meant to be to Dave built on two concepts which was keeping the amount of duplicate data to a minimum because when they were when it was designed dis cost like a million dollars for a five Meg database or five Meg disk drive and also this maximum flexibility so when the data's in there we could do as millions and millions of different things with it so many joins and all these things that was a different error and it has a lot of utility it's called a data warehouse I use them all the time I think they're great I have an SQL database running on my laptop why because I have data that I want to do a joint I want to do a data warehouse II type discussion or type thing not building applications on it anymore I'm using Cassandra and Cassandra does a different it has a different methodology you start with your application so what am I gonna build because there's an application database what am I going to build then I build my models for that application my data models and then the data is underneath it what does that give you less flexibility so it's reversible relational it's less flexibility in your query models you will have duplicate data in your system however it's super hyper optimized for your application and it's gonna be fast and it's gonna be resilient you're you're flipping the script my application is the most important thing not my data model so let's get into it now this is whenever everyone goes this looks like it's too hard no it's not okay modeling queries how do you do this well we have some basic rules what are your application workflow this is a very interesting concept when you're building an application you actually do know your workflows and it's a part of building an application a bonus more whiteboarding but and then how will I access that data in my application so this is the probably the hardest part of Cassandra is not you know if you don't know the queries ahead of time it's very difficult to build the data model I get it but there is once you get into the pace of this you start seeing well it's like the matrix you start seeing it but there is a methodology to this we have a very formal methodology to I'll show you and yeah this is you can't just join your way out of a problem right or hey I'll just add some indexes and do a joint and we're good right now you got a regular to reduce some things but I'm gonna walk you through this some of this process so this is a application workflow and this application workflow is as I'm designing this application now we have an example application online code killer video ki ll our video why did we drop the e because I couldn't register the domain name otherwise but we have a reference application online this is and it's kinda like YouTube a little bit where we store you know you have videos online people can comment on it you can rate them that sort of thing but this is a standard application workflow like users gonna log in to the website use their own password boom okay once you go there then you're gonna show the basic information for the user or what videos they added the comments that they have and then over here we have a search for the video you're gonna search but once you find that video then show the video in its details so there's this flow of information that's happening I I'm not going to just go directly to show of basic information or the user that has to happen first but that makes sense that's an application workflow there's this is a security violation you don't provide a username and password then this is what like target too soon so anyway so now I'm looking at what those application workflows are and what queries I need to do so if I have a user logged in to us into a site I need to find that user by email address that's probably how I'm going to be looking them up show comments I want to find comments by that by the video the name of the or the UUID of the video so already I'm starting to see my queries here coming out and this is the the process that I'm talking about is now I'm picking through like what I need and then here it is there's what I get out of it we use a query language called Cassandra query language cql instead of SQL CQL is very it's very similar in a lot of ways to SQL however it has a big difference and doesn't do joins and has very limited aggregations so in this case I do a join my employees and department this denormalization stuff that you probably have already done with SQL I remember doing this quite a bit on my Oracle databases I would denormalize them you know denormalize the data to get faster queries put them all in Rowlett that means as I'm putting all my adjacent data into one table so instead of having a employee and department table I have department in with my employees that select first name from employees where ID equals one looks like an SQL query doesn't it that's actually a cql correct so now we're we're crossing over cql is just denormalized is ad normalized access language so i'm this is using CQ l check this is a table creation for Cassandra it's a real table it's not key value it's a real table and it includes a table names and column names and cql types what's different here is a seat that cql type does not require any sizing information and why because data that's stored in a relational database is on a fixed data file and that has allocations for all your different data set I mean so if you have a varchar' 250 it's gonna allocate that many bytes on the disk so because it's a random access pattern as you will see you shortly that's not how Cassandra works so there's no need to to describe the size what's the limit to gigs don't put two gigs and that will blow up your application if you try too extreme because that's the streaming operation that's like a whole huge video file alright so it also includes a primary key same reason this primary key designates the unique record in this case a video ID and what we call that inside of that parenthesis a partition key that's all your terms so we do it when we do an insert same thing table name fields we have to include the partition key that's the required part of this and you'll see in a minute why but and then the rest of it is just values looks really familiar right so let's talk about partition keys because in a data model I'm gonna I'm gonna explain to you the most important part of a data model which is the primary key partition keys are these things right here now I probably pick the worst possible partition key because I used a UUID and you look like man how am I gonna make that well just go with it for a minute I need to change this slide but we usually I use a UID in this case because this is actually a real application but taking this the UUID which is a nasty number running it through a murmur three hash murmur three is our consistent hashing algorithm it kicks out these tokens these are just numerix and it will always kick those out so the consistent hash of course is should be a 64-bit number my bad between 2 to the negative 60 to 64 doesn't matter the point is is that it will be a consistent number every time and the chances of collision are astronomical I don't say impossible nothing's impossible but you won't have collisions inside your database the select okay now I want my data looks pretty similar table name fields again partition key is required and this is where you get a little sideways on a cql data model is that now we're getting to some requirements that you didn't quite need in SQL and like you could just select off of any field or you could just say select fields from table you could do a select fields from table in cql except what it winds up doing is grabbing all of the data from the cluster and you think of full table scans bed and try a full cluster scan that'll take a while and probably time out anyway the partition key is really important in a select query let's dig into why let's dig in a by area okay oh sorry and here's an example of the data area why is a partition key important in this case well this partition key as you see it let's see you have a thousand node cluster and those are in the wild they exist a lot a thousand node cluster is a lot of data spread out over a lot of nodes now if I want to find this video ad I do not want to scan that whole thing that's what that's a spark job that'll take a while but what I'm gonna do is I'm gonna if you remember each one of these nodes has a token range well if I put that partition key through the Maru 3 hash and I get a token then I know exactly where it is and it's right there on that node it'll always be in that node and that's the key is with a thousand node cluster that data is only in one place Plus that's two replicas that's it so if I have a thousand nodes four nodes doesn't matter there's always gonna be in the same place sequences this is another one that's like oh I can't I have to have this you've probably done this before create sequence so that's like creating an ID every time you say select into create or select or insert into and you create an auto ID those are great they're supposed to be unique although I've blown up sequences before you need acid to make that work why because you can't have two things get the same number there's a race condition you cannot manage okay so I'm not gonna do this what we do and this is actually a distributed computing thing not just Cassandra is instead of using IDs that are incremental or generated we use these new IDs you IDs are fantastic because they can be generated on the client they're guaranteed to be unique somewhere in the universe generally there are like 128-bit number that's most of the hell you IDs work there like I said too easily generated on the client but they're also baked into like every bit of Java Python every programming language has a way to generate new IDs so now we have this dynamic table this is where like I said the primary key I'm showing you the most important thing now partition key is a first value in a primary key the second and every other value after it's called a clustering call and that clustering column is really important for ordering data and I'll show you how it works so the primary key relationship we have a partition key clustering column on the disk we're storing the data model which is like the header for the record on disk remember BigTable I told you about BigTable which is this really large sequential group of data well the partition key is going to be the header of the record the actual data that's stored on disk is going to be ordered by that clustering column so this clustering column is setting up this order of operations after the data model why is that important well I'm co-locating my data on disk next to my partition key so how does that look well when I have a partition key in a cluster what I'm really doing is I have all these partition keys are the same but look at these clustering columns are all different so I've created it already baked in order to my table based on the clustering column so this is my order by built into the data model so if I have multiple partition keys multiple cluster columns this is what a table actually looks like under the covers is that I have a partition key and a clustering column and then here's all my other columns and this data all of this data right here is located on the same spot on the disk this is located on the same spot on the disk so in just to finish up the data modeling thing when you have multiple tables the storage of that is what's called a key space key space and cassandra is like a schema or a database and some but key space the only thing that really is important about a key space is it stores the replication information so if I want this replicated across multiple data centers I say replication factor 3 or I'm sorry yeah replication factor 3 here and I could say replication factor at a different of 2 at a different data center or it's 0 if I don't want that copy that data copied over so that's what the key space is good for so controlling order if I'm inserting data into my database like this this is a time series database I'm looking what I've done here I have a weather station with year-month-day an hour so what I've done is I've created this very orderly table now of correct weather data so now it's in Time series data a time order so I have my order by descending but what if I want to flip that around now I have my user videos that at what time I've added them what that does is that gives me the ability to ask the database for the data and I could say limit five and I get the last five things that I did it's really powerful all right I'm on oh yeah yeah so how does this work on the disk and this is real quick primer on right path so when I insert data into the system it writes to the commit log it actually writes to the disk before anything so this is how this is why it's durable it's not in a memory database if then writes it so every write appends to the commit log but it also writes to the mem table once it does the right to the mem table it sends an acknowledgement back to the client the clients happy it moves on so that data lists here in there eventually what happens is the mem table flushes out to disk well what it does is it flushes out this exact order that you built in your data model onto the disk that means now that your data is an assorted order on disk so as just building more SS tables that's kicking out more SS tables eventually what happens is we want to join those together we do this thing called a compaction it reads all the SS tables and writes out one long one but it orders the data properly given your data model so now we're maintaining order and keeping your data nice and compact and using the data model you've created so kind of a last thing here is the storage model just to kind of give you an idea of how it looks on the disk whenever I'm writing data this is the weather station look at the times they're all in order based on the header on disk and whenever I add data to the system it's gonna append that record to that large partition that's the part of that big table model this gives us some really fast e to access patterns so the read path pretty simple it just reads the data from it has to read all the data from the SS cables true but it sorts it in that Memel properly and then sends it back to the client so that that sort order is kept so whenever I read my data I get the partition key for locality that tells me where it is in the universe like what node it is in the cluster I do that single seek on the disk I do a sequential read I pull it up into a table this is what programmers one rows and columns good to go done whoa all right that was data modeling that we also have a really long course Wendy s to 20 on Academy for free you could see more of us but this is a you got enough to be dangerous at this point so let me talk a little bit about Cassandra for dough and then we're going to talk about clustering algorithms because that's why you're really here so Cassandra for Dodos is when is it gonna be released soon it's open source come on it's an Apache project we when it's done ish we're probably probably like summer fall it'll be ready it's out there you can go use it but it's not it's in a code freeze right now but they're still testing and changes going on this is a huge stability release and 3oh was a big change to the underlying data store and for Dodos is kind of like to paying off a bit of technical debt we're getting rid of thrift a few other things but there's a big change it's like this asynchronous data mode communication this is actually outdated we now have not 20% faster it's five times faster it's using Metis to do a lot of the communication is doing zero copies this means that you can bring your nodes up faster when you're bringing new load nodes into your cluster needless to say a lot of this stuff came from Apple Apple lard runs some of the biggest clusters in the world and they are all about making it super efficient and fast there's some restart condition issues that we've had over the years and it's getting a lot of that's getting cleaned up also some stuff inside the slow query logs the slow or large query log like something is taking too long you want to know what if someone did do a full clock your scan and it also has the ability to stop if someone did say select star from from table go it's gonna run for a long time well it'll stop those big long cluster killers the big features that are coming and these are the features not the stabilities pluggable storage Facebook Instagram has been working on a lot of that they want to use this specifically for adding rocks DB as a storage engine underneath Cassandra but pluggable storage in general as a database concept that that's a big contribution from Facebook audit logging that's a contribution that's coming from uber and this is for secure like security compliance like who's accessing my data virtual tables this is the one that I've been waiting for for three or four years now and that's just creating tables that actually are under it's not a materialized view what it is is tables that show underlying operating statistics from the running database so you can say select your Naveed dollar-sign tables for instance from oracle that show you underlying performance counters that's what virtual tables are and then finally there's about six or seven in management side card proposals out right now basically it's an HTTP process it runs along with the nodes so you can run things like repairs and things like that it gives you better ways you can manage the cluster another thing which is really fascinating and data stacks has been doing a lot of the lead on this and there's some other Cassandra community members working on this and this is this is pretty early early statistics but we're looking at some of the new garbage collection algorithms that are out there one in which is really interesting as a zgc and this this is really interesting stuff we are getting like these this is the the public graph that I could show the stuff that I can't show is even more interesting because it's unbelievable but we're still testing it there's some gotchas though it was very interesting but what we're showing here is like these these latency numbers 99 members of like a second or a millisecond where you know when we start looking at P 99 for a different style than how many different readers and writers we have going on you know it starts degrading over time not with zgc it's just rock steady and when you look at read and write graphs it's just a straight line it's amazing there's no fluctuation at all so we're really excited about potentially not having to tune zgc ever again like I said there we found some problems because now that when you get rid of GC problems you find new problems right you move one and get another all right that is me thank you very much any questions while we're switching laptops here yeah thank you",
    "segments": [
      {
        "start": 2.46,
        "duration": 4.769,
        "text": "okay yeah cuz Ryan has seen this before"
      },
      {
        "start": 4.98,
        "duration": 5.39,
        "text": "this is an introduction Apache Cassandra"
      },
      {
        "start": 7.229,
        "duration": 5.401,
        "text": "if you've never used it seen it"
      },
      {
        "start": 10.37,
        "duration": 4.93,
        "text": "understood it maybe you heard the rumors"
      },
      {
        "start": 12.63,
        "duration": 3.749,
        "text": "saw some really cool slides from Apple"
      },
      {
        "start": 15.3,
        "duration": 4.44,
        "text": "and you're like it's not a legitimate"
      },
      {
        "start": 16.379,
        "duration": 5.811,
        "text": "database is it well I'm here to tell you"
      },
      {
        "start": 19.74,
        "duration": 5.879,
        "text": "it is it's been around for a long time"
      },
      {
        "start": 22.19,
        "duration": 6.04,
        "text": "and it's crossed over the 10-year mark"
      },
      {
        "start": 25.619,
        "duration": 5.551,
        "text": "which i think is a good mark it's a"
      },
      {
        "start": 28.23,
        "duration": 3.899,
        "text": "stable database it's getting where I'm"
      },
      {
        "start": 31.17,
        "duration": 6.3,
        "text": "gonna be talking a little bit about"
      },
      {
        "start": 32.129,
        "duration": 7.381,
        "text": "cassandra 4.0 4.0 is is more of a it's a"
      },
      {
        "start": 37.47,
        "duration": 3.96,
        "text": "milestone release for sure it has a lot"
      },
      {
        "start": 39.51,
        "duration": 3.9,
        "text": "of a lot more if you look at the"
      },
      {
        "start": 41.43,
        "duration": 4.62,
        "text": "features that are gonna be released for"
      },
      {
        "start": 43.41,
        "duration": 5.01,
        "text": "dotto it's like a mature database"
      },
      {
        "start": 46.05,
        "duration": 4.65,
        "text": "release because it's not booooo these"
      },
      {
        "start": 48.42,
        "duration": 4.35,
        "text": "crazy features it's like here's all"
      },
      {
        "start": 50.7,
        "duration": 5.31,
        "text": "these stability changes and developer"
      },
      {
        "start": 52.77,
        "duration": 5.969,
        "text": "productivity changes and more of that"
      },
      {
        "start": 56.01,
        "duration": 5.279,
        "text": "maturity level of a long-term database"
      },
      {
        "start": 58.739,
        "duration": 5.431,
        "text": "that's being used at incredible scales"
      },
      {
        "start": 61.289,
        "duration": 5.971,
        "text": "everywhere you don't want to make big"
      },
      {
        "start": 64.17,
        "duration": 4.53,
        "text": "changes to things when you know half of"
      },
      {
        "start": 67.26,
        "duration": 5.789,
        "text": "the world's commerce is running off of"
      },
      {
        "start": 68.7,
        "duration": 7.14,
        "text": "it and that's a true number all right"
      },
      {
        "start": 73.049,
        "duration": 4.921,
        "text": "so cloud applications this is where"
      },
      {
        "start": 75.84,
        "duration": 4.02,
        "text": "everyone is writing their applications"
      },
      {
        "start": 77.97,
        "duration": 4.2,
        "text": "is for the cloud right and if you're not"
      },
      {
        "start": 79.86,
        "duration": 5.1,
        "text": "you probably will eventually but every"
      },
      {
        "start": 82.17,
        "duration": 5.01,
        "text": "cloud application has a basic need and"
      },
      {
        "start": 84.96,
        "duration": 3.69,
        "text": "the kind of applications that we like to"
      },
      {
        "start": 87.18,
        "duration": 4.38,
        "text": "talk about we are an application"
      },
      {
        "start": 88.65,
        "duration": 6.53,
        "text": "database Cassandra data stacks we're the"
      },
      {
        "start": 91.56,
        "duration": 6.72,
        "text": "experts in this for sure but any kind of"
      },
      {
        "start": 95.18,
        "duration": 4.57,
        "text": "data that is close to or your users is"
      },
      {
        "start": 98.28,
        "duration": 3.21,
        "text": "the data that we want to talk to you"
      },
      {
        "start": 99.75,
        "duration": 4.32,
        "text": "about it's not a back-end database it's"
      },
      {
        "start": 101.49,
        "duration": 6.36,
        "text": "not a Hadoop II thing a sparky thing"
      },
      {
        "start": 104.07,
        "duration": 6.96,
        "text": "it's a application database so things"
      },
      {
        "start": 107.85,
        "duration": 4.68,
        "text": "like IOT financial data gaming some of"
      },
      {
        "start": 111.03,
        "duration": 3.629,
        "text": "the coolest projects I ever worked on"
      },
      {
        "start": 112.53,
        "duration": 5.97,
        "text": "we're gaming projects like Call of Duty"
      },
      {
        "start": 114.659,
        "duration": 6.841,
        "text": "all that database behind that Cassandra"
      },
      {
        "start": 118.5,
        "duration": 5.22,
        "text": "I got to go to a launch for Call of Duty"
      },
      {
        "start": 121.5,
        "duration": 4.799,
        "text": "that was so freakin cool you know what I"
      },
      {
        "start": 123.72,
        "duration": 4.62,
        "text": "couldn't do play call of duty because I"
      },
      {
        "start": 126.299,
        "duration": 5.25,
        "text": "didn't sign the right form like you"
      },
      {
        "start": 128.34,
        "duration": 4.649,
        "text": "gotta be kidding me so I have used every"
      },
      {
        "start": 131.549,
        "duration": 4.591,
        "text": "single these are all the ones I've"
      },
      {
        "start": 132.989,
        "duration": 5.281,
        "text": "broken in production"
      },
      {
        "start": 136.14,
        "duration": 4.35,
        "text": "I've been called at 3m on most of those"
      },
      {
        "start": 138.27,
        "duration": 5.97,
        "text": "on the left the ones on the right I"
      },
      {
        "start": 140.49,
        "duration": 6.27,
        "text": "blame somebody else so but this is this"
      },
      {
        "start": 144.24,
        "duration": 4.35,
        "text": "is what the landscape is and if you're"
      },
      {
        "start": 146.76,
        "duration": 3.39,
        "text": "on that left-hand side still today"
      },
      {
        "start": 148.59,
        "duration": 3.72,
        "text": "that's still these are still valid"
      },
      {
        "start": 150.15,
        "duration": 4.86,
        "text": "databases out there I mean or those"
      },
      {
        "start": 152.31,
        "duration": 6.83,
        "text": "buildings still there in Oracle and it's"
      },
      {
        "start": 155.01,
        "duration": 10.41,
        "text": "matter-of-fact Oracle Microsoft or big"
      },
      {
        "start": 159.14,
        "duration": 8.29,
        "text": "sponsors of the deuced exercise an IBM -"
      },
      {
        "start": 165.42,
        "duration": 5.76,
        "text": "that's kind of weird all of a sudden I"
      },
      {
        "start": 167.43,
        "duration": 8.01,
        "text": "think about it huh anyway it is a little"
      },
      {
        "start": 171.18,
        "duration": 16.11,
        "text": "strange so what's that and you have more"
      },
      {
        "start": 175.44,
        "duration": 13.62,
        "text": "- nice target audience so what I'm"
      },
      {
        "start": 187.29,
        "duration": 3.62,
        "text": "telling you is new stuff I don't feel"
      },
      {
        "start": 189.06,
        "duration": 4.92,
        "text": "like I'm repeating myself this is great"
      },
      {
        "start": 190.91,
        "duration": 5.83,
        "text": "so this is that this is a very famous"
      },
      {
        "start": 193.98,
        "duration": 6.63,
        "text": "quote which I if you're using these"
      },
      {
        "start": 196.74,
        "duration": 6.56,
        "text": "older databases to do modern stuff I'm"
      },
      {
        "start": 200.61,
        "duration": 7.8,
        "text": "gonna change this definition to this"
      },
      {
        "start": 203.3,
        "duration": 8.409,
        "text": "which is you know I've spent years I"
      },
      {
        "start": 208.41,
        "duration": 6.63,
        "text": "actually worked in this neighborhood in"
      },
      {
        "start": 211.709,
        "duration": 6.091,
        "text": "like 1998 I know back in the day right"
      },
      {
        "start": 215.04,
        "duration": 4.68,
        "text": "coms are cool we had tens of users out"
      },
      {
        "start": 217.8,
        "duration": 3.63,
        "text": "there it was awesome I made so much"
      },
      {
        "start": 219.72,
        "duration": 4.26,
        "text": "money off of getting an Oracle database"
      },
      {
        "start": 221.43,
        "duration": 7.65,
        "text": "to talk to a Java servlet everybody's"
      },
      {
        "start": 223.98,
        "duration": 7.59,
        "text": "like you're a wizard no but that was"
      },
      {
        "start": 229.08,
        "duration": 4.11,
        "text": "that was fun but those databases then"
      },
      {
        "start": 231.57,
        "duration": 4.95,
        "text": "were great why because we only had a few"
      },
      {
        "start": 233.19,
        "duration": 5.64,
        "text": "few users then Google and Facebook come"
      },
      {
        "start": 236.52,
        "duration": 5.25,
        "text": "along and blow it all out the window so"
      },
      {
        "start": 238.83,
        "duration": 4.86,
        "text": "this is how I spent a lot of my first"
      },
      {
        "start": 241.77,
        "duration": 3.96,
        "text": "days trying to scale a large-scale"
      },
      {
        "start": 243.69,
        "duration": 4.61,
        "text": "database is just like break it into"
      },
      {
        "start": 245.73,
        "duration": 5.61,
        "text": "pieces and do this charting routine and"
      },
      {
        "start": 248.3,
        "duration": 5.26,
        "text": "my this is probably an old joke now that"
      },
      {
        "start": 251.34,
        "duration": 5.79,
        "text": "Ryan knows this one friends don't let"
      },
      {
        "start": 253.56,
        "duration": 5.01,
        "text": "friends shard that's bad because what"
      },
      {
        "start": 257.13,
        "duration": 2.639,
        "text": "happens when you do that because you're"
      },
      {
        "start": 258.57,
        "duration": 4.23,
        "text": "probably gonna do something like this"
      },
      {
        "start": 259.769,
        "duration": 4.891,
        "text": "where you break it up and like into"
      },
      {
        "start": 262.8,
        "duration": 3.39,
        "text": "domains like oh we're gonna buy a"
      },
      {
        "start": 264.66,
        "duration": 2.91,
        "text": "customer name or something like that and"
      },
      {
        "start": 266.19,
        "duration": 3.56,
        "text": "what happens when you lose like the"
      },
      {
        "start": 267.57,
        "duration": 3.31,
        "text": "primary and then"
      },
      {
        "start": 269.75,
        "duration": 3.42,
        "text": "everything goes to hell in a handbasket"
      },
      {
        "start": 270.88,
        "duration": 3.94,
        "text": "everybody with a name that ends with end"
      },
      {
        "start": 273.17,
        "duration": 5.1,
        "text": "through T is gonna be really pissed off"
      },
      {
        "start": 274.82,
        "duration": 6.81,
        "text": "at this point and it's not a good way to"
      },
      {
        "start": 278.27,
        "duration": 4.11,
        "text": "sustain a business Twitter actually got"
      },
      {
        "start": 281.63,
        "duration": 3.21,
        "text": "over the hump"
      },
      {
        "start": 282.38,
        "duration": 4.62,
        "text": "remember the fail wail oh let's see the"
      },
      {
        "start": 284.84,
        "duration": 3.39,
        "text": "fail is like almost like ancient history"
      },
      {
        "start": 287.0,
        "duration": 2.88,
        "text": "now but the fail"
      },
      {
        "start": 288.23,
        "duration": 3.36,
        "text": "Twitter was down more than it was up"
      },
      {
        "start": 289.88,
        "duration": 4.34,
        "text": "naturally that was the fun part of using"
      },
      {
        "start": 291.59,
        "duration": 6.0,
        "text": "Twitter is finding out if it was online"
      },
      {
        "start": 294.22,
        "duration": 6.16,
        "text": "but the you know you can't do that"
      },
      {
        "start": 297.59,
        "duration": 5.37,
        "text": "anymore apps go offline people freak out"
      },
      {
        "start": 300.38,
        "duration": 3.39,
        "text": "and they move on to the next one come on"
      },
      {
        "start": 302.96,
        "duration": 5.76,
        "text": "keep going"
      },
      {
        "start": 303.77,
        "duration": 7.02,
        "text": "okay I'm killing this thing slowly so a"
      },
      {
        "start": 308.72,
        "duration": 3.66,
        "text": "twenty two thousand five and this is"
      },
      {
        "start": 310.79,
        "duration": 3.48,
        "text": "when I was working in infrastructure I"
      },
      {
        "start": 312.38,
        "duration": 5.79,
        "text": "was running infrastructure for a a SAS"
      },
      {
        "start": 314.27,
        "duration": 5.97,
        "text": "company we broke the internet and why"
      },
      {
        "start": 318.17,
        "duration": 4.89,
        "text": "because we just couldn't Rach enough"
      },
      {
        "start": 320.24,
        "duration": 6.36,
        "text": "servers I was literally bringing in"
      },
      {
        "start": 323.06,
        "duration": 6.24,
        "text": "pallets of servers in these coalos we"
      },
      {
        "start": 326.6,
        "duration": 4.32,
        "text": "were doing Equinix down in San Jose we"
      },
      {
        "start": 329.3,
        "duration": 4.02,
        "text": "couldn't put enough servers in there and"
      },
      {
        "start": 330.92,
        "duration": 4.68,
        "text": "we couldn't buy in a bandwidth and why"
      },
      {
        "start": 333.32,
        "duration": 5.34,
        "text": "because we started doing this stuff with"
      },
      {
        "start": 335.6,
        "duration": 6.71,
        "text": "and this is really networking because of"
      },
      {
        "start": 338.66,
        "duration": 6.6,
        "text": "this right that these things are"
      },
      {
        "start": 342.31,
        "duration": 6.28,
        "text": "horrible because they just told the"
      },
      {
        "start": 345.26,
        "duration": 7.17,
        "text": "whole world that your experience your"
      },
      {
        "start": 348.59,
        "duration": 7.02,
        "text": "online experience is now 24/7 so now we"
      },
      {
        "start": 352.43,
        "duration": 5.55,
        "text": "expect remember maybe some of you"
      },
      {
        "start": 355.61,
        "duration": 4.26,
        "text": "probably never heard of this but banks"
      },
      {
        "start": 357.98,
        "duration": 3.45,
        "text": "used to be open from nine o'clock in the"
      },
      {
        "start": 359.87,
        "duration": 4.35,
        "text": "morning till about 3:00 or 4:00 in the"
      },
      {
        "start": 361.43,
        "duration": 5.73,
        "text": "afternoon that's the only time you could"
      },
      {
        "start": 364.22,
        "duration": 4.95,
        "text": "get your money can you imagine not be"
      },
      {
        "start": 367.16,
        "duration": 6.72,
        "text": "able do banking on your phone at 3:00"
      },
      {
        "start": 369.17,
        "duration": 7.11,
        "text": "a.m. in Europe I mean it just changed"
      },
      {
        "start": 373.88,
        "duration": 4.17,
        "text": "everything and so we broke the internet"
      },
      {
        "start": 376.28,
        "duration": 4.5,
        "text": "and everything is different now"
      },
      {
        "start": 378.05,
        "duration": 4.11,
        "text": "everything has to be online 24/7 it has"
      },
      {
        "start": 380.78,
        "duration": 4.59,
        "text": "to be phone quality meaning that"
      },
      {
        "start": 382.16,
        "duration": 5.25,
        "text": "whenever I go like this and oh click"
      },
      {
        "start": 385.37,
        "duration": 5.19,
        "text": "it's there it's available ready to go"
      },
      {
        "start": 387.41,
        "duration": 5.43,
        "text": "fast because when it isn't things bad"
      },
      {
        "start": 390.56,
        "duration": 3.99,
        "text": "things happen so around that time is"
      },
      {
        "start": 392.84,
        "duration": 3.69,
        "text": "when the Dynamo paper came out and this"
      },
      {
        "start": 394.55,
        "duration": 3.84,
        "text": "is one of those papers that is really"
      },
      {
        "start": 396.53,
        "duration": 3.69,
        "text": "really cool look I got a Voldemort quote"
      },
      {
        "start": 398.39,
        "duration": 2.88,
        "text": "on there do you see that they were"
      },
      {
        "start": 400.22,
        "duration": 3.089,
        "text": "talking about Bouldin where he works at"
      },
      {
        "start": 401.27,
        "duration": 3.899,
        "text": "LinkedIn Voldemort"
      },
      {
        "start": 403.309,
        "duration": 4.38,
        "text": "I'll get to that in a second so dynamo"
      },
      {
        "start": 405.169,
        "duration": 4.53,
        "text": "paper was one of those like wow this"
      },
      {
        "start": 407.689,
        "duration": 4.98,
        "text": "really is cool because it here's how to"
      },
      {
        "start": 409.699,
        "duration": 5.22,
        "text": "do all these things and it's about"
      },
      {
        "start": 412.669,
        "duration": 4.83,
        "text": "performance and reliability and keeping"
      },
      {
        "start": 414.919,
        "duration": 4.35,
        "text": "your data from going south and really"
      },
      {
        "start": 417.499,
        "duration": 3.48,
        "text": "when it came down to is Amazon and I"
      },
      {
        "start": 419.269,
        "duration": 4.77,
        "text": "actually know a couple people on this"
      },
      {
        "start": 420.979,
        "duration": 6.39,
        "text": "paper Amazon was sick and tired of"
      },
      {
        "start": 424.039,
        "duration": 6.75,
        "text": "paying Oracle and not getting the"
      },
      {
        "start": 427.369,
        "duration": 5.96,
        "text": "reliability they needed Jeff Bezos loves"
      },
      {
        "start": 430.789,
        "duration": 6.48,
        "text": "money I don't know if you know that and"
      },
      {
        "start": 433.329,
        "duration": 5.77,
        "text": "this was to replace the shopping cart on"
      },
      {
        "start": 437.269,
        "duration": 3.98,
        "text": "Amazon because they couldn't keep it"
      },
      {
        "start": 439.099,
        "duration": 4.17,
        "text": "online long enough because you know"
      },
      {
        "start": 441.249,
        "duration": 4.81,
        "text": "relational database works when you do an"
      },
      {
        "start": 443.269,
        "duration": 4.98,
        "text": "upgrade you got to bring it down and if"
      },
      {
        "start": 446.059,
        "duration": 6.0,
        "text": "you don't have a secondary over it's a"
      },
      {
        "start": 448.249,
        "duration": 8.01,
        "text": "crime did you hear this thank you thank"
      },
      {
        "start": 452.059,
        "duration": 5.91,
        "text": "you when when you have a relational"
      },
      {
        "start": 456.259,
        "duration": 4.29,
        "text": "database that is in front of something"
      },
      {
        "start": 457.969,
        "duration": 5.31,
        "text": "mission-critical it's built in downtime"
      },
      {
        "start": 460.549,
        "duration": 4.65,
        "text": "you you can't avoid it so using some"
      },
      {
        "start": 463.279,
        "duration": 4.65,
        "text": "computer science how do we avoid"
      },
      {
        "start": 465.199,
        "duration": 4.56,
        "text": "downtime hard problem but they did a"
      },
      {
        "start": 467.929,
        "duration": 4.86,
        "text": "really good job of describing how that"
      },
      {
        "start": 469.759,
        "duration": 6.39,
        "text": "work interesting enough they never built"
      },
      {
        "start": 472.789,
        "duration": 5.67,
        "text": "this DynamoDB in Amazon is not from the"
      },
      {
        "start": 476.149,
        "duration": 6.66,
        "text": "Dynamo paper they just co-opted the name"
      },
      {
        "start": 478.459,
        "duration": 8.31,
        "text": "funny funny story however it started a"
      },
      {
        "start": 482.809,
        "duration": 5.79,
        "text": "revolution or an evolution react which"
      },
      {
        "start": 486.769,
        "duration": 4.62,
        "text": "is another database was very popular for"
      },
      {
        "start": 488.599,
        "duration": 4.68,
        "text": "a long time had a very bad fall out"
      },
      {
        "start": 491.389,
        "duration": 3.81,
        "text": "Voldemort which we were laughing about"
      },
      {
        "start": 493.279,
        "duration": 4.5,
        "text": "it about LinkedIn LinkedIn built to sing"
      },
      {
        "start": 495.199,
        "duration": 3.9,
        "text": "called Voldemort all based on dynamo and"
      },
      {
        "start": 497.779,
        "duration": 5.28,
        "text": "then this little database called"
      },
      {
        "start": 499.099,
        "duration": 5.82,
        "text": "Cassandra BigTable was also a pretty"
      },
      {
        "start": 503.059,
        "duration": 4.051,
        "text": "influential paper in that time and this"
      },
      {
        "start": 504.919,
        "duration": 4.86,
        "text": "was about how to get AB data model that"
      },
      {
        "start": 507.11,
        "duration": 5.399,
        "text": "is closer to what we use in our"
      },
      {
        "start": 509.779,
        "duration": 5.69,
        "text": "applications long sequential forms of"
      },
      {
        "start": 512.509,
        "duration": 6.15,
        "text": "data linear reads that sort of thing"
      },
      {
        "start": 515.469,
        "duration": 5.29,
        "text": "Cassandra came out a year later and"
      },
      {
        "start": 518.659,
        "duration": 4.37,
        "text": "Avinash and Prashant both were on that"
      },
      {
        "start": 520.759,
        "duration": 4.741,
        "text": "original Dynamo paper that you saw"
      },
      {
        "start": 523.029,
        "duration": 5.081,
        "text": "Avinash is one of the funniest dude"
      },
      {
        "start": 525.5,
        "duration": 3.379,
        "text": "you'll ever talk to either he's a"
      },
      {
        "start": 528.11,
        "duration": 5.37,
        "text": "character"
      },
      {
        "start": 528.879,
        "duration": 7.281,
        "text": "but the Cassandra Cassandra was built at"
      },
      {
        "start": 533.48,
        "duration": 5.23,
        "text": "Facebook to replace their messenger"
      },
      {
        "start": 536.16,
        "duration": 6.06,
        "text": "and the h beef team got ahead of him and"
      },
      {
        "start": 538.71,
        "duration": 5.49,
        "text": "so he got all pissed off and he put it"
      },
      {
        "start": 542.22,
        "duration": 4.95,
        "text": "in the Apache project there's only one"
      },
      {
        "start": 544.2,
        "duration": 4.59,
        "text": "Apache project that came from Facebook"
      },
      {
        "start": 547.17,
        "duration": 4.38,
        "text": "and it was Cassandra and he did it"
      },
      {
        "start": 548.79,
        "duration": 4.29,
        "text": "without telling anybody yeah so that's a"
      },
      {
        "start": 551.55,
        "duration": 2.91,
        "text": "fun story you like see this is a San"
      },
      {
        "start": 553.08,
        "duration": 2.01,
        "text": "Francisco crowd I got to tell you these"
      },
      {
        "start": 554.46,
        "duration": 2.58,
        "text": "stories"
      },
      {
        "start": 555.09,
        "duration": 3.92,
        "text": "I won't tell us the Chicago story no"
      },
      {
        "start": 557.04,
        "duration": 5.07,
        "text": "Chicago will now get this story at all"
      },
      {
        "start": 559.01,
        "duration": 4.78,
        "text": "so it featured all these things about"
      },
      {
        "start": 562.11,
        "duration": 4.41,
        "text": "dynamo about uptime but it took the"
      },
      {
        "start": 563.79,
        "duration": 3.9,
        "text": "BigTable dated model and said all right"
      },
      {
        "start": 566.52,
        "duration": 2.94,
        "text": "we're gonna glue these things together"
      },
      {
        "start": 567.69,
        "duration": 3.6,
        "text": "and we're gonna build this really robust"
      },
      {
        "start": 569.46,
        "duration": 3.69,
        "text": "database with a cool data model because"
      },
      {
        "start": 571.29,
        "duration": 3.6,
        "text": "dynamo is key value and if you've never"
      },
      {
        "start": 573.15,
        "duration": 4.23,
        "text": "worked with a key value database it's"
      },
      {
        "start": 574.89,
        "duration": 5.34,
        "text": "good for something's really bad for most"
      },
      {
        "start": 577.38,
        "duration": 5.55,
        "text": "things right so this is a richer data"
      },
      {
        "start": 580.23,
        "duration": 5.04,
        "text": "model so let's get into the basic"
      },
      {
        "start": 582.93,
        "duration": 5.22,
        "text": "architecture of Cassandra so you I this"
      },
      {
        "start": 585.27,
        "duration": 4.82,
        "text": "is the this is in the weeds talk we're"
      },
      {
        "start": 588.15,
        "duration": 5.34,
        "text": "gonna put on our engineering hat and go"
      },
      {
        "start": 590.09,
        "duration": 5.11,
        "text": "so we start out with this lonely node"
      },
      {
        "start": 593.49,
        "duration": 5.28,
        "text": "Cassandra node is just a server running"
      },
      {
        "start": 595.2,
        "duration": 6.27,
        "text": "a JVM process in this particular case"
      },
      {
        "start": 598.77,
        "duration": 5.48,
        "text": "it's a single server now no one this is"
      },
      {
        "start": 601.47,
        "duration": 4.89,
        "text": "not how you deploy into production a"
      },
      {
        "start": 604.25,
        "duration": 3.79,
        "text": "single node of Cassandra is either on"
      },
      {
        "start": 606.36,
        "duration": 4.11,
        "text": "your laptop or a boring database with"
      },
      {
        "start": 608.04,
        "duration": 3.66,
        "text": "very little features so not what you"
      },
      {
        "start": 610.47,
        "duration": 2.45,
        "text": "want to do but that's okay I'm gonna"
      },
      {
        "start": 611.7,
        "duration": 6.09,
        "text": "explain how this works"
      },
      {
        "start": 612.92,
        "duration": 7.03,
        "text": "so a Cassandra server stores a certain"
      },
      {
        "start": 617.79,
        "duration": 5.43,
        "text": "stores data locally instead it's stored"
      },
      {
        "start": 619.95,
        "duration": 6.12,
        "text": "on disk and that data is arranged in a"
      },
      {
        "start": 623.22,
        "duration": 5.43,
        "text": "way that it's called a partition and"
      },
      {
        "start": 626.07,
        "duration": 4.77,
        "text": "each node has a partition of data now"
      },
      {
        "start": 628.65,
        "duration": 3.33,
        "text": "partition is a 64-bit value it's really"
      },
      {
        "start": 630.84,
        "duration": 4.29,
        "text": "big"
      },
      {
        "start": 631.98,
        "duration": 5.58,
        "text": "but in its we use a consistent hashing"
      },
      {
        "start": 635.13,
        "duration": 4.35,
        "text": "algorithm to figure out where that data"
      },
      {
        "start": 637.56,
        "duration": 3.0,
        "text": "is partitioned and if you're not"
      },
      {
        "start": 639.48,
        "duration": 3.6,
        "text": "familiar to consistent hashing"
      },
      {
        "start": 640.56,
        "duration": 3.93,
        "text": "algorithms those are really great little"
      },
      {
        "start": 643.08,
        "duration": 3.78,
        "text": "tricks of computer science when you"
      },
      {
        "start": 644.49,
        "duration": 4.44,
        "text": "input something it always gives you the"
      },
      {
        "start": 646.86,
        "duration": 4.26,
        "text": "same output so you put in a Shakespeare"
      },
      {
        "start": 648.93,
        "duration": 3.6,
        "text": "sonnet you get a number you put it in"
      },
      {
        "start": 651.12,
        "duration": 3.18,
        "text": "that same Shakespeare respondent you get"
      },
      {
        "start": 652.53,
        "duration": 3.33,
        "text": "the exact same number and it's really"
      },
      {
        "start": 654.3,
        "duration": 4.44,
        "text": "it's it's also kind of a compression"
      },
      {
        "start": 655.86,
        "duration": 5.07,
        "text": "thing which is kind of cool but they"
      },
      {
        "start": 658.74,
        "duration": 3.87,
        "text": "were they all there is very similar to"
      },
      {
        "start": 660.93,
        "duration": 3.63,
        "text": "encryption hashes but in this case we"
      },
      {
        "start": 662.61,
        "duration": 4.74,
        "text": "use them for just always getting the"
      },
      {
        "start": 664.56,
        "duration": 4.81,
        "text": "same number out of one string so we use"
      },
      {
        "start": 667.35,
        "duration": 5.14,
        "text": "that quite a bit to generate tokens"
      },
      {
        "start": 669.37,
        "duration": 5.04,
        "text": "so each node owns a range of tokens now"
      },
      {
        "start": 672.49,
        "duration": 5.07,
        "text": "in this case there's just one node so it"
      },
      {
        "start": 674.41,
        "duration": 6.36,
        "text": "owns all of them we also do this thing"
      },
      {
        "start": 677.56,
        "duration": 4.71,
        "text": "well we have this beginning token like"
      },
      {
        "start": 680.77,
        "duration": 3.39,
        "text": "that's what the token we assign to a"
      },
      {
        "start": 682.27,
        "duration": 4.08,
        "text": "node that's the beginning of the range"
      },
      {
        "start": 684.16,
        "duration": 4.17,
        "text": "for that node we have a thing called"
      },
      {
        "start": 686.35,
        "duration": 5.25,
        "text": "virtual nodes which breaks down those"
      },
      {
        "start": 688.33,
        "duration": 5.55,
        "text": "those ranges into smaller chunks that's"
      },
      {
        "start": 691.6,
        "duration": 3.87,
        "text": "more of an operations thing you'll see"
      },
      {
        "start": 693.88,
        "duration": 3.36,
        "text": "how that can be very helpful later"
      },
      {
        "start": 695.47,
        "duration": 3.42,
        "text": "whenever we get into large clusters it"
      },
      {
        "start": 697.24,
        "duration": 4.53,
        "text": "helps arrange the data in a better way"
      },
      {
        "start": 698.89,
        "duration": 8.55,
        "text": "but these are kind of the basic terms of"
      },
      {
        "start": 701.77,
        "duration": 7.38,
        "text": "partitioning and tokens so like I said a"
      },
      {
        "start": 707.44,
        "duration": 4.02,
        "text": "single node of Cassandra is kind of"
      },
      {
        "start": 709.15,
        "duration": 4.53,
        "text": "boring we want to build a cluster now"
      },
      {
        "start": 711.46,
        "duration": 5.25,
        "text": "when I first start at my cluster with"
      },
      {
        "start": 713.68,
        "duration": 5.1,
        "text": "one node not really a cluster but sort"
      },
      {
        "start": 716.71,
        "duration": 4.68,
        "text": "of if I'm gonna we have this imaginary"
      },
      {
        "start": 718.78,
        "duration": 4.44,
        "text": "range of 0 to 100 because I don't even"
      },
      {
        "start": 721.39,
        "duration": 3.18,
        "text": "know what that's called but a 64-bit"
      },
      {
        "start": 723.22,
        "duration": 3.27,
        "text": "number is huge"
      },
      {
        "start": 724.57,
        "duration": 3.66,
        "text": "you do not we're not going to use that"
      },
      {
        "start": 726.49,
        "duration": 5.58,
        "text": "we're gonna use a more human number like"
      },
      {
        "start": 728.23,
        "duration": 7.41,
        "text": "0 to 100 so when you add a node to the"
      },
      {
        "start": 732.07,
        "duration": 5.88,
        "text": "cluster it what we split the the token"
      },
      {
        "start": 735.64,
        "duration": 5.04,
        "text": "range in half so 1 will be started at 0"
      },
      {
        "start": 737.95,
        "duration": 5.55,
        "text": "1 will start at 51 and now each one of"
      },
      {
        "start": 740.68,
        "duration": 4.47,
        "text": "these servers stores half of the data so"
      },
      {
        "start": 743.5,
        "duration": 4.35,
        "text": "you see what we've done we're as we're"
      },
      {
        "start": 745.15,
        "duration": 3.51,
        "text": "splitting we're forking out how much"
      },
      {
        "start": 747.85,
        "duration": 3.63,
        "text": "data is in there"
      },
      {
        "start": 748.66,
        "duration": 4.38,
        "text": "and if I double it again now each node"
      },
      {
        "start": 751.48,
        "duration": 3.21,
        "text": "is storing a quarter of the data you can"
      },
      {
        "start": 753.04,
        "duration": 4.11,
        "text": "see how the token ranges are breaking it"
      },
      {
        "start": 754.69,
        "duration": 5.1,
        "text": "down so when we come when it comes to"
      },
      {
        "start": 757.15,
        "duration": 5.64,
        "text": "linear scaling with storage and for"
      },
      {
        "start": 759.79,
        "duration": 5.82,
        "text": "reads and writes the story with"
      },
      {
        "start": 762.79,
        "duration": 5.73,
        "text": "Cassandra is linear we has a linear"
      },
      {
        "start": 765.61,
        "duration": 4.86,
        "text": "readwrite capability or capacity based"
      },
      {
        "start": 768.52,
        "duration": 3.69,
        "text": "on how you add nodes so if you need"
      },
      {
        "start": 770.47,
        "duration": 3.51,
        "text": "double the capacity you double the"
      },
      {
        "start": 772.21,
        "duration": 4.26,
        "text": "amount of node to need and it makes it"
      },
      {
        "start": 773.98,
        "duration": 3.99,
        "text": "very good for planning but this is"
      },
      {
        "start": 776.47,
        "duration": 4.35,
        "text": "something we could also do online which"
      },
      {
        "start": 777.97,
        "duration": 6.24,
        "text": "is something I'll show you all right so"
      },
      {
        "start": 780.82,
        "duration": 6.09,
        "text": "we have this set up but having 4 nodes"
      },
      {
        "start": 784.21,
        "duration": 4.47,
        "text": "we each node has 1/4 we're right back to"
      },
      {
        "start": 786.91,
        "duration": 3.39,
        "text": "our sharding problem you're like dude"
      },
      {
        "start": 788.68,
        "duration": 6.03,
        "text": "you didn't show anything that's sharding"
      },
      {
        "start": 790.3,
        "duration": 6.57,
        "text": "you and true if you put 4 nodes out"
      },
      {
        "start": 794.71,
        "duration": 3.9,
        "text": "there and that's it then good luck when"
      },
      {
        "start": 796.87,
        "duration": 5.36,
        "text": "that fourth node or third node goes down"
      },
      {
        "start": 798.61,
        "duration": 5.96,
        "text": "you just lost a quarter of your data the"
      },
      {
        "start": 802.23,
        "duration": 4.08,
        "text": "replication is really the important part"
      },
      {
        "start": 804.57,
        "duration": 3.27,
        "text": "of this this is this is probably the"
      },
      {
        "start": 806.31,
        "duration": 2.94,
        "text": "most there's two things that I'm going"
      },
      {
        "start": 807.84,
        "duration": 4.23,
        "text": "to show you they're the most important"
      },
      {
        "start": 809.25,
        "duration": 6.39,
        "text": "part of a Cassander architecture so the"
      },
      {
        "start": 812.07,
        "duration": 5.4,
        "text": "replication is there's this concept of"
      },
      {
        "start": 815.64,
        "duration": 6.0,
        "text": "each node I'm gonna walk over here so I"
      },
      {
        "start": 817.47,
        "duration": 6.12,
        "text": "can point so each node now is stories a"
      },
      {
        "start": 821.64,
        "duration": 4.2,
        "text": "primary range so like the zero to twenty"
      },
      {
        "start": 823.59,
        "duration": 4.68,
        "text": "five but this this node right here also"
      },
      {
        "start": 825.84,
        "duration": 5.31,
        "text": "stores 76 to 100 it stores its neighbors"
      },
      {
        "start": 828.27,
        "duration": 7.26,
        "text": "range so now each node is storing half"
      },
      {
        "start": 831.15,
        "duration": 5.73,
        "text": "of the data in the cluster now we're"
      },
      {
        "start": 835.53,
        "duration": 4.26,
        "text": "starting our now we have more protection"
      },
      {
        "start": 836.88,
        "duration": 5.1,
        "text": "if I lose a node I'll probably be okay"
      },
      {
        "start": 839.79,
        "duration": 4.14,
        "text": "but it doesn't give me the most"
      },
      {
        "start": 841.98,
        "duration": 5.28,
        "text": "protection the most protection we like"
      },
      {
        "start": 843.93,
        "duration": 6.45,
        "text": "to see is a replication factor of three"
      },
      {
        "start": 847.26,
        "duration": 6.3,
        "text": "three is a magic number that's a song by"
      },
      {
        "start": 850.38,
        "duration": 4.98,
        "text": "the way three is a great number for"
      },
      {
        "start": 853.56,
        "duration": 4.77,
        "text": "replication because it's the right"
      },
      {
        "start": 855.36,
        "duration": 5.73,
        "text": "number for like that's a good multiple"
      },
      {
        "start": 858.33,
        "duration": 4.68,
        "text": "of your data but four or five you start"
      },
      {
        "start": 861.09,
        "duration": 4.23,
        "text": "getting diminishing returns it starts"
      },
      {
        "start": 863.01,
        "duration": 4.08,
        "text": "being too much replication and you start"
      },
      {
        "start": 865.32,
        "duration": 3.86,
        "text": "losing money on how much I mean you"
      },
      {
        "start": 867.09,
        "duration": 4.89,
        "text": "don't get as much return on your safety"
      },
      {
        "start": 869.18,
        "duration": 4.87,
        "text": "there are some great academic papers on"
      },
      {
        "start": 871.98,
        "duration": 3.48,
        "text": "that pretty deadly tech as we talked"
      },
      {
        "start": 874.05,
        "duration": 3.45,
        "text": "earlier if you would want to do an"
      },
      {
        "start": 875.46,
        "duration": 5.58,
        "text": "academic paper you can only use latech"
      },
      {
        "start": 877.5,
        "duration": 6.63,
        "text": "you cannot use PowerPoint or what's the"
      },
      {
        "start": 881.04,
        "duration": 5.46,
        "text": "other thing a PDF no it has to look like"
      },
      {
        "start": 884.13,
        "duration": 4.14,
        "text": "an academic paper but there's some great"
      },
      {
        "start": 886.5,
        "duration": 3.09,
        "text": "academic papers that show that three is"
      },
      {
        "start": 888.27,
        "duration": 4.59,
        "text": "a good numbers all right if we have"
      },
      {
        "start": 889.59,
        "duration": 7.17,
        "text": "three is a replication factor each node"
      },
      {
        "start": 892.86,
        "duration": 6.54,
        "text": "now stores three sets of data primary"
      },
      {
        "start": 896.76,
        "duration": 4.95,
        "text": "and two replicas so that means each node"
      },
      {
        "start": 899.4,
        "duration": 4.47,
        "text": "in this four node cluster is has"
      },
      {
        "start": 901.71,
        "duration": 5.22,
        "text": "three-quarters of the data that means we"
      },
      {
        "start": 903.87,
        "duration": 6.21,
        "text": "can now Lowe's two nodes and we still"
      },
      {
        "start": 906.93,
        "duration": 4.83,
        "text": "don't lose any data awesome but"
      },
      {
        "start": 910.08,
        "duration": 5.07,
        "text": "replication comes with its counterpart"
      },
      {
        "start": 911.76,
        "duration": 5.13,
        "text": "which is consistency these are the two"
      },
      {
        "start": 915.15,
        "duration": 3.51,
        "text": "things you need to know we're"
      },
      {
        "start": 916.89,
        "duration": 3.51,
        "text": "application and consistency replication"
      },
      {
        "start": 918.66,
        "duration": 4.79,
        "text": "is great because that means oh good my"
      },
      {
        "start": 920.4,
        "duration": 7.05,
        "text": "data is all spread out nicely as a"
      },
      {
        "start": 923.45,
        "duration": 6.4,
        "text": "developer you probably want to know what"
      },
      {
        "start": 927.45,
        "duration": 3.03,
        "text": "level of if that replication actually"
      },
      {
        "start": 929.85,
        "duration": 2.28,
        "text": "happened"
      },
      {
        "start": 930.48,
        "duration": 3.99,
        "text": "so if you write data into your into your"
      },
      {
        "start": 932.13,
        "duration": 3.87,
        "text": "cluster you want to know that it's there"
      },
      {
        "start": 934.47,
        "duration": 4.23,
        "text": "before you move on"
      },
      {
        "start": 936.0,
        "duration": 5.04,
        "text": "and as a as a programmer you can specify"
      },
      {
        "start": 938.7,
        "duration": 4.29,
        "text": "that consistency level so let's do that"
      },
      {
        "start": 941.04,
        "duration": 4.05,
        "text": "so when the client says I want to write"
      },
      {
        "start": 942.99,
        "duration": 4.91,
        "text": "to partition 15 that's coming between"
      },
      {
        "start": 945.09,
        "duration": 5.37,
        "text": "here so it's right here here and here"
      },
      {
        "start": 947.9,
        "duration": 4.84,
        "text": "it's gonna write to that primary node"
      },
      {
        "start": 950.46,
        "duration": 4.38,
        "text": "and then out to this replicas okay so"
      },
      {
        "start": 952.74,
        "duration": 4.71,
        "text": "this is an asynchronous copy that"
      },
      {
        "start": 954.84,
        "duration": 4.86,
        "text": "happens when it writes to I just happen"
      },
      {
        "start": 957.45,
        "duration": 4.71,
        "text": "to write to the primary this right can"
      },
      {
        "start": 959.7,
        "duration": 4.73,
        "text": "happen to any node any node can act as a"
      },
      {
        "start": 962.16,
        "duration": 4.77,
        "text": "coordinator that's what we call that"
      },
      {
        "start": 964.43,
        "duration": 3.88,
        "text": "because each node is participating in"
      },
      {
        "start": 966.93,
        "duration": 3.87,
        "text": "the cluster it knows where all that data"
      },
      {
        "start": 968.31,
        "duration": 4.2,
        "text": "should be so if I wrote to this node"
      },
      {
        "start": 970.8,
        "duration": 3.48,
        "text": "right here it would know oh here's where"
      },
      {
        "start": 972.51,
        "duration": 4.17,
        "text": "the data should live and it would a"
      },
      {
        "start": 974.28,
        "duration": 4.8,
        "text": "synchronously send that data over to the"
      },
      {
        "start": 976.68,
        "duration": 5.34,
        "text": "other nodes but when I'm writing it out"
      },
      {
        "start": 979.08,
        "duration": 5.79,
        "text": "I don't know what happened so I'm gonna"
      },
      {
        "start": 982.02,
        "duration": 4.95,
        "text": "specify when I do that read or write the"
      },
      {
        "start": 984.87,
        "duration": 3.69,
        "text": "consistency level and we give it this is"
      },
      {
        "start": 986.97,
        "duration": 3.21,
        "text": "the tuning factor and this is actually"
      },
      {
        "start": 988.56,
        "duration": 5.37,
        "text": "pretty cool for someone who's writing"
      },
      {
        "start": 990.18,
        "duration": 6.18,
        "text": "code because you now have power the the"
      },
      {
        "start": 993.93,
        "duration": 4.83,
        "text": "least is what we call a least"
      },
      {
        "start": 996.36,
        "duration": 5.22,
        "text": "consistency level is called one and that"
      },
      {
        "start": 998.76,
        "duration": 5.4,
        "text": "just means that one replica acknowledges"
      },
      {
        "start": 1001.58,
        "duration": 7.11,
        "text": "the right to disk or that it has the"
      },
      {
        "start": 1004.16,
        "duration": 8.28,
        "text": "data that's it so it acknowledges really"
      },
      {
        "start": 1008.69,
        "duration": 5.399,
        "text": "quickly and a1 is the fastest because"
      },
      {
        "start": 1012.44,
        "duration": 5.13,
        "text": "we're not waiting for other nodes to"
      },
      {
        "start": 1014.089,
        "duration": 5.581,
        "text": "return the data so that is a really"
      },
      {
        "start": 1017.57,
        "duration": 3.12,
        "text": "popular one because it's good for things"
      },
      {
        "start": 1019.67,
        "duration": 3.18,
        "text": "like IOT"
      },
      {
        "start": 1020.69,
        "duration": 5.009,
        "text": "you're not losing data you're just"
      },
      {
        "start": 1022.85,
        "duration": 4.8,
        "text": "moving data into the cluster as fast as"
      },
      {
        "start": 1025.699,
        "duration": 4.26,
        "text": "possible and the consistency guarantees"
      },
      {
        "start": 1027.65,
        "duration": 4.47,
        "text": "you're not asking for yes it still"
      },
      {
        "start": 1029.959,
        "duration": 4.681,
        "text": "replicates the data that does happen but"
      },
      {
        "start": 1032.12,
        "duration": 5.61,
        "text": "you're not asking for that to complete"
      },
      {
        "start": 1034.64,
        "duration": 6.179,
        "text": "the transaction now the strong"
      },
      {
        "start": 1037.73,
        "duration": 6.27,
        "text": "consistency is a quorum quorum means"
      },
      {
        "start": 1040.819,
        "duration": 5.101,
        "text": "that 51% of the replica nodes I should"
      },
      {
        "start": 1044.0,
        "duration": 5.34,
        "text": "probably change that to replicas knows"
      },
      {
        "start": 1045.92,
        "duration": 6.39,
        "text": "not just nodes agree on a read or that"
      },
      {
        "start": 1049.34,
        "duration": 5.18,
        "text": "they've committed to the disk so in when"
      },
      {
        "start": 1052.31,
        "duration": 6.72,
        "text": "you have a replication factor of three"
      },
      {
        "start": 1054.52,
        "duration": 7.53,
        "text": "51% is 2 so 2 nodes need to say yes I"
      },
      {
        "start": 1059.03,
        "duration": 7.17,
        "text": "either have I we would agree on the data"
      },
      {
        "start": 1062.05,
        "duration": 6.55,
        "text": "or that we've written it to disk and if"
      },
      {
        "start": 1066.2,
        "duration": 3.16,
        "text": "you read and write it quorum that's"
      },
      {
        "start": 1068.6,
        "duration": 2.65,
        "text": "strong"
      },
      {
        "start": 1069.36,
        "duration": 3.6,
        "text": "consistency that means when you do a"
      },
      {
        "start": 1071.25,
        "duration": 4.59,
        "text": "right and then you come along and do a"
      },
      {
        "start": 1072.96,
        "duration": 4.98,
        "text": "read you'll read the same right so you"
      },
      {
        "start": 1075.84,
        "duration": 4.68,
        "text": "won't lose you won't have stale data in"
      },
      {
        "start": 1077.94,
        "duration": 4.68,
        "text": "that now if you do a read at one you"
      },
      {
        "start": 1080.52,
        "duration": 4.529,
        "text": "have a potential stale data if you do a"
      },
      {
        "start": 1082.62,
        "duration": 4.59,
        "text": "read right after a right you might get"
      },
      {
        "start": 1085.049,
        "duration": 5.161,
        "text": "lost your old data or no data at all"
      },
      {
        "start": 1087.21,
        "duration": 4.53,
        "text": "that's part of how this works now we"
      },
      {
        "start": 1090.21,
        "duration": 3.81,
        "text": "have this thing this is just to give you"
      },
      {
        "start": 1091.74,
        "duration": 4.02,
        "text": "some idea of another setting local"
      },
      {
        "start": 1094.02,
        "duration": 4.74,
        "text": "quorum because whenever we're running in"
      },
      {
        "start": 1095.76,
        "duration": 5.22,
        "text": "multiple data centers quorum could"
      },
      {
        "start": 1098.76,
        "duration": 3.63,
        "text": "potentially cross a way in line and"
      },
      {
        "start": 1100.98,
        "duration": 2.88,
        "text": "we'll get into how this works this is"
      },
      {
        "start": 1102.39,
        "duration": 4.02,
        "text": "actually one of the superhero tricks"
      },
      {
        "start": 1103.86,
        "duration": 6.27,
        "text": "that Cassandra does is really good when"
      },
      {
        "start": 1106.41,
        "duration": 5.82,
        "text": "replication but the local quorum means I"
      },
      {
        "start": 1110.13,
        "duration": 4.74,
        "text": "only want to get a little quorum in my"
      },
      {
        "start": 1112.23,
        "duration": 4.89,
        "text": "local data center why because a way link"
      },
      {
        "start": 1114.87,
        "duration": 3.6,
        "text": "usually generates a lot more latency so"
      },
      {
        "start": 1117.12,
        "duration": 2.73,
        "text": "like if you're going east coast west"
      },
      {
        "start": 1118.47,
        "duration": 4.1,
        "text": "coast on Amazon it's like 70"
      },
      {
        "start": 1119.85,
        "duration": 5.1,
        "text": "milliseconds 60 milliseconds of hop time"
      },
      {
        "start": 1122.57,
        "duration": 5.14,
        "text": "that that means that when you do a"
      },
      {
        "start": 1124.95,
        "duration": 6.24,
        "text": "quorum read you have to wait that 60 or"
      },
      {
        "start": 1127.71,
        "duration": 6.599,
        "text": "70 milliseconds for it to do that do a"
      },
      {
        "start": 1131.19,
        "duration": 4.89,
        "text": "local quorum you'll be happy so now it's"
      },
      {
        "start": 1134.309,
        "duration": 3.721,
        "text": "consistency what I'm saying is now as a"
      },
      {
        "start": 1136.08,
        "duration": 4.5,
        "text": "client says right to partition 15 or the"
      },
      {
        "start": 1138.03,
        "duration": 4.95,
        "text": "seal of 1 I'm tagging that consistency"
      },
      {
        "start": 1140.58,
        "duration": 5.49,
        "text": "level on when it writes it still writes"
      },
      {
        "start": 1142.98,
        "duration": 6.15,
        "text": "to the one node and not it writes to all"
      },
      {
        "start": 1146.07,
        "duration": 5.67,
        "text": "three nodes but the fastest node like"
      },
      {
        "start": 1149.13,
        "duration": 4.53,
        "text": "this one over here let's say that it the"
      },
      {
        "start": 1151.74,
        "duration": 3.21,
        "text": "coordinator this node up here in this"
      },
      {
        "start": 1153.66,
        "duration": 3.09,
        "text": "node right here we're having a bad date"
      },
      {
        "start": 1154.95,
        "duration": 4.65,
        "text": "because somebody decided to gzip the"
      },
      {
        "start": 1156.75,
        "duration": 5.429,
        "text": "entire data directory you know who you"
      },
      {
        "start": 1159.6,
        "duration": 4.26,
        "text": "are because that happens right in"
      },
      {
        "start": 1162.179,
        "duration": 3.781,
        "text": "production this so this node over here"
      },
      {
        "start": 1163.86,
        "duration": 5.25,
        "text": "happens to be the fastest well it"
      },
      {
        "start": 1165.96,
        "duration": 5.25,
        "text": "returns a really fast really fast right"
      },
      {
        "start": 1169.11,
        "duration": 4.939,
        "text": "you know in those cases whenever I"
      },
      {
        "start": 1171.21,
        "duration": 5.19,
        "text": "haven't said it you know I've seen some"
      },
      {
        "start": 1174.049,
        "duration": 4.241,
        "text": "ridiculously fast writes on these"
      },
      {
        "start": 1176.4,
        "duration": 3.24,
        "text": "because it's the way that it writes and"
      },
      {
        "start": 1178.29,
        "duration": 3.36,
        "text": "I'll show you how it writes to the disk"
      },
      {
        "start": 1179.64,
        "duration": 8.21,
        "text": "in a minute but this is how you get that"
      },
      {
        "start": 1181.65,
        "duration": 10.68,
        "text": "sub-millisecond right SLA all right so"
      },
      {
        "start": 1187.85,
        "duration": 7.39,
        "text": "whenever man there's a big boom literate"
      },
      {
        "start": 1192.33,
        "duration": 5.01,
        "text": "quicker me let's say we have this"
      },
      {
        "start": 1195.24,
        "duration": 5.88,
        "text": "situation where somebody walks in the"
      },
      {
        "start": 1197.34,
        "duration": 6.27,
        "text": "datacenter and unplugs a rack I may have"
      },
      {
        "start": 1201.12,
        "duration": 3.87,
        "text": "done that at one point in my life and it"
      },
      {
        "start": 1203.61,
        "duration": 3.96,
        "text": "takes down a certain group of servers"
      },
      {
        "start": 1204.99,
        "duration": 5.91,
        "text": "well back in the day when I was doing"
      },
      {
        "start": 1207.57,
        "duration": 6.17,
        "text": "Oracle RAC if I took down a rack of a"
      },
      {
        "start": 1210.9,
        "duration": 4.98,
        "text": "literal rack of servers I was not a"
      },
      {
        "start": 1213.74,
        "duration": 5.56,
        "text": "popular person for another two hours"
      },
      {
        "start": 1215.88,
        "duration": 5.16,
        "text": "when it resync tall the chorim's so this"
      },
      {
        "start": 1219.3,
        "duration": 2.1,
        "text": "situation is totally cool in Cassandra"
      },
      {
        "start": 1221.04,
        "duration": 2.269,
        "text": "Lane"
      },
      {
        "start": 1221.4,
        "duration": 3.84,
        "text": "if I have two nodes that go down the"
      },
      {
        "start": 1223.309,
        "duration": 4.511,
        "text": "clients gonna write to the one node"
      },
      {
        "start": 1225.24,
        "duration": 5.49,
        "text": "that's up and back up and it would be"
      },
      {
        "start": 1227.82,
        "duration": 5.63,
        "text": "like nothing happened this is that magic"
      },
      {
        "start": 1230.73,
        "duration": 5.37,
        "text": "moment oh yeah we do have NIRSPEC"
      },
      {
        "start": 1233.45,
        "duration": 5.08,
        "text": "this is that magic moment where you're"
      },
      {
        "start": 1236.1,
        "duration": 5.49,
        "text": "just so happy you're using Cassandra and"
      },
      {
        "start": 1238.53,
        "duration": 5.76,
        "text": "I've had this happen so many times where"
      },
      {
        "start": 1241.59,
        "duration": 5.76,
        "text": "oh we're doing a we have to do a"
      },
      {
        "start": 1244.29,
        "duration": 6.33,
        "text": "database update on this one oops I"
      },
      {
        "start": 1247.35,
        "duration": 5.91,
        "text": "terminated that node by mistake and no"
      },
      {
        "start": 1250.62,
        "duration": 4.26,
        "text": "one knows the difference that is a magic"
      },
      {
        "start": 1253.26,
        "duration": 4.77,
        "text": "and we do things like this in the day"
      },
      {
        "start": 1254.88,
        "duration": 5.31,
        "text": "time too but this is a this is how you"
      },
      {
        "start": 1258.03,
        "duration": 4.2,
        "text": "keep your customers happy this is how"
      },
      {
        "start": 1260.19,
        "duration": 5.07,
        "text": "you keep your app online is these things"
      },
      {
        "start": 1262.23,
        "duration": 5.52,
        "text": "start going you know life happens"
      },
      {
        "start": 1265.26,
        "duration": 3.11,
        "text": "infrastructure fails it can work around"
      },
      {
        "start": 1267.75,
        "duration": 3.24,
        "text": "it"
      },
      {
        "start": 1268.37,
        "duration": 5.32,
        "text": "and what's great now I'll point this out"
      },
      {
        "start": 1270.99,
        "duration": 4.439,
        "text": "real quick is so data stacks we build"
      },
      {
        "start": 1273.69,
        "duration": 3.96,
        "text": "all the drivers for Cassandra and for"
      },
      {
        "start": 1275.429,
        "duration": 4.201,
        "text": "data stacks enterprise we put in all"
      },
      {
        "start": 1277.65,
        "duration": 4.019,
        "text": "this resiliency inside of our drivers"
      },
      {
        "start": 1279.63,
        "duration": 4.38,
        "text": "our drivers actually participate in the"
      },
      {
        "start": 1281.669,
        "duration": 4.89,
        "text": "cluster and the gossip so the what's"
      },
      {
        "start": 1284.01,
        "duration": 4.26,
        "text": "happening in the cluster so when things"
      },
      {
        "start": 1286.559,
        "duration": 4.021,
        "text": "are happening in the cluster our drivers"
      },
      {
        "start": 1288.27,
        "duration": 4.59,
        "text": "are aware there's no configuration file"
      },
      {
        "start": 1290.58,
        "duration": 4.65,
        "text": "when it starts up it isn't like give me"
      },
      {
        "start": 1292.86,
        "duration": 4.049,
        "text": "a list of all the notes oh no as nodes"
      },
      {
        "start": 1295.23,
        "duration": 3.929,
        "text": "are going up and down and disappearing"
      },
      {
        "start": 1296.909,
        "duration": 3.781,
        "text": "and coming back the drivers are updated"
      },
      {
        "start": 1299.159,
        "duration": 3.951,
        "text": "in real-time because they have this"
      },
      {
        "start": 1300.69,
        "duration": 5.19,
        "text": "they're participating in the cluster so"
      },
      {
        "start": 1303.11,
        "duration": 4.75,
        "text": "whenever you have a node go offline or"
      },
      {
        "start": 1305.88,
        "duration": 4.2,
        "text": "two of them go offline and everybody"
      },
      {
        "start": 1307.86,
        "duration": 4.199,
        "text": "knows it the driver just works around it"
      },
      {
        "start": 1310.08,
        "duration": 5.16,
        "text": "and no one will know the difference"
      },
      {
        "start": 1312.059,
        "duration": 5.791,
        "text": "that's almost magic but it's computer"
      },
      {
        "start": 1315.24,
        "duration": 5.189,
        "text": "science so what about quorum"
      },
      {
        "start": 1317.85,
        "duration": 5.069,
        "text": "same thing we write to the cluster does"
      },
      {
        "start": 1320.429,
        "duration": 5.071,
        "text": "asynchronous right what if one of those"
      },
      {
        "start": 1322.919,
        "duration": 4.441,
        "text": "nodes goes down totally fine because now"
      },
      {
        "start": 1325.5,
        "duration": 2.55,
        "text": "we have two nodes let's remember we need"
      },
      {
        "start": 1327.36,
        "duration": 4.38,
        "text": "51"
      },
      {
        "start": 1328.05,
        "duration": 5.72,
        "text": "to get that read back multi data center"
      },
      {
        "start": 1331.74,
        "duration": 6.57,
        "text": "like I said this is the super power of"
      },
      {
        "start": 1333.77,
        "duration": 5.53,
        "text": "Cassandra I do not understand why"
      },
      {
        "start": 1338.31,
        "duration": 3.48,
        "text": "databases"
      },
      {
        "start": 1339.3,
        "duration": 4.29,
        "text": "modern databases don't do this Amazon"
      },
      {
        "start": 1341.79,
        "duration": 3.27,
        "text": "will not sell you a database that can do"
      },
      {
        "start": 1343.59,
        "duration": 3.6,
        "text": "this they sell things that will"
      },
      {
        "start": 1345.06,
        "duration": 4.35,
        "text": "replicate they don't think you cannot"
      },
      {
        "start": 1347.19,
        "duration": 4.2,
        "text": "buy an active-active database from them"
      },
      {
        "start": 1349.41,
        "duration": 3.51,
        "text": "and I get why it's hard and it's"
      },
      {
        "start": 1351.39,
        "duration": 4.71,
        "text": "expensive and they can't they don't want"
      },
      {
        "start": 1352.92,
        "duration": 7.11,
        "text": "to do it but here's a very DC these are"
      },
      {
        "start": 1356.1,
        "duration": 5.61,
        "text": "the cross the top Amazon Google cloud we"
      },
      {
        "start": 1360.03,
        "duration": 3.96,
        "text": "have so many customers that are doing"
      },
      {
        "start": 1361.71,
        "duration": 5.64,
        "text": "this now that are running in multiple"
      },
      {
        "start": 1363.99,
        "duration": 7.7,
        "text": "clouds that is really freaking cool"
      },
      {
        "start": 1367.35,
        "duration": 10.02,
        "text": "we had a demo you guys know sky TV in UK"
      },
      {
        "start": 1371.69,
        "duration": 7.78,
        "text": "they run in Amazon GCP and on-prem they"
      },
      {
        "start": 1377.37,
        "duration": 5.19,
        "text": "have three different setups one database"
      },
      {
        "start": 1379.47,
        "duration": 5.52,
        "text": "across all of it and it's because of the"
      },
      {
        "start": 1382.56,
        "duration": 5.4,
        "text": "way the database replicates so when I"
      },
      {
        "start": 1384.99,
        "duration": 4.86,
        "text": "say right to partition 15 it goes to the"
      },
      {
        "start": 1387.96,
        "duration": 3.66,
        "text": "coordinator now not only does it"
      },
      {
        "start": 1389.85,
        "duration": 3.75,
        "text": "asynchronously copy in the local data"
      },
      {
        "start": 1391.62,
        "duration": 5.1,
        "text": "center it also asynchronously copies to"
      },
      {
        "start": 1393.6,
        "duration": 4.74,
        "text": "another coordinator in another data"
      },
      {
        "start": 1396.72,
        "duration": 4.23,
        "text": "center and that other data center or"
      },
      {
        "start": 1398.34,
        "duration": 6.18,
        "text": "multiple data centers and then it does"
      },
      {
        "start": 1400.95,
        "duration": 7.35,
        "text": "the local async copy so this is how you"
      },
      {
        "start": 1404.52,
        "duration": 6.42,
        "text": "can run active active not standby"
      },
      {
        "start": 1408.3,
        "duration": 3.81,
        "text": "database you know that those back when I"
      },
      {
        "start": 1410.94,
        "duration": 3.36,
        "text": "was doing it was like oh we have a"
      },
      {
        "start": 1412.11,
        "duration": 3.3,
        "text": "standby data center which means we're"
      },
      {
        "start": 1414.3,
        "duration": 2.64,
        "text": "paying a hundred percent of the price"
      },
      {
        "start": 1415.41,
        "duration": 4.53,
        "text": "for something we're never using that's"
      },
      {
        "start": 1416.94,
        "duration": 5.96,
        "text": "sad there's some great talks online if"
      },
      {
        "start": 1419.94,
        "duration": 6.36,
        "text": "you you to you go to YouTube and Google"
      },
      {
        "start": 1422.9,
        "duration": 6.16,
        "text": "do a search for Cassandra multi data"
      },
      {
        "start": 1426.3,
        "duration": 5.16,
        "text": "center or Cassandra active-active you'll"
      },
      {
        "start": 1429.06,
        "duration": 6.27,
        "text": "see some great talks by Netflix and a"
      },
      {
        "start": 1431.46,
        "duration": 5.19,
        "text": "couple others that talked about this but"
      },
      {
        "start": 1435.33,
        "duration": 5.19,
        "text": "this is what we were trying to survive"
      },
      {
        "start": 1436.65,
        "duration": 6.45,
        "text": "is both Amazon and Google are great at"
      },
      {
        "start": 1440.52,
        "duration": 5.85,
        "text": "going down you know they lose"
      },
      {
        "start": 1443.1,
        "duration": 4.32,
        "text": "infrastructure so fast and it's great"
      },
      {
        "start": 1446.37,
        "duration": 2.4,
        "text": "because you only pay for it by the hour"
      },
      {
        "start": 1447.42,
        "duration": 4.77,
        "text": "so when it goes offline you don't pay"
      },
      {
        "start": 1448.77,
        "duration": 5.22,
        "text": "for it but this stuff is what we're"
      },
      {
        "start": 1452.19,
        "duration": 3.99,
        "text": "trying to avoid all the things that"
      },
      {
        "start": 1453.99,
        "duration": 3.99,
        "text": "happen either it's a person it's"
      },
      {
        "start": 1456.18,
        "duration": 5.849,
        "text": "something at Amazon or Google that went"
      },
      {
        "start": 1457.98,
        "duration": 7.169,
        "text": "down it broke or an entire cloud or"
      },
      {
        "start": 1462.029,
        "duration": 5.46,
        "text": "entire data center going down if you are"
      },
      {
        "start": 1465.149,
        "duration": 5.37,
        "text": "not running in this configuration you"
      },
      {
        "start": 1467.489,
        "duration": 5.01,
        "text": "have zero chance of 100% uptime you need"
      },
      {
        "start": 1470.519,
        "duration": 4.77,
        "text": "to be in multiple data centers data"
      },
      {
        "start": 1472.499,
        "duration": 4.98,
        "text": "centers go down clouds go down and"
      },
      {
        "start": 1475.289,
        "duration": 5.76,
        "text": "usually not an entire cloud it's like a"
      },
      {
        "start": 1477.479,
        "duration": 5.461,
        "text": "region right a region goes down sure"
      },
      {
        "start": 1481.049,
        "duration": 2.641,
        "text": "lots of stuff happening nothing is"
      },
      {
        "start": 1482.94,
        "duration": 3.059,
        "text": "invincible"
      },
      {
        "start": 1483.69,
        "duration": 6.059,
        "text": "we have we don't have vibranium data"
      },
      {
        "start": 1485.999,
        "duration": 5.88,
        "text": "centers yet yet although I bet you when"
      },
      {
        "start": 1489.749,
        "duration": 4.92,
        "text": "we find what Conda they will have the"
      },
      {
        "start": 1491.879,
        "duration": 4.8,
        "text": "100% uptime data center because I just"
      },
      {
        "start": 1494.669,
        "duration": 3.84,
        "text": "think that might happen all right so"
      },
      {
        "start": 1496.679,
        "duration": 3.18,
        "text": "let's talk about how to actually use the"
      },
      {
        "start": 1498.509,
        "duration": 5.16,
        "text": "data base so this is how that was how it"
      },
      {
        "start": 1499.859,
        "duration": 6.54,
        "text": "worked so relational databases we all"
      },
      {
        "start": 1503.669,
        "duration": 5.1,
        "text": "use them we all loved them it's all this"
      },
      {
        "start": 1506.399,
        "duration": 4.051,
        "text": "you know the five normal forms how many"
      },
      {
        "start": 1508.769,
        "duration": 5.88,
        "text": "in here have actually used the fourth"
      },
      {
        "start": 1510.45,
        "duration": 7.5,
        "text": "and fifth normal form steals none okay"
      },
      {
        "start": 1514.649,
        "duration": 4.71,
        "text": "right I had to build a database so when"
      },
      {
        "start": 1517.95,
        "duration": 3.449,
        "text": "I was in university I was a computer"
      },
      {
        "start": 1519.359,
        "duration": 4.41,
        "text": "engineering student at Cal Poly we had"
      },
      {
        "start": 1521.399,
        "duration": 5.57,
        "text": "to build a database that satisfied all"
      },
      {
        "start": 1523.769,
        "duration": 6.301,
        "text": "five normal forms it sucked so bad"
      },
      {
        "start": 1526.969,
        "duration": 5.29,
        "text": "no one uses it anyway it's all these"
      },
      {
        "start": 1530.07,
        "duration": 3.989,
        "text": "normal forms as dean or it's normalizing"
      },
      {
        "start": 1532.259,
        "duration": 4.14,
        "text": "your data separating out the employees"
      },
      {
        "start": 1534.059,
        "duration": 5.25,
        "text": "from department I think this is a scott"
      },
      {
        "start": 1536.399,
        "duration": 6.57,
        "text": "tiger database and you have foreign keys"
      },
      {
        "start": 1539.309,
        "duration": 7.32,
        "text": "and you can i join you join joanne jokes"
      },
      {
        "start": 1542.969,
        "duration": 6.03,
        "text": "for SQL and then this the erd isn't this"
      },
      {
        "start": 1546.629,
        "duration": 4.5,
        "text": "great you feel a little pang of joy when"
      },
      {
        "start": 1548.999,
        "duration": 4.831,
        "text": "you see this not really"
      },
      {
        "start": 1551.129,
        "duration": 4.951,
        "text": "relational database modeling is this you"
      },
      {
        "start": 1553.83,
        "duration": 4.62,
        "text": "create a table you add your constraints"
      },
      {
        "start": 1556.08,
        "duration": 3.99,
        "text": "this is an actual oracle table you index"
      },
      {
        "start": 1558.45,
        "duration": 4.74,
        "text": "it then you create a foreign key"
      },
      {
        "start": 1560.07,
        "duration": 5.189,
        "text": "relationships oh down here so this is"
      },
      {
        "start": 1563.19,
        "duration": 6.059,
        "text": "how you do relational database modeling"
      },
      {
        "start": 1565.259,
        "duration": 6.51,
        "text": "and the method is you start with this"
      },
      {
        "start": 1569.249,
        "duration": 5.701,
        "text": "domain of your data you build the models"
      },
      {
        "start": 1571.769,
        "duration": 6.0,
        "text": "for that domain and create create that"
      },
      {
        "start": 1574.95,
        "duration": 4.649,
        "text": "erd print it on the big piece of paper"
      },
      {
        "start": 1577.769,
        "duration": 4.38,
        "text": "and put it in your office right everyone"
      },
      {
        "start": 1579.599,
        "duration": 5.58,
        "text": "goes and looks at it where's my data and"
      },
      {
        "start": 1582.149,
        "duration": 5.34,
        "text": "then you build your application but what"
      },
      {
        "start": 1585.179,
        "duration": 4.74,
        "text": "happens is you got to know these to get"
      },
      {
        "start": 1587.489,
        "duration": 5.94,
        "text": "to this right because that's when you"
      },
      {
        "start": 1589.919,
        "duration": 4.771,
        "text": "like oops we missed our model I'll just"
      },
      {
        "start": 1593.429,
        "duration": 3.781,
        "text": "join my way out of it"
      },
      {
        "start": 1594.69,
        "duration": 4.909,
        "text": "and then you impress your friends with"
      },
      {
        "start": 1597.21,
        "duration": 4.289,
        "text": "your left inner join"
      },
      {
        "start": 1599.599,
        "duration": 4.9,
        "text": "everyone's like dude that's gonna take"
      },
      {
        "start": 1601.499,
        "duration": 6.721,
        "text": "like eight hours to run on the server we"
      },
      {
        "start": 1604.499,
        "duration": 6.78,
        "text": "should put that on the homepage so yeah"
      },
      {
        "start": 1608.22,
        "duration": 5.189,
        "text": "this is but relational databases were"
      },
      {
        "start": 1611.279,
        "duration": 4.86,
        "text": "meant to be to Dave built on two"
      },
      {
        "start": 1613.409,
        "duration": 4.5,
        "text": "concepts which was keeping the amount of"
      },
      {
        "start": 1616.139,
        "duration": 4.59,
        "text": "duplicate data to a minimum because when"
      },
      {
        "start": 1617.909,
        "duration": 4.35,
        "text": "they were when it was designed dis cost"
      },
      {
        "start": 1620.729,
        "duration": 5.06,
        "text": "like a million dollars for a five Meg"
      },
      {
        "start": 1622.259,
        "duration": 7.711,
        "text": "database or five Meg disk drive and also"
      },
      {
        "start": 1625.789,
        "duration": 5.95,
        "text": "this maximum flexibility so when the"
      },
      {
        "start": 1629.97,
        "duration": 2.789,
        "text": "data's in there we could do as millions"
      },
      {
        "start": 1631.739,
        "duration": 2.61,
        "text": "and millions of different things with it"
      },
      {
        "start": 1632.759,
        "duration": 4.92,
        "text": "so many joins and all these things that"
      },
      {
        "start": 1634.349,
        "duration": 4.861,
        "text": "was a different error and it has a lot"
      },
      {
        "start": 1637.679,
        "duration": 3.45,
        "text": "of utility it's called a data warehouse"
      },
      {
        "start": 1639.21,
        "duration": 3.839,
        "text": "I use them all the time I think they're"
      },
      {
        "start": 1641.129,
        "duration": 4.02,
        "text": "great I have an SQL database running on"
      },
      {
        "start": 1643.049,
        "duration": 3.69,
        "text": "my laptop why because I have data that I"
      },
      {
        "start": 1645.149,
        "duration": 3.421,
        "text": "want to do a joint I want to do a data"
      },
      {
        "start": 1646.739,
        "duration": 3.54,
        "text": "warehouse II type discussion or type"
      },
      {
        "start": 1648.57,
        "duration": 4.679,
        "text": "thing not building applications on it"
      },
      {
        "start": 1650.279,
        "duration": 5.041,
        "text": "anymore I'm using Cassandra and"
      },
      {
        "start": 1653.249,
        "duration": 4.11,
        "text": "Cassandra does a different it has a"
      },
      {
        "start": 1655.32,
        "duration": 3.959,
        "text": "different methodology you start with"
      },
      {
        "start": 1657.359,
        "duration": 3.24,
        "text": "your application so what am I gonna"
      },
      {
        "start": 1659.279,
        "duration": 4.38,
        "text": "build because there's an application"
      },
      {
        "start": 1660.599,
        "duration": 5.46,
        "text": "database what am I going to build then I"
      },
      {
        "start": 1663.659,
        "duration": 4.44,
        "text": "build my models for that application my"
      },
      {
        "start": 1666.059,
        "duration": 3.72,
        "text": "data models and then the data is"
      },
      {
        "start": 1668.099,
        "duration": 3.78,
        "text": "underneath it what does that give you"
      },
      {
        "start": 1669.779,
        "duration": 3.84,
        "text": "less flexibility so it's reversible"
      },
      {
        "start": 1671.879,
        "duration": 4.5,
        "text": "relational it's less flexibility in your"
      },
      {
        "start": 1673.619,
        "duration": 5.94,
        "text": "query models you will have duplicate"
      },
      {
        "start": 1676.379,
        "duration": 4.98,
        "text": "data in your system however it's super"
      },
      {
        "start": 1679.559,
        "duration": 3.21,
        "text": "hyper optimized for your application and"
      },
      {
        "start": 1681.359,
        "duration": 3.66,
        "text": "it's gonna be fast and it's gonna be"
      },
      {
        "start": 1682.769,
        "duration": 3.99,
        "text": "resilient you're you're flipping the"
      },
      {
        "start": 1685.019,
        "duration": 4.38,
        "text": "script my application is the most"
      },
      {
        "start": 1686.759,
        "duration": 4.23,
        "text": "important thing not my data model so"
      },
      {
        "start": 1689.399,
        "duration": 3.6,
        "text": "let's get into it now this is whenever"
      },
      {
        "start": 1690.989,
        "duration": 4.89,
        "text": "everyone goes this looks like it's too"
      },
      {
        "start": 1692.999,
        "duration": 5.25,
        "text": "hard no it's not okay modeling queries"
      },
      {
        "start": 1695.879,
        "duration": 3.091,
        "text": "how do you do this well we have some"
      },
      {
        "start": 1698.249,
        "duration": 3.331,
        "text": "basic rules"
      },
      {
        "start": 1698.97,
        "duration": 5.069,
        "text": "what are your application workflow this"
      },
      {
        "start": 1701.58,
        "duration": 3.689,
        "text": "is a very interesting concept when"
      },
      {
        "start": 1704.039,
        "duration": 3.24,
        "text": "you're building an application you"
      },
      {
        "start": 1705.269,
        "duration": 3.951,
        "text": "actually do know your workflows and it's"
      },
      {
        "start": 1707.279,
        "duration": 5.22,
        "text": "a part of building an application a"
      },
      {
        "start": 1709.22,
        "duration": 4.839,
        "text": "bonus more whiteboarding but and then"
      },
      {
        "start": 1712.499,
        "duration": 5.191,
        "text": "how will I access that data in my"
      },
      {
        "start": 1714.059,
        "duration": 5.521,
        "text": "application so this is the probably the"
      },
      {
        "start": 1717.69,
        "duration": 3.239,
        "text": "hardest part of Cassandra is not you"
      },
      {
        "start": 1719.58,
        "duration": 2.969,
        "text": "know if you don't know the queries ahead"
      },
      {
        "start": 1720.929,
        "duration": 5.791,
        "text": "of time it's very difficult to build the"
      },
      {
        "start": 1722.549,
        "duration": 5.821,
        "text": "data model I get it but there is once"
      },
      {
        "start": 1726.72,
        "duration": 3.24,
        "text": "you get into the pace of this you start"
      },
      {
        "start": 1728.37,
        "duration": 3.9,
        "text": "seeing well it's like the matrix you"
      },
      {
        "start": 1729.96,
        "duration": 3.78,
        "text": "start seeing it but there is a"
      },
      {
        "start": 1732.27,
        "duration": 5.21,
        "text": "methodology to this we have a very"
      },
      {
        "start": 1733.74,
        "duration": 6.15,
        "text": "formal methodology to I'll show you and"
      },
      {
        "start": 1737.48,
        "duration": 5.26,
        "text": "yeah this is you can't just join your"
      },
      {
        "start": 1739.89,
        "duration": 4.65,
        "text": "way out of a problem right or hey I'll"
      },
      {
        "start": 1742.74,
        "duration": 4.02,
        "text": "just add some indexes and do a joint and"
      },
      {
        "start": 1744.54,
        "duration": 4.74,
        "text": "we're good right now you got a regular"
      },
      {
        "start": 1746.76,
        "duration": 4.5,
        "text": "to reduce some things but I'm gonna walk"
      },
      {
        "start": 1749.28,
        "duration": 4.77,
        "text": "you through this some of this process so"
      },
      {
        "start": 1751.26,
        "duration": 5.1,
        "text": "this is a application workflow and this"
      },
      {
        "start": 1754.05,
        "duration": 4.05,
        "text": "application workflow is as I'm designing"
      },
      {
        "start": 1756.36,
        "duration": 4.23,
        "text": "this application now we have an example"
      },
      {
        "start": 1758.1,
        "duration": 5.52,
        "text": "application online code killer video ki"
      },
      {
        "start": 1760.59,
        "duration": 5.13,
        "text": "ll our video why did we drop the e"
      },
      {
        "start": 1763.62,
        "duration": 6.059,
        "text": "because I couldn't register the domain"
      },
      {
        "start": 1765.72,
        "duration": 6.959,
        "text": "name otherwise but we have a reference"
      },
      {
        "start": 1769.679,
        "duration": 6.271,
        "text": "application online this is and it's"
      },
      {
        "start": 1772.679,
        "duration": 4.441,
        "text": "kinda like YouTube a little bit where we"
      },
      {
        "start": 1775.95,
        "duration": 2.85,
        "text": "store you know you have videos online"
      },
      {
        "start": 1777.12,
        "duration": 4.08,
        "text": "people can comment on it you can rate"
      },
      {
        "start": 1778.8,
        "duration": 4.86,
        "text": "them that sort of thing but this is a"
      },
      {
        "start": 1781.2,
        "duration": 3.87,
        "text": "standard application workflow like users"
      },
      {
        "start": 1783.66,
        "duration": 3.48,
        "text": "gonna log in to the website use their"
      },
      {
        "start": 1785.07,
        "duration": 4.02,
        "text": "own password boom okay once you go there"
      },
      {
        "start": 1787.14,
        "duration": 4.11,
        "text": "then you're gonna show the basic"
      },
      {
        "start": 1789.09,
        "duration": 4.32,
        "text": "information for the user or what videos"
      },
      {
        "start": 1791.25,
        "duration": 4.11,
        "text": "they added the comments that they have"
      },
      {
        "start": 1793.41,
        "duration": 3.96,
        "text": "and then over here we have a search for"
      },
      {
        "start": 1795.36,
        "duration": 3.81,
        "text": "the video you're gonna search but once"
      },
      {
        "start": 1797.37,
        "duration": 3.33,
        "text": "you find that video then show the video"
      },
      {
        "start": 1799.17,
        "duration": 4.35,
        "text": "in its details so there's this flow of"
      },
      {
        "start": 1800.7,
        "duration": 5.1,
        "text": "information that's happening I"
      },
      {
        "start": 1803.52,
        "duration": 3.78,
        "text": "I'm not going to just go directly to"
      },
      {
        "start": 1805.8,
        "duration": 4.379,
        "text": "show of basic information or the user"
      },
      {
        "start": 1807.3,
        "duration": 4.08,
        "text": "that has to happen first but that makes"
      },
      {
        "start": 1810.179,
        "duration": 5.791,
        "text": "sense that's an application workflow"
      },
      {
        "start": 1811.38,
        "duration": 5.82,
        "text": "there's this is a security violation you"
      },
      {
        "start": 1815.97,
        "duration": 5.87,
        "text": "don't provide a username and password"
      },
      {
        "start": 1817.2,
        "duration": 8.34,
        "text": "then this is what like target too soon"
      },
      {
        "start": 1821.84,
        "duration": 5.44,
        "text": "so anyway so now I'm looking at what"
      },
      {
        "start": 1825.54,
        "duration": 4.11,
        "text": "those application workflows are and what"
      },
      {
        "start": 1827.28,
        "duration": 4.56,
        "text": "queries I need to do so if I have a user"
      },
      {
        "start": 1829.65,
        "duration": 4.17,
        "text": "logged in to us into a site I need to"
      },
      {
        "start": 1831.84,
        "duration": 3.3,
        "text": "find that user by email address that's"
      },
      {
        "start": 1833.82,
        "duration": 3.78,
        "text": "probably how I'm going to be looking"
      },
      {
        "start": 1835.14,
        "duration": 4.68,
        "text": "them up show comments I want to find"
      },
      {
        "start": 1837.6,
        "duration": 4.82,
        "text": "comments by that by the video the name"
      },
      {
        "start": 1839.82,
        "duration": 4.83,
        "text": "of the or the UUID of the video so"
      },
      {
        "start": 1842.42,
        "duration": 5.5,
        "text": "already I'm starting to see my queries"
      },
      {
        "start": 1844.65,
        "duration": 5.01,
        "text": "here coming out and this is the the"
      },
      {
        "start": 1847.92,
        "duration": 4.17,
        "text": "process that I'm talking about is now"
      },
      {
        "start": 1849.66,
        "duration": 4.17,
        "text": "I'm picking through like what I need and"
      },
      {
        "start": 1852.09,
        "duration": 5.67,
        "text": "then here it is there's what I get out"
      },
      {
        "start": 1853.83,
        "duration": 6.18,
        "text": "of it we use a query language called"
      },
      {
        "start": 1857.76,
        "duration": 3.78,
        "text": "Cassandra query language cql instead of"
      },
      {
        "start": 1860.01,
        "duration": 5.91,
        "text": "SQL"
      },
      {
        "start": 1861.54,
        "duration": 6.9,
        "text": "CQL is very it's very similar in a lot"
      },
      {
        "start": 1865.92,
        "duration": 4.44,
        "text": "of ways to SQL however it has a big"
      },
      {
        "start": 1868.44,
        "duration": 4.8,
        "text": "difference and doesn't do joins and has"
      },
      {
        "start": 1870.36,
        "duration": 4.8,
        "text": "very limited aggregations so in this"
      },
      {
        "start": 1873.24,
        "duration": 5.61,
        "text": "case I do a join my employees and"
      },
      {
        "start": 1875.16,
        "duration": 5.37,
        "text": "department this denormalization stuff"
      },
      {
        "start": 1878.85,
        "duration": 4.2,
        "text": "that you probably have already done with"
      },
      {
        "start": 1880.53,
        "duration": 4.38,
        "text": "SQL I remember doing this quite a bit on"
      },
      {
        "start": 1883.05,
        "duration": 4.08,
        "text": "my Oracle databases I would denormalize"
      },
      {
        "start": 1884.91,
        "duration": 4.47,
        "text": "them you know denormalize the data to"
      },
      {
        "start": 1887.13,
        "duration": 3.95,
        "text": "get faster queries put them all in"
      },
      {
        "start": 1889.38,
        "duration": 4.71,
        "text": "Rowlett that means as I'm putting all my"
      },
      {
        "start": 1891.08,
        "duration": 4.69,
        "text": "adjacent data into one table so instead"
      },
      {
        "start": 1894.09,
        "duration": 3.39,
        "text": "of having a employee and department"
      },
      {
        "start": 1895.77,
        "duration": 4.32,
        "text": "table I have department in with my"
      },
      {
        "start": 1897.48,
        "duration": 5.28,
        "text": "employees that select first name from"
      },
      {
        "start": 1900.09,
        "duration": 4.98,
        "text": "employees where ID equals one looks like"
      },
      {
        "start": 1902.76,
        "duration": 4.38,
        "text": "an SQL query doesn't it that's actually"
      },
      {
        "start": 1905.07,
        "duration": 4.98,
        "text": "a cql correct so now we're we're"
      },
      {
        "start": 1907.14,
        "duration": 6.75,
        "text": "crossing over cql is just denormalized"
      },
      {
        "start": 1910.05,
        "duration": 7.47,
        "text": "is ad normalized access language so i'm"
      },
      {
        "start": 1913.89,
        "duration": 7.26,
        "text": "this is using CQ l check this is a table"
      },
      {
        "start": 1917.52,
        "duration": 6.14,
        "text": "creation for Cassandra it's a real table"
      },
      {
        "start": 1921.15,
        "duration": 5.01,
        "text": "it's not key value it's a real table and"
      },
      {
        "start": 1923.66,
        "duration": 5.56,
        "text": "it includes a table names and column"
      },
      {
        "start": 1926.16,
        "duration": 5.55,
        "text": "names and cql types what's different"
      },
      {
        "start": 1929.22,
        "duration": 5.37,
        "text": "here is a seat that cql type does not"
      },
      {
        "start": 1931.71,
        "duration": 4.44,
        "text": "require any sizing information and why"
      },
      {
        "start": 1934.59,
        "duration": 3.33,
        "text": "because data that's stored in a"
      },
      {
        "start": 1936.15,
        "duration": 4.35,
        "text": "relational database is on a fixed data"
      },
      {
        "start": 1937.92,
        "duration": 4.47,
        "text": "file and that has allocations for all"
      },
      {
        "start": 1940.5,
        "duration": 4.2,
        "text": "your different data set I mean so if you"
      },
      {
        "start": 1942.39,
        "duration": 4.59,
        "text": "have a varchar' 250 it's gonna allocate"
      },
      {
        "start": 1944.7,
        "duration": 4.35,
        "text": "that many bytes on the disk so because"
      },
      {
        "start": 1946.98,
        "duration": 2.7,
        "text": "it's a random access pattern as you will"
      },
      {
        "start": 1949.05,
        "duration": 2.43,
        "text": "see you shortly"
      },
      {
        "start": 1949.68,
        "duration": 4.59,
        "text": "that's not how Cassandra works so"
      },
      {
        "start": 1951.48,
        "duration": 6.84,
        "text": "there's no need to to describe the size"
      },
      {
        "start": 1954.27,
        "duration": 6.78,
        "text": "what's the limit to gigs don't put two"
      },
      {
        "start": 1958.32,
        "duration": 4.38,
        "text": "gigs and that will blow up your"
      },
      {
        "start": 1961.05,
        "duration": 2.91,
        "text": "application if you try too extreme"
      },
      {
        "start": 1962.7,
        "duration": 3.66,
        "text": "because that's the streaming operation"
      },
      {
        "start": 1963.96,
        "duration": 5.37,
        "text": "that's like a whole huge video file"
      },
      {
        "start": 1966.36,
        "duration": 5.16,
        "text": "alright so it also includes a primary"
      },
      {
        "start": 1969.33,
        "duration": 4.29,
        "text": "key same reason this primary key"
      },
      {
        "start": 1971.52,
        "duration": 5.43,
        "text": "designates the unique record in this"
      },
      {
        "start": 1973.62,
        "duration": 5.76,
        "text": "case a video ID and what we call that"
      },
      {
        "start": 1976.95,
        "duration": 6.21,
        "text": "inside of that parenthesis a partition"
      },
      {
        "start": 1979.38,
        "duration": 6.0,
        "text": "key that's all your terms so we do it"
      },
      {
        "start": 1983.16,
        "duration": 5.34,
        "text": "when we do an insert same thing table"
      },
      {
        "start": 1985.38,
        "duration": 5.16,
        "text": "name fields we have to include the"
      },
      {
        "start": 1988.5,
        "duration": 3.39,
        "text": "partition key that's the required part"
      },
      {
        "start": 1990.54,
        "duration": 3.96,
        "text": "of this and you'll see in a minute why"
      },
      {
        "start": 1991.89,
        "duration": 3.52,
        "text": "but and then the rest of it is just"
      },
      {
        "start": 1994.5,
        "duration": 4.12,
        "text": "values looks"
      },
      {
        "start": 1995.41,
        "duration": 5.49,
        "text": "really familiar right so let's talk"
      },
      {
        "start": 1998.62,
        "duration": 4.17,
        "text": "about partition keys because in a data"
      },
      {
        "start": 2000.9,
        "duration": 3.69,
        "text": "model I'm gonna I'm gonna explain to you"
      },
      {
        "start": 2002.79,
        "duration": 4.74,
        "text": "the most important part of a data model"
      },
      {
        "start": 2004.59,
        "duration": 5.01,
        "text": "which is the primary key partition keys"
      },
      {
        "start": 2007.53,
        "duration": 3.93,
        "text": "are these things right here now I"
      },
      {
        "start": 2009.6,
        "duration": 4.74,
        "text": "probably pick the worst possible"
      },
      {
        "start": 2011.46,
        "duration": 5.37,
        "text": "partition key because I used a UUID and"
      },
      {
        "start": 2014.34,
        "duration": 5.76,
        "text": "you look like man how am I gonna make"
      },
      {
        "start": 2016.83,
        "duration": 5.76,
        "text": "that well just go with it for a minute I"
      },
      {
        "start": 2020.1,
        "duration": 4.53,
        "text": "need to change this slide but we usually"
      },
      {
        "start": 2022.59,
        "duration": 5.55,
        "text": "I use a UID in this case because this is"
      },
      {
        "start": 2024.63,
        "duration": 5.67,
        "text": "actually a real application but taking"
      },
      {
        "start": 2028.14,
        "duration": 4.11,
        "text": "this the UUID which is a nasty number"
      },
      {
        "start": 2030.3,
        "duration": 4.02,
        "text": "running it through a murmur three hash"
      },
      {
        "start": 2032.25,
        "duration": 4.22,
        "text": "murmur three is our consistent hashing"
      },
      {
        "start": 2034.32,
        "duration": 6.03,
        "text": "algorithm it kicks out these tokens"
      },
      {
        "start": 2036.47,
        "duration": 6.4,
        "text": "these are just numerix and it will"
      },
      {
        "start": 2040.35,
        "duration": 5.4,
        "text": "always kick those out so the consistent"
      },
      {
        "start": 2042.87,
        "duration": 5.01,
        "text": "hash of course is should be a 64-bit"
      },
      {
        "start": 2045.75,
        "duration": 5.82,
        "text": "number my bad between 2 to the negative"
      },
      {
        "start": 2047.88,
        "duration": 4.86,
        "text": "60 to 64 doesn't matter the point is is"
      },
      {
        "start": 2051.57,
        "duration": 3.72,
        "text": "that it will be a consistent number"
      },
      {
        "start": 2052.74,
        "duration": 6.36,
        "text": "every time and the chances of collision"
      },
      {
        "start": 2055.29,
        "duration": 6.9,
        "text": "are astronomical I don't say impossible"
      },
      {
        "start": 2059.1,
        "duration": 6.21,
        "text": "nothing's impossible but you won't have"
      },
      {
        "start": 2062.19,
        "duration": 5.82,
        "text": "collisions inside your database the"
      },
      {
        "start": 2065.31,
        "duration": 6.84,
        "text": "select okay now I want my data looks"
      },
      {
        "start": 2068.01,
        "duration": 7.74,
        "text": "pretty similar table name fields again"
      },
      {
        "start": 2072.15,
        "duration": 5.79,
        "text": "partition key is required and this is"
      },
      {
        "start": 2075.75,
        "duration": 4.26,
        "text": "where you get a little sideways on a cql"
      },
      {
        "start": 2077.94,
        "duration": 3.66,
        "text": "data model is that now we're getting to"
      },
      {
        "start": 2080.01,
        "duration": 3.78,
        "text": "some requirements that you didn't quite"
      },
      {
        "start": 2081.6,
        "duration": 4.02,
        "text": "need in SQL and like you could just"
      },
      {
        "start": 2083.79,
        "duration": 5.129,
        "text": "select off of any field or you could"
      },
      {
        "start": 2085.62,
        "duration": 5.45,
        "text": "just say select fields from table you"
      },
      {
        "start": 2088.919,
        "duration": 4.741,
        "text": "could do a select fields from table in"
      },
      {
        "start": 2091.07,
        "duration": 4.21,
        "text": "cql except what it winds up doing is"
      },
      {
        "start": 2093.66,
        "duration": 3.93,
        "text": "grabbing all of the data from the"
      },
      {
        "start": 2095.28,
        "duration": 5.09,
        "text": "cluster and you think of full table"
      },
      {
        "start": 2097.59,
        "duration": 4.92,
        "text": "scans bed and try a full cluster scan"
      },
      {
        "start": 2100.37,
        "duration": 5.08,
        "text": "that'll take a while and probably time"
      },
      {
        "start": 2102.51,
        "duration": 5.91,
        "text": "out anyway the partition key is really"
      },
      {
        "start": 2105.45,
        "duration": 7.83,
        "text": "important in a select query let's dig"
      },
      {
        "start": 2108.42,
        "duration": 7.91,
        "text": "into why let's dig in a by area okay oh"
      },
      {
        "start": 2113.28,
        "duration": 6.99,
        "text": "sorry and here's an example of the data"
      },
      {
        "start": 2116.33,
        "duration": 6.31,
        "text": "area why is a partition key important in"
      },
      {
        "start": 2120.27,
        "duration": 4.41,
        "text": "this case well this partition key as you"
      },
      {
        "start": 2122.64,
        "duration": 4.17,
        "text": "see it let's see you have a thousand"
      },
      {
        "start": 2124.68,
        "duration": 4.35,
        "text": "node cluster and those are in the wild"
      },
      {
        "start": 2126.81,
        "duration": 4.8,
        "text": "they exist a lot"
      },
      {
        "start": 2129.03,
        "duration": 5.94,
        "text": "a thousand node cluster is a lot of data"
      },
      {
        "start": 2131.61,
        "duration": 7.17,
        "text": "spread out over a lot of nodes now if I"
      },
      {
        "start": 2134.97,
        "duration": 5.58,
        "text": "want to find this video ad I do not want"
      },
      {
        "start": 2138.78,
        "duration": 3.89,
        "text": "to scan that whole thing that's what"
      },
      {
        "start": 2140.55,
        "duration": 5.07,
        "text": "that's a spark job that'll take a while"
      },
      {
        "start": 2142.67,
        "duration": 5.26,
        "text": "but what I'm gonna do is I'm gonna if"
      },
      {
        "start": 2145.62,
        "duration": 4.29,
        "text": "you remember each one of these nodes has"
      },
      {
        "start": 2147.93,
        "duration": 3.54,
        "text": "a token range well if I put that"
      },
      {
        "start": 2149.91,
        "duration": 3.78,
        "text": "partition key through the Maru 3 hash"
      },
      {
        "start": 2151.47,
        "duration": 3.9,
        "text": "and I get a token then I know exactly"
      },
      {
        "start": 2153.69,
        "duration": 3.57,
        "text": "where it is and it's right there on that"
      },
      {
        "start": 2155.37,
        "duration": 4.74,
        "text": "node it'll always be in that node and"
      },
      {
        "start": 2157.26,
        "duration": 4.56,
        "text": "that's the key is with a thousand node"
      },
      {
        "start": 2160.11,
        "duration": 3.78,
        "text": "cluster that data is only in one place"
      },
      {
        "start": 2161.82,
        "duration": 4.23,
        "text": "Plus that's two replicas that's it"
      },
      {
        "start": 2163.89,
        "duration": 3.66,
        "text": "so if I have a thousand nodes four nodes"
      },
      {
        "start": 2166.05,
        "duration": 5.49,
        "text": "doesn't matter there's always gonna be"
      },
      {
        "start": 2167.55,
        "duration": 6.0,
        "text": "in the same place sequences this is"
      },
      {
        "start": 2171.54,
        "duration": 3.99,
        "text": "another one that's like oh I can't I"
      },
      {
        "start": 2173.55,
        "duration": 4.53,
        "text": "have to have this you've probably done"
      },
      {
        "start": 2175.53,
        "duration": 3.57,
        "text": "this before create sequence so that's"
      },
      {
        "start": 2178.08,
        "duration": 3.48,
        "text": "like creating an ID"
      },
      {
        "start": 2179.1,
        "duration": 5.4,
        "text": "every time you say select into create or"
      },
      {
        "start": 2181.56,
        "duration": 5.97,
        "text": "select or insert into and you create an"
      },
      {
        "start": 2184.5,
        "duration": 4.35,
        "text": "auto ID those are great they're supposed"
      },
      {
        "start": 2187.53,
        "duration": 4.14,
        "text": "to be unique although I've blown up"
      },
      {
        "start": 2188.85,
        "duration": 5.61,
        "text": "sequences before you need acid to make"
      },
      {
        "start": 2191.67,
        "duration": 5.4,
        "text": "that work why because you can't have two"
      },
      {
        "start": 2194.46,
        "duration": 5.58,
        "text": "things get the same number there's a"
      },
      {
        "start": 2197.07,
        "duration": 7.62,
        "text": "race condition you cannot manage okay so"
      },
      {
        "start": 2200.04,
        "duration": 6.21,
        "text": "I'm not gonna do this what we do and"
      },
      {
        "start": 2204.69,
        "duration": 4.55,
        "text": "this is actually a distributed computing"
      },
      {
        "start": 2206.25,
        "duration": 5.79,
        "text": "thing not just Cassandra is instead of"
      },
      {
        "start": 2209.24,
        "duration": 7.42,
        "text": "using IDs that are incremental or"
      },
      {
        "start": 2212.04,
        "duration": 6.18,
        "text": "generated we use these new IDs you IDs"
      },
      {
        "start": 2216.66,
        "duration": 3.27,
        "text": "are fantastic because they can be"
      },
      {
        "start": 2218.22,
        "duration": 3.36,
        "text": "generated on the client they're"
      },
      {
        "start": 2219.93,
        "duration": 3.75,
        "text": "guaranteed to be unique somewhere in the"
      },
      {
        "start": 2221.58,
        "duration": 4.62,
        "text": "universe generally there are like"
      },
      {
        "start": 2223.68,
        "duration": 5.07,
        "text": "128-bit number that's most of the hell"
      },
      {
        "start": 2226.2,
        "duration": 4.16,
        "text": "you IDs work there like I said too"
      },
      {
        "start": 2228.75,
        "duration": 4.74,
        "text": "easily generated on the client but"
      },
      {
        "start": 2230.36,
        "duration": 5.8,
        "text": "they're also baked into like every bit"
      },
      {
        "start": 2233.49,
        "duration": 5.48,
        "text": "of Java Python every programming"
      },
      {
        "start": 2236.16,
        "duration": 5.46,
        "text": "language has a way to generate new IDs"
      },
      {
        "start": 2238.97,
        "duration": 5.29,
        "text": "so now we have this dynamic table this"
      },
      {
        "start": 2241.62,
        "duration": 5.42,
        "text": "is where like I said the primary key I'm"
      },
      {
        "start": 2244.26,
        "duration": 5.1,
        "text": "showing you the most important thing now"
      },
      {
        "start": 2247.04,
        "duration": 4.93,
        "text": "partition key is a first value in a"
      },
      {
        "start": 2249.36,
        "duration": 4.35,
        "text": "primary key the second and every other"
      },
      {
        "start": 2251.97,
        "duration": 4.77,
        "text": "value after it's called a clustering"
      },
      {
        "start": 2253.71,
        "duration": 5.51,
        "text": "call and that clustering column is"
      },
      {
        "start": 2256.74,
        "duration": 5.37,
        "text": "really important for ordering data and"
      },
      {
        "start": 2259.22,
        "duration": 5.24,
        "text": "I'll show you how it works"
      },
      {
        "start": 2262.11,
        "duration": 5.05,
        "text": "so the primary key relationship we have"
      },
      {
        "start": 2264.46,
        "duration": 5.01,
        "text": "a partition key clustering column on the"
      },
      {
        "start": 2267.16,
        "duration": 3.93,
        "text": "disk we're storing the data model which"
      },
      {
        "start": 2269.47,
        "duration": 2.04,
        "text": "is like the header for the record on"
      },
      {
        "start": 2271.09,
        "duration": 2.07,
        "text": "disk"
      },
      {
        "start": 2271.51,
        "duration": 3.859,
        "text": "remember BigTable I told you about"
      },
      {
        "start": 2273.16,
        "duration": 4.08,
        "text": "BigTable which is this really large"
      },
      {
        "start": 2275.369,
        "duration": 4.091,
        "text": "sequential group of data"
      },
      {
        "start": 2277.24,
        "duration": 4.56,
        "text": "well the partition key is going to be"
      },
      {
        "start": 2279.46,
        "duration": 3.96,
        "text": "the header of the record the actual data"
      },
      {
        "start": 2281.8,
        "duration": 3.96,
        "text": "that's stored on disk is going to be"
      },
      {
        "start": 2283.42,
        "duration": 6.449,
        "text": "ordered by that clustering column so"
      },
      {
        "start": 2285.76,
        "duration": 6.03,
        "text": "this clustering column is setting up"
      },
      {
        "start": 2289.869,
        "duration": 4.831,
        "text": "this order of operations after the data"
      },
      {
        "start": 2291.79,
        "duration": 8.34,
        "text": "model why is that important well I'm"
      },
      {
        "start": 2294.7,
        "duration": 8.88,
        "text": "co-locating my data on disk next to my"
      },
      {
        "start": 2300.13,
        "duration": 5.07,
        "text": "partition key so how does that look well"
      },
      {
        "start": 2303.58,
        "duration": 4.92,
        "text": "when I have a partition key in a cluster"
      },
      {
        "start": 2305.2,
        "duration": 4.89,
        "text": "what I'm really doing is I have all"
      },
      {
        "start": 2308.5,
        "duration": 3.0,
        "text": "these partition keys are the same but"
      },
      {
        "start": 2310.09,
        "duration": 4.29,
        "text": "look at these clustering columns are all"
      },
      {
        "start": 2311.5,
        "duration": 4.92,
        "text": "different so I've created it already"
      },
      {
        "start": 2314.38,
        "duration": 4.35,
        "text": "baked in order to my table based on the"
      },
      {
        "start": 2316.42,
        "duration": 5.28,
        "text": "clustering column so this is my order by"
      },
      {
        "start": 2318.73,
        "duration": 4.86,
        "text": "built into the data model so if I have"
      },
      {
        "start": 2321.7,
        "duration": 4.59,
        "text": "multiple partition keys multiple cluster"
      },
      {
        "start": 2323.59,
        "duration": 4.83,
        "text": "columns this is what a table actually"
      },
      {
        "start": 2326.29,
        "duration": 3.72,
        "text": "looks like under the covers is that I"
      },
      {
        "start": 2328.42,
        "duration": 2.79,
        "text": "have a partition key and a clustering"
      },
      {
        "start": 2330.01,
        "duration": 5.55,
        "text": "column and then here's all my other"
      },
      {
        "start": 2331.21,
        "duration": 6.09,
        "text": "columns and this data all of this data"
      },
      {
        "start": 2335.56,
        "duration": 4.29,
        "text": "right here is located on the same spot"
      },
      {
        "start": 2337.3,
        "duration": 7.59,
        "text": "on the disk this is located on the same"
      },
      {
        "start": 2339.85,
        "duration": 6.69,
        "text": "spot on the disk so in just to finish up"
      },
      {
        "start": 2344.89,
        "duration": 3.96,
        "text": "the data modeling thing when you have"
      },
      {
        "start": 2346.54,
        "duration": 4.38,
        "text": "multiple tables the storage of that is"
      },
      {
        "start": 2348.85,
        "duration": 4.83,
        "text": "what's called a key space key space and"
      },
      {
        "start": 2350.92,
        "duration": 6.54,
        "text": "cassandra is like a schema or a database"
      },
      {
        "start": 2353.68,
        "duration": 5.07,
        "text": "and some but key space the only thing"
      },
      {
        "start": 2357.46,
        "duration": 2.79,
        "text": "that really is important about a key"
      },
      {
        "start": 2358.75,
        "duration": 4.95,
        "text": "space is it stores the replication"
      },
      {
        "start": 2360.25,
        "duration": 5.1,
        "text": "information so if I want this replicated"
      },
      {
        "start": 2363.7,
        "duration": 4.59,
        "text": "across multiple data centers I say"
      },
      {
        "start": 2365.35,
        "duration": 5.519,
        "text": "replication factor 3 or I'm sorry"
      },
      {
        "start": 2368.29,
        "duration": 3.84,
        "text": "yeah replication factor 3 here and I"
      },
      {
        "start": 2370.869,
        "duration": 2.791,
        "text": "could say replication factor at a"
      },
      {
        "start": 2372.13,
        "duration": 3.54,
        "text": "different of 2 at a different data"
      },
      {
        "start": 2373.66,
        "duration": 4.5,
        "text": "center or it's 0 if I don't want that"
      },
      {
        "start": 2375.67,
        "duration": 5.16,
        "text": "copy that data copied over so that's"
      },
      {
        "start": 2378.16,
        "duration": 4.8,
        "text": "what the key space is good for so"
      },
      {
        "start": 2380.83,
        "duration": 3.9,
        "text": "controlling order if I'm inserting data"
      },
      {
        "start": 2382.96,
        "duration": 3.75,
        "text": "into my database like this this is a"
      },
      {
        "start": 2384.73,
        "duration": 3.9,
        "text": "time series database"
      },
      {
        "start": 2386.71,
        "duration": 4.409,
        "text": "I'm looking what I've done here I have a"
      },
      {
        "start": 2388.63,
        "duration": 5.729,
        "text": "weather station with year-month-day an"
      },
      {
        "start": 2391.119,
        "duration": 4.231,
        "text": "hour so what I've done is I've created"
      },
      {
        "start": 2394.359,
        "duration": 4.261,
        "text": "this very"
      },
      {
        "start": 2395.35,
        "duration": 5.4,
        "text": "orderly table now of correct weather"
      },
      {
        "start": 2398.62,
        "duration": 4.85,
        "text": "data so now it's in Time series data a"
      },
      {
        "start": 2400.75,
        "duration": 5.25,
        "text": "time order so I have my order by"
      },
      {
        "start": 2403.47,
        "duration": 5.89,
        "text": "descending but what if I want to flip"
      },
      {
        "start": 2406.0,
        "duration": 5.7,
        "text": "that around now I have my user videos"
      },
      {
        "start": 2409.36,
        "duration": 4.5,
        "text": "that at what time I've added them what"
      },
      {
        "start": 2411.7,
        "duration": 4.59,
        "text": "that does is that gives me the ability"
      },
      {
        "start": 2413.86,
        "duration": 4.95,
        "text": "to ask the database for the data and I"
      },
      {
        "start": 2416.29,
        "duration": 4.62,
        "text": "could say limit five and I get the last"
      },
      {
        "start": 2418.81,
        "duration": 7.35,
        "text": "five things that I did it's really"
      },
      {
        "start": 2420.91,
        "duration": 7.71,
        "text": "powerful all right I'm on oh yeah yeah"
      },
      {
        "start": 2426.16,
        "duration": 4.08,
        "text": "so how does this work on the disk and"
      },
      {
        "start": 2428.62,
        "duration": 4.56,
        "text": "this is real quick primer on right path"
      },
      {
        "start": 2430.24,
        "duration": 5.28,
        "text": "so when I insert data into the system it"
      },
      {
        "start": 2433.18,
        "duration": 4.5,
        "text": "writes to the commit log it actually"
      },
      {
        "start": 2435.52,
        "duration": 3.66,
        "text": "writes to the disk before anything so"
      },
      {
        "start": 2437.68,
        "duration": 3.81,
        "text": "this is how this is why it's durable"
      },
      {
        "start": 2439.18,
        "duration": 5.61,
        "text": "it's not in a memory database if then"
      },
      {
        "start": 2441.49,
        "duration": 5.34,
        "text": "writes it so every write appends to the"
      },
      {
        "start": 2444.79,
        "duration": 4.14,
        "text": "commit log but it also writes to the mem"
      },
      {
        "start": 2446.83,
        "duration": 4.26,
        "text": "table once it does the right to the mem"
      },
      {
        "start": 2448.93,
        "duration": 2.91,
        "text": "table it sends an acknowledgement back"
      },
      {
        "start": 2451.09,
        "duration": 2.91,
        "text": "to the client"
      },
      {
        "start": 2451.84,
        "duration": 4.95,
        "text": "the clients happy it moves on so that"
      },
      {
        "start": 2454.0,
        "duration": 4.68,
        "text": "data lists here in there eventually what"
      },
      {
        "start": 2456.79,
        "duration": 4.35,
        "text": "happens is the mem table flushes out to"
      },
      {
        "start": 2458.68,
        "duration": 4.53,
        "text": "disk well what it does is it flushes out"
      },
      {
        "start": 2461.14,
        "duration": 4.2,
        "text": "this exact order that you built in your"
      },
      {
        "start": 2463.21,
        "duration": 4.41,
        "text": "data model onto the disk that means now"
      },
      {
        "start": 2465.34,
        "duration": 5.79,
        "text": "that your data is an assorted order on"
      },
      {
        "start": 2467.62,
        "duration": 4.86,
        "text": "disk so as just building more SS tables"
      },
      {
        "start": 2471.13,
        "duration": 3.87,
        "text": "that's kicking out more SS tables"
      },
      {
        "start": 2472.48,
        "duration": 4.83,
        "text": "eventually what happens is we want to"
      },
      {
        "start": 2475.0,
        "duration": 5.46,
        "text": "join those together we do this thing"
      },
      {
        "start": 2477.31,
        "duration": 5.58,
        "text": "called a compaction it reads all the SS"
      },
      {
        "start": 2480.46,
        "duration": 5.22,
        "text": "tables and writes out one long one but"
      },
      {
        "start": 2482.89,
        "duration": 4.83,
        "text": "it orders the data properly given your"
      },
      {
        "start": 2485.68,
        "duration": 5.13,
        "text": "data model so now we're maintaining"
      },
      {
        "start": 2487.72,
        "duration": 5.91,
        "text": "order and keeping your data nice and"
      },
      {
        "start": 2490.81,
        "duration": 8.03,
        "text": "compact and using the data model you've"
      },
      {
        "start": 2493.63,
        "duration": 7.68,
        "text": "created so kind of a last thing here is"
      },
      {
        "start": 2498.84,
        "duration": 4.53,
        "text": "the storage model just to kind of give"
      },
      {
        "start": 2501.31,
        "duration": 5.28,
        "text": "you an idea of how it looks on the disk"
      },
      {
        "start": 2503.37,
        "duration": 4.99,
        "text": "whenever I'm writing data this is the"
      },
      {
        "start": 2506.59,
        "duration": 4.65,
        "text": "weather station look at the times"
      },
      {
        "start": 2508.36,
        "duration": 6.57,
        "text": "they're all in order based on the header"
      },
      {
        "start": 2511.24,
        "duration": 6.33,
        "text": "on disk and whenever I add data to the"
      },
      {
        "start": 2514.93,
        "duration": 4.29,
        "text": "system it's gonna append that record to"
      },
      {
        "start": 2517.57,
        "duration": 3.75,
        "text": "that large partition that's the part of"
      },
      {
        "start": 2519.22,
        "duration": 5.37,
        "text": "that big table model this gives us some"
      },
      {
        "start": 2521.32,
        "duration": 5.91,
        "text": "really fast e to access patterns so the"
      },
      {
        "start": 2524.59,
        "duration": 4.68,
        "text": "read path pretty simple it just reads"
      },
      {
        "start": 2527.23,
        "duration": 4.17,
        "text": "the data from it has to read all"
      },
      {
        "start": 2529.27,
        "duration": 4.56,
        "text": "the data from the SS cables true but it"
      },
      {
        "start": 2531.4,
        "duration": 4.44,
        "text": "sorts it in that Memel properly and then"
      },
      {
        "start": 2533.83,
        "duration": 5.55,
        "text": "sends it back to the client so that that"
      },
      {
        "start": 2535.84,
        "duration": 5.22,
        "text": "sort order is kept so whenever I read my"
      },
      {
        "start": 2539.38,
        "duration": 3.78,
        "text": "data I get the partition key for"
      },
      {
        "start": 2541.06,
        "duration": 3.93,
        "text": "locality that tells me where it is in"
      },
      {
        "start": 2543.16,
        "duration": 4.08,
        "text": "the universe like what node it is in the"
      },
      {
        "start": 2544.99,
        "duration": 5.37,
        "text": "cluster I do that single seek on the"
      },
      {
        "start": 2547.24,
        "duration": 5.67,
        "text": "disk I do a sequential read I pull it up"
      },
      {
        "start": 2550.36,
        "duration": 5.28,
        "text": "into a table this is what programmers"
      },
      {
        "start": 2552.91,
        "duration": 7.59,
        "text": "one rows and columns good to go"
      },
      {
        "start": 2555.64,
        "duration": 7.23,
        "text": "done whoa all right that was data"
      },
      {
        "start": 2560.5,
        "duration": 5.39,
        "text": "modeling that we also have a really long"
      },
      {
        "start": 2562.87,
        "duration": 6.45,
        "text": "course Wendy s to 20 on Academy for free"
      },
      {
        "start": 2565.89,
        "duration": 5.26,
        "text": "you could see more of us but this is a"
      },
      {
        "start": 2569.32,
        "duration": 3.81,
        "text": "you got enough to be dangerous at this"
      },
      {
        "start": 2571.15,
        "duration": 3.36,
        "text": "point so let me talk a little bit about"
      },
      {
        "start": 2573.13,
        "duration": 2.67,
        "text": "Cassandra for dough and then we're going"
      },
      {
        "start": 2574.51,
        "duration": 3.29,
        "text": "to talk about clustering algorithms"
      },
      {
        "start": 2575.8,
        "duration": 4.92,
        "text": "because that's why you're really here"
      },
      {
        "start": 2577.8,
        "duration": 7.33,
        "text": "so Cassandra for Dodos is when is it"
      },
      {
        "start": 2580.72,
        "duration": 6.84,
        "text": "gonna be released soon it's open source"
      },
      {
        "start": 2585.13,
        "duration": 3.78,
        "text": "come on it's an Apache project we when"
      },
      {
        "start": 2587.56,
        "duration": 3.21,
        "text": "it's done ish"
      },
      {
        "start": 2588.91,
        "duration": 4.65,
        "text": "we're probably probably like summer fall"
      },
      {
        "start": 2590.77,
        "duration": 4.8,
        "text": "it'll be ready it's out there you can go"
      },
      {
        "start": 2593.56,
        "duration": 3.63,
        "text": "use it but it's not it's in a code"
      },
      {
        "start": 2595.57,
        "duration": 4.47,
        "text": "freeze right now but they're still"
      },
      {
        "start": 2597.19,
        "duration": 6.21,
        "text": "testing and changes going on this is a"
      },
      {
        "start": 2600.04,
        "duration": 5.46,
        "text": "huge stability release and 3oh was a big"
      },
      {
        "start": 2603.4,
        "duration": 6.72,
        "text": "change to the underlying data store and"
      },
      {
        "start": 2605.5,
        "duration": 5.88,
        "text": "for Dodos is kind of like to paying off"
      },
      {
        "start": 2610.12,
        "duration": 3.12,
        "text": "a bit of technical debt we're getting"
      },
      {
        "start": 2611.38,
        "duration": 3.42,
        "text": "rid of thrift a few other things but"
      },
      {
        "start": 2613.24,
        "duration": 4.1,
        "text": "there's a big change it's like this"
      },
      {
        "start": 2614.8,
        "duration": 6.3,
        "text": "asynchronous data mode communication"
      },
      {
        "start": 2617.34,
        "duration": 8.76,
        "text": "this is actually outdated we now have"
      },
      {
        "start": 2621.1,
        "duration": 8.16,
        "text": "not 20% faster it's five times faster"
      },
      {
        "start": 2626.1,
        "duration": 5.53,
        "text": "it's using Metis to do a lot of the"
      },
      {
        "start": 2629.26,
        "duration": 4.17,
        "text": "communication is doing zero copies this"
      },
      {
        "start": 2631.63,
        "duration": 3.57,
        "text": "means that you can bring your nodes up"
      },
      {
        "start": 2633.43,
        "duration": 4.74,
        "text": "faster when you're bringing new load"
      },
      {
        "start": 2635.2,
        "duration": 4.59,
        "text": "nodes into your cluster needless to say"
      },
      {
        "start": 2638.17,
        "duration": 3.3,
        "text": "a lot of this stuff came from Apple"
      },
      {
        "start": 2639.79,
        "duration": 4.26,
        "text": "Apple lard runs some of the biggest"
      },
      {
        "start": 2641.47,
        "duration": 5.72,
        "text": "clusters in the world and they are all"
      },
      {
        "start": 2644.05,
        "duration": 5.25,
        "text": "about making it super efficient and fast"
      },
      {
        "start": 2647.19,
        "duration": 4.36,
        "text": "there's some restart condition issues"
      },
      {
        "start": 2649.3,
        "duration": 3.54,
        "text": "that we've had over the years and it's"
      },
      {
        "start": 2651.55,
        "duration": 5.01,
        "text": "getting a lot of that's getting cleaned"
      },
      {
        "start": 2652.84,
        "duration": 6.63,
        "text": "up also some stuff inside the slow query"
      },
      {
        "start": 2656.56,
        "duration": 4.32,
        "text": "logs the slow or large query log like"
      },
      {
        "start": 2659.47,
        "duration": 3.3,
        "text": "something is taking too long you want to"
      },
      {
        "start": 2660.88,
        "duration": 4.23,
        "text": "know what if someone did do a full clock"
      },
      {
        "start": 2662.77,
        "duration": 5.16,
        "text": "your scan and it also has the ability to"
      },
      {
        "start": 2665.11,
        "duration": 6.45,
        "text": "stop if someone did say select star from"
      },
      {
        "start": 2667.93,
        "duration": 4.17,
        "text": "from table go it's gonna run for a long"
      },
      {
        "start": 2671.56,
        "duration": 5.22,
        "text": "time"
      },
      {
        "start": 2672.1,
        "duration": 7.56,
        "text": "well it'll stop those big long cluster"
      },
      {
        "start": 2676.78,
        "duration": 4.53,
        "text": "killers the big features that are coming"
      },
      {
        "start": 2679.66,
        "duration": 4.77,
        "text": "and these are the features not the"
      },
      {
        "start": 2681.31,
        "duration": 5.55,
        "text": "stabilities pluggable storage Facebook"
      },
      {
        "start": 2684.43,
        "duration": 4.62,
        "text": "Instagram has been working on a lot of"
      },
      {
        "start": 2686.86,
        "duration": 4.68,
        "text": "that they want to use this specifically"
      },
      {
        "start": 2689.05,
        "duration": 5.22,
        "text": "for adding rocks DB as a storage engine"
      },
      {
        "start": 2691.54,
        "duration": 5.55,
        "text": "underneath Cassandra but pluggable"
      },
      {
        "start": 2694.27,
        "duration": 5.34,
        "text": "storage in general as a database concept"
      },
      {
        "start": 2697.09,
        "duration": 5.49,
        "text": "that that's a big contribution from"
      },
      {
        "start": 2699.61,
        "duration": 5.48,
        "text": "Facebook audit logging that's a"
      },
      {
        "start": 2702.58,
        "duration": 5.61,
        "text": "contribution that's coming from uber and"
      },
      {
        "start": 2705.09,
        "duration": 5.01,
        "text": "this is for secure like security"
      },
      {
        "start": 2708.19,
        "duration": 4.47,
        "text": "compliance like who's accessing my data"
      },
      {
        "start": 2710.1,
        "duration": 4.18,
        "text": "virtual tables this is the one that I've"
      },
      {
        "start": 2712.66,
        "duration": 5.49,
        "text": "been waiting for for three or four years"
      },
      {
        "start": 2714.28,
        "duration": 5.16,
        "text": "now and that's just creating tables that"
      },
      {
        "start": 2718.15,
        "duration": 3.45,
        "text": "actually are under it's not a"
      },
      {
        "start": 2719.44,
        "duration": 3.81,
        "text": "materialized view what it is is tables"
      },
      {
        "start": 2721.6,
        "duration": 4.89,
        "text": "that show underlying operating"
      },
      {
        "start": 2723.25,
        "duration": 4.83,
        "text": "statistics from the running database so"
      },
      {
        "start": 2726.49,
        "duration": 3.21,
        "text": "you can say select your Naveed"
      },
      {
        "start": 2728.08,
        "duration": 2.96,
        "text": "dollar-sign tables for instance from"
      },
      {
        "start": 2729.7,
        "duration": 2.7,
        "text": "oracle that show you underlying"
      },
      {
        "start": 2731.04,
        "duration": 3.7,
        "text": "performance counters"
      },
      {
        "start": 2732.4,
        "duration": 4.2,
        "text": "that's what virtual tables are and then"
      },
      {
        "start": 2734.74,
        "duration": 3.57,
        "text": "finally there's about six or seven in"
      },
      {
        "start": 2736.6,
        "duration": 4.86,
        "text": "management side card proposals out right"
      },
      {
        "start": 2738.31,
        "duration": 5.22,
        "text": "now basically it's an HTTP process it"
      },
      {
        "start": 2741.46,
        "duration": 3.6,
        "text": "runs along with the nodes so you can run"
      },
      {
        "start": 2743.53,
        "duration": 4.26,
        "text": "things like repairs and things like that"
      },
      {
        "start": 2745.06,
        "duration": 6.09,
        "text": "it gives you better ways you can manage"
      },
      {
        "start": 2747.79,
        "duration": 6.12,
        "text": "the cluster another thing which is"
      },
      {
        "start": 2751.15,
        "duration": 4.65,
        "text": "really fascinating and data stacks has"
      },
      {
        "start": 2753.91,
        "duration": 4.32,
        "text": "been doing a lot of the lead on this and"
      },
      {
        "start": 2755.8,
        "duration": 5.37,
        "text": "there's some other Cassandra community"
      },
      {
        "start": 2758.23,
        "duration": 5.94,
        "text": "members working on this and this is this"
      },
      {
        "start": 2761.17,
        "duration": 5.79,
        "text": "is pretty early early statistics but"
      },
      {
        "start": 2764.17,
        "duration": 4.28,
        "text": "we're looking at some of the new garbage"
      },
      {
        "start": 2766.96,
        "duration": 3.87,
        "text": "collection algorithms that are out there"
      },
      {
        "start": 2768.45,
        "duration": 4.27,
        "text": "one in which is really interesting as a"
      },
      {
        "start": 2770.83,
        "duration": 6.27,
        "text": "zgc"
      },
      {
        "start": 2772.72,
        "duration": 8.79,
        "text": "and this this is really interesting"
      },
      {
        "start": 2777.1,
        "duration": 6.62,
        "text": "stuff we are getting like these this is"
      },
      {
        "start": 2781.51,
        "duration": 4.53,
        "text": "the the public graph that I could show"
      },
      {
        "start": 2783.72,
        "duration": 3.61,
        "text": "the stuff that I can't show is even more"
      },
      {
        "start": 2786.04,
        "duration": 3.09,
        "text": "interesting because it's unbelievable"
      },
      {
        "start": 2787.33,
        "duration": 3.21,
        "text": "but we're still testing it there's some"
      },
      {
        "start": 2789.13,
        "duration": 3.29,
        "text": "gotchas though it was very interesting"
      },
      {
        "start": 2790.54,
        "duration": 4.31,
        "text": "but what we're showing here is like"
      },
      {
        "start": 2792.42,
        "duration": 4.68,
        "text": "these these latency numbers"
      },
      {
        "start": 2794.85,
        "duration": 5.61,
        "text": "99 members of like a second or a"
      },
      {
        "start": 2797.1,
        "duration": 5.37,
        "text": "millisecond where you know when we start"
      },
      {
        "start": 2800.46,
        "duration": 3.39,
        "text": "looking at P 99 for a different style"
      },
      {
        "start": 2802.47,
        "duration": 3.84,
        "text": "than how many different readers and"
      },
      {
        "start": 2803.85,
        "duration": 6.09,
        "text": "writers we have going on you know it"
      },
      {
        "start": 2806.31,
        "duration": 7.89,
        "text": "starts degrading over time not with zgc"
      },
      {
        "start": 2809.94,
        "duration": 6.39,
        "text": "it's just rock steady and when you look"
      },
      {
        "start": 2814.2,
        "duration": 4.2,
        "text": "at read and write graphs it's just a"
      },
      {
        "start": 2816.33,
        "duration": 4.26,
        "text": "straight line it's amazing"
      },
      {
        "start": 2818.4,
        "duration": 3.96,
        "text": "there's no fluctuation at all so we're"
      },
      {
        "start": 2820.59,
        "duration": 4.62,
        "text": "really excited about potentially not"
      },
      {
        "start": 2822.36,
        "duration": 3.87,
        "text": "having to tune zgc ever again like I"
      },
      {
        "start": 2825.21,
        "duration": 3.12,
        "text": "said there we found some problems"
      },
      {
        "start": 2826.23,
        "duration": 4.5,
        "text": "because now that when you get rid of GC"
      },
      {
        "start": 2828.33,
        "duration": 5.31,
        "text": "problems you find new problems right you"
      },
      {
        "start": 2830.73,
        "duration": 3.96,
        "text": "move one and get another all right that"
      },
      {
        "start": 2833.64,
        "duration": 3.06,
        "text": "is me"
      },
      {
        "start": 2834.69,
        "duration": 5.97,
        "text": "thank you very much any questions while"
      },
      {
        "start": 2836.7,
        "duration": 6.02,
        "text": "we're switching laptops here yeah thank"
      },
      {
        "start": 2840.66,
        "duration": 2.06,
        "text": "you"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T05:07:57.463137+00:00"
}