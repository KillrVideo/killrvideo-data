{
  "video_id": "iJz_BQLHU2o",
  "title": "DS310.23 UDTs & Tuples | DataStax Enterprise 6 Search",
  "description": "#DataStaxAcademy #DS310\nDS310.23 UDTs & Tuples\nIn this section we'll be talking about user defined types and tuples and how we interact with them using DSE Search.\n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-15T20:53:33Z",
  "thumbnail": "https://i.ytimg.com/vi/iJz_BQLHU2o/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "cassandra",
    "search",
    "tutorial",
    "apache_cassandra",
    "talk",
    "dse",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=iJz_BQLHU2o",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] hello i'm joe chu and in this video we'll be talking about user-defined types and tuples and how they work in dlc search tuples and user-defined types are a bit special when it comes to search due to the fact that there can be multiple values or fields within these data types fortunately both of these are well-defined either when creating the user-defined type or when defining the table in the case of tuples this means that dse knows all the possible fields that a tuple or udt column can have and therefore will be much easier to query there is some special processing that needs to be done and both the udt tuple column and the fields within the column would be indexed as separate documents this is not something you really need to concern yourself with as dse will automatically map these documents together this includes the parent document which is the original column fields for a secure row and the child document which represents the fields that exist within a udt or tuple here is an example user defined type and table which we will be using to demonstrate how to define the table in the search schema and to execute searches with the user-defined type is called metadata and includes three fields there is also a tuple column in the table definition called duration and contains four fields when defining the search index schema to index a user-defined type or tuple it will need to use the field type class com.datastacks.bdp.search.solar.cor.types.tuplefield the column will need to be declared as a field and the individual fields within the column will also need to be declared separately as well using a dot notation format to denote the column name and field name if there are other nested fields then that will continue as column name dot field name one dot field name 2 and so forth the name that you used for the udt field should correspond with the name in the cql schema and in the case of the tuple type the name should be field 1 vo2 and so forth here is an example of a field decoration for both the user-defined type column and the tuple column again note that the column is declared as a field and then the individual fields within the column are also declared using the column name and the field name the field type for the fields within the column should also correspond with the data type from the cql schema when searching in a udt or tuple field you'll need to make use of the tuple parser so that dse knows how to search and the tuple parser can be used in a normal search query or in the queue or fq parameter for a json search query it is also possible to search in multiple fields within a udt or tuple as you can see in this first example even cooler is being able to search multiple udts or tuple columns within a search query note that there are some syntax requirements to get this to work though which includes using parentheses to group the search conditions together to add a tuple parser for each separate column and to avoid white space between the tuple parser and the search expression this final example demonstrates searching within a tuple column both search queries are the same but the first one is shown as a basic search query and the second as a json search query",
    "segments": [
      {
        "start": 2.1,
        "duration": 2.14,
        "text": "[Music]"
      },
      {
        "start": 3.6,
        "duration": 2.56,
        "text": "hello"
      },
      {
        "start": 4.24,
        "duration": 3.679,
        "text": "i'm joe chu and in this video we'll be"
      },
      {
        "start": 6.16,
        "duration": 2.399,
        "text": "talking about user-defined types and"
      },
      {
        "start": 7.919,
        "duration": 2.881,
        "text": "tuples"
      },
      {
        "start": 8.559,
        "duration": 4.08,
        "text": "and how they work in dlc search tuples"
      },
      {
        "start": 10.8,
        "duration": 3.12,
        "text": "and user-defined types are a bit special"
      },
      {
        "start": 12.639,
        "duration": 2.481,
        "text": "when it comes to search"
      },
      {
        "start": 13.92,
        "duration": 2.88,
        "text": "due to the fact that there can be"
      },
      {
        "start": 15.12,
        "duration": 2.56,
        "text": "multiple values or fields within these"
      },
      {
        "start": 16.8,
        "duration": 2.319,
        "text": "data types"
      },
      {
        "start": 17.68,
        "duration": 3.28,
        "text": "fortunately both of these are"
      },
      {
        "start": 19.119,
        "duration": 2.881,
        "text": "well-defined either when creating the"
      },
      {
        "start": 20.96,
        "duration": 2.8,
        "text": "user-defined type"
      },
      {
        "start": 22.0,
        "duration": 4.16,
        "text": "or when defining the table in the case"
      },
      {
        "start": 23.76,
        "duration": 4.56,
        "text": "of tuples this means that dse knows all"
      },
      {
        "start": 26.16,
        "duration": 3.119,
        "text": "the possible fields that a tuple or udt"
      },
      {
        "start": 28.32,
        "duration": 2.48,
        "text": "column can have"
      },
      {
        "start": 29.279,
        "duration": 3.44,
        "text": "and therefore will be much easier to"
      },
      {
        "start": 30.8,
        "duration": 3.04,
        "text": "query there is some special processing"
      },
      {
        "start": 32.719,
        "duration": 3.201,
        "text": "that needs to be done"
      },
      {
        "start": 33.84,
        "duration": 3.36,
        "text": "and both the udt tuple column and the"
      },
      {
        "start": 35.92,
        "duration": 3.28,
        "text": "fields within the column"
      },
      {
        "start": 37.2,
        "duration": 3.359,
        "text": "would be indexed as separate documents"
      },
      {
        "start": 39.2,
        "duration": 2.48,
        "text": "this is not something you really need to"
      },
      {
        "start": 40.559,
        "duration": 3.201,
        "text": "concern yourself with"
      },
      {
        "start": 41.68,
        "duration": 3.199,
        "text": "as dse will automatically map these"
      },
      {
        "start": 43.76,
        "duration": 3.04,
        "text": "documents together"
      },
      {
        "start": 44.879,
        "duration": 3.441,
        "text": "this includes the parent document which"
      },
      {
        "start": 46.8,
        "duration": 2.64,
        "text": "is the original column fields for a"
      },
      {
        "start": 48.32,
        "duration": 3.12,
        "text": "secure row"
      },
      {
        "start": 49.44,
        "duration": 4.08,
        "text": "and the child document which represents"
      },
      {
        "start": 51.44,
        "duration": 4.4,
        "text": "the fields that exist within a udt"
      },
      {
        "start": 53.52,
        "duration": 3.519,
        "text": "or tuple here is an example user defined"
      },
      {
        "start": 55.84,
        "duration": 2.64,
        "text": "type and table"
      },
      {
        "start": 57.039,
        "duration": 2.881,
        "text": "which we will be using to demonstrate"
      },
      {
        "start": 58.48,
        "duration": 2.079,
        "text": "how to define the table in the search"
      },
      {
        "start": 59.92,
        "duration": 2.72,
        "text": "schema"
      },
      {
        "start": 60.559,
        "duration": 4.0,
        "text": "and to execute searches with the"
      },
      {
        "start": 62.64,
        "duration": 4.08,
        "text": "user-defined type is called metadata"
      },
      {
        "start": 64.559,
        "duration": 4.24,
        "text": "and includes three fields there is also"
      },
      {
        "start": 66.72,
        "duration": 4.719,
        "text": "a tuple column in the table definition"
      },
      {
        "start": 68.799,
        "duration": 4.481,
        "text": "called duration and contains four fields"
      },
      {
        "start": 71.439,
        "duration": 3.921,
        "text": "when defining the search index schema to"
      },
      {
        "start": 73.28,
        "duration": 5.92,
        "text": "index a user-defined type or tuple"
      },
      {
        "start": 75.36,
        "duration": 3.84,
        "text": "it will need to use the field type class"
      },
      {
        "start": 82.2,
        "duration": 2.84,
        "text": "com.datastacks.bdp.search.solar.cor.types.tuplefield"
      },
      {
        "start": 83.439,
        "duration": 3.68,
        "text": "the column will need to be declared as a"
      },
      {
        "start": 85.04,
        "duration": 2.719,
        "text": "field and the individual fields within"
      },
      {
        "start": 87.119,
        "duration": 2.401,
        "text": "the column"
      },
      {
        "start": 87.759,
        "duration": 4.161,
        "text": "will also need to be declared separately"
      },
      {
        "start": 89.52,
        "duration": 3.52,
        "text": "as well using a dot notation format to"
      },
      {
        "start": 91.92,
        "duration": 3.199,
        "text": "denote the column name"
      },
      {
        "start": 93.04,
        "duration": 4.32,
        "text": "and field name if there are other nested"
      },
      {
        "start": 95.119,
        "duration": 2.881,
        "text": "fields then that will continue as column"
      },
      {
        "start": 97.36,
        "duration": 3.2,
        "text": "name dot"
      },
      {
        "start": 98.0,
        "duration": 3.119,
        "text": "field name one dot field name 2 and so"
      },
      {
        "start": 100.56,
        "duration": 2.48,
        "text": "forth"
      },
      {
        "start": 101.119,
        "duration": 3.28,
        "text": "the name that you used for the udt field"
      },
      {
        "start": 103.04,
        "duration": 3.439,
        "text": "should correspond with the name"
      },
      {
        "start": 104.399,
        "duration": 3.04,
        "text": "in the cql schema and in the case of the"
      },
      {
        "start": 106.479,
        "duration": 3.521,
        "text": "tuple type"
      },
      {
        "start": 107.439,
        "duration": 3.121,
        "text": "the name should be field 1 vo2 and so"
      },
      {
        "start": 110.0,
        "duration": 2.479,
        "text": "forth"
      },
      {
        "start": 110.56,
        "duration": 3.76,
        "text": "here is an example of a field decoration"
      },
      {
        "start": 112.479,
        "duration": 3.121,
        "text": "for both the user-defined type column"
      },
      {
        "start": 114.32,
        "duration": 2.88,
        "text": "and the tuple column"
      },
      {
        "start": 115.6,
        "duration": 3.44,
        "text": "again note that the column is declared"
      },
      {
        "start": 117.2,
        "duration": 3.199,
        "text": "as a field and then the individual"
      },
      {
        "start": 119.04,
        "duration": 2.0,
        "text": "fields within the column are also"
      },
      {
        "start": 120.399,
        "duration": 2.561,
        "text": "declared"
      },
      {
        "start": 121.04,
        "duration": 3.679,
        "text": "using the column name and the field name"
      },
      {
        "start": 122.96,
        "duration": 3.36,
        "text": "the field type for the fields within the"
      },
      {
        "start": 124.719,
        "duration": 2.241,
        "text": "column should also correspond with the"
      },
      {
        "start": 126.32,
        "duration": 2.96,
        "text": "data type"
      },
      {
        "start": 126.96,
        "duration": 3.76,
        "text": "from the cql schema when searching in a"
      },
      {
        "start": 129.28,
        "duration": 2.8,
        "text": "udt or tuple field"
      },
      {
        "start": 130.72,
        "duration": 3.76,
        "text": "you'll need to make use of the tuple"
      },
      {
        "start": 132.08,
        "duration": 3.92,
        "text": "parser so that dse knows how to search"
      },
      {
        "start": 134.48,
        "duration": 3.36,
        "text": "and the tuple parser can be used in a"
      },
      {
        "start": 136.0,
        "duration": 2.8,
        "text": "normal search query or in the queue or"
      },
      {
        "start": 137.84,
        "duration": 3.119,
        "text": "fq parameter"
      },
      {
        "start": 138.8,
        "duration": 3.84,
        "text": "for a json search query it is also"
      },
      {
        "start": 140.959,
        "duration": 3.28,
        "text": "possible to search in multiple fields"
      },
      {
        "start": 142.64,
        "duration": 3.36,
        "text": "within a udt or tuple"
      },
      {
        "start": 144.239,
        "duration": 3.761,
        "text": "as you can see in this first example"
      },
      {
        "start": 146.0,
        "duration": 4.16,
        "text": "even cooler is being able to search"
      },
      {
        "start": 148.0,
        "duration": 4.16,
        "text": "multiple udts or tuple columns"
      },
      {
        "start": 150.16,
        "duration": 3.68,
        "text": "within a search query note that there"
      },
      {
        "start": 152.16,
        "duration": 2.48,
        "text": "are some syntax requirements to get this"
      },
      {
        "start": 153.84,
        "duration": 2.399,
        "text": "to work though"
      },
      {
        "start": 154.64,
        "duration": 3.04,
        "text": "which includes using parentheses to"
      },
      {
        "start": 156.239,
        "duration": 3.201,
        "text": "group the search conditions together"
      },
      {
        "start": 157.68,
        "duration": 3.76,
        "text": "to add a tuple parser for each separate"
      },
      {
        "start": 159.44,
        "duration": 3.36,
        "text": "column and to avoid white space between"
      },
      {
        "start": 161.44,
        "duration": 2.24,
        "text": "the tuple parser and the search"
      },
      {
        "start": 162.8,
        "duration": 2.4,
        "text": "expression"
      },
      {
        "start": 163.68,
        "duration": 3.6,
        "text": "this final example demonstrates"
      },
      {
        "start": 165.2,
        "duration": 3.84,
        "text": "searching within a tuple column"
      },
      {
        "start": 167.28,
        "duration": 3.28,
        "text": "both search queries are the same but the"
      },
      {
        "start": 169.04,
        "duration": 2.16,
        "text": "first one is shown as a basic search"
      },
      {
        "start": 170.56,
        "duration": 8.88,
        "text": "query"
      },
      {
        "start": 171.2,
        "duration": 8.24,
        "text": "and the second as a json search query"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T00:10:47.727023+00:00"
}