{
  "video_id": "oK7yj2U2kEU",
  "title": "DS330.33 Understanding Bulking Optimization | DataStax Enterprise 6 Graph",
  "description": "#DataStaxAcademy #DS330\nDS330.33 Understanding Bulking Optimization\nIn this unit, we will be learning about bulking optimization. Bulking is the merging of multiple traversers into a single one.\n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-16T01:36:18Z",
  "thumbnail": "https://i.ytimg.com/vi/oK7yj2U2kEU/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "cassandra",
    "datastax",
    "tutorial",
    "apache_cassandra"
  ],
  "url": "https://www.youtube.com/watch?v=oK7yj2U2kEU",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] let's take some time to discuss a fun tinker pop gremlin concept called bulking so what is bulking and how does it work bulking is a built-in performance optimization that basically boils down to this if you have multiple identical traversers at the same point in the traversal then they can be merged into a single traverser that knows how many of itself it represents this can have a profound influence on the performance of your traversal in cases where you have a lot of duplicate traversers so don't worry if that didn't quite sink in yet this sort of thing tends to click when you have a picture so let's imagine that we have a traverser that is propagating through this lattice graph as you can see on the left these traversers start to build up as they propagate each of these traversers has a little memory footprint and needs to be processed individually at each step but the folks who built gremlin are smarter than that they recognize that rather than having duplicate traversers flowing through the system hogging up memory they could simply have one instance of the traverser that knows how many other traversers it represents and that's what we're going to see here the bottom right you see that there's a single traverser that actually represents 20 clones or copies or instances of itself now this all happens automatically under the hood so in most cases you don't need to worry about it you can simply sit back and enjoy the performance boost gremlin will identify traversers that can be bulked and do it on the fly gremlin will bulk traversers if they meet at an intersecting path and the path history is not used later in the traversal so if you remember from a previous section we discussed that path history can be quite expensive and this is partly why it prevents bulking here's a list of steps that should be avoided in order to realize the performance boost that bulking provides and you'll notice that each of these steps requires some path history in order to operate let's take a look at an example to see just how bulking can influence the performance characteristics of a given traversal these two traversals are very similar in that they both do a breath first traversal across the graph but the first reversal is saving the simple path history along the way which as we now know will prevent bulking here's some profile step data on each of these traversals the element counts for each are identical but look at the traverser count column wow in the last row you can see that the bulking traversal was able to capture all 20 of the remaining active traversers in just two actual traversers so even in a tiny little example like this you can see the impact that bulking can have on the memory and computation needed to complete our traversal and things continue to get more exciting as you scale this idea here we have a table that shows the traversal execution time for a non-bulking and bulking traversal the important thing to notice here is the relative difference between the last two columns this highlights the incredible performance boost you can achieve from bulking some closing thoughts as we covered earlier this all happens automatically the important thing to be aware of here is that bulking is happening under the hood this will help you reason about the performance of your traversals and also provides some understanding of why certain steps seem to introduce such a large performance hit while others perform so well that you're afraid it might be too good to be true",
    "segments": [
      {
        "start": 1.47,
        "duration": 5.31,
        "text": "[Music]"
      },
      {
        "start": 7.279,
        "duration": 3.36,
        "text": "let's take some time"
      },
      {
        "start": 8.4,
        "duration": 3.04,
        "text": "to discuss a fun tinker pop gremlin"
      },
      {
        "start": 10.639,
        "duration": 3.04,
        "text": "concept called"
      },
      {
        "start": 11.44,
        "duration": 3.68,
        "text": "bulking so what is bulking and how does"
      },
      {
        "start": 13.679,
        "duration": 2.961,
        "text": "it work"
      },
      {
        "start": 15.12,
        "duration": 3.44,
        "text": "bulking is a built-in performance"
      },
      {
        "start": 16.64,
        "duration": 2.719,
        "text": "optimization that basically boils down"
      },
      {
        "start": 18.56,
        "duration": 2.32,
        "text": "to this"
      },
      {
        "start": 19.359,
        "duration": 3.281,
        "text": "if you have multiple identical"
      },
      {
        "start": 20.88,
        "duration": 2.8,
        "text": "traversers at the same point in the"
      },
      {
        "start": 22.64,
        "duration": 2.879,
        "text": "traversal"
      },
      {
        "start": 23.68,
        "duration": 4.0,
        "text": "then they can be merged into a single"
      },
      {
        "start": 25.519,
        "duration": 3.121,
        "text": "traverser that knows how many of itself"
      },
      {
        "start": 27.68,
        "duration": 3.28,
        "text": "it represents"
      },
      {
        "start": 28.64,
        "duration": 3.84,
        "text": "this can have a profound influence on"
      },
      {
        "start": 30.96,
        "duration": 3.2,
        "text": "the performance of your traversal in"
      },
      {
        "start": 32.48,
        "duration": 4.32,
        "text": "cases where you have a lot of duplicate"
      },
      {
        "start": 34.16,
        "duration": 4.48,
        "text": "traversers"
      },
      {
        "start": 36.8,
        "duration": 3.279,
        "text": "so don't worry if that didn't quite sink"
      },
      {
        "start": 38.64,
        "duration": 3.439,
        "text": "in yet this sort of thing"
      },
      {
        "start": 40.079,
        "duration": 3.361,
        "text": "tends to click when you have a picture"
      },
      {
        "start": 42.079,
        "duration": 3.201,
        "text": "so let's imagine that we have a"
      },
      {
        "start": 43.44,
        "duration": 3.2,
        "text": "traverser that is propagating through"
      },
      {
        "start": 45.28,
        "duration": 3.04,
        "text": "this lattice graph"
      },
      {
        "start": 46.64,
        "duration": 3.439,
        "text": "as you can see on the left these"
      },
      {
        "start": 48.32,
        "duration": 3.04,
        "text": "traversers start to build up as they"
      },
      {
        "start": 50.079,
        "duration": 3.12,
        "text": "propagate"
      },
      {
        "start": 51.36,
        "duration": 3.44,
        "text": "each of these traversers has a little"
      },
      {
        "start": 53.199,
        "duration": 3.921,
        "text": "memory footprint and needs to be"
      },
      {
        "start": 54.8,
        "duration": 4.239,
        "text": "processed individually at each step"
      },
      {
        "start": 57.12,
        "duration": 3.119,
        "text": "but the folks who built gremlin are"
      },
      {
        "start": 59.039,
        "duration": 3.281,
        "text": "smarter than that"
      },
      {
        "start": 60.239,
        "duration": 3.681,
        "text": "they recognize that rather than having"
      },
      {
        "start": 62.32,
        "duration": 2.159,
        "text": "duplicate traversers flowing through the"
      },
      {
        "start": 63.92,
        "duration": 2.879,
        "text": "system"
      },
      {
        "start": 64.479,
        "duration": 3.921,
        "text": "hogging up memory they could simply have"
      },
      {
        "start": 66.799,
        "duration": 3.601,
        "text": "one instance of the traverser"
      },
      {
        "start": 68.4,
        "duration": 3.28,
        "text": "that knows how many other traversers it"
      },
      {
        "start": 70.4,
        "duration": 3.039,
        "text": "represents"
      },
      {
        "start": 71.68,
        "duration": 3.439,
        "text": "and that's what we're going to see here"
      },
      {
        "start": 73.439,
        "duration": 2.881,
        "text": "the bottom right you see that there's a"
      },
      {
        "start": 75.119,
        "duration": 3.921,
        "text": "single traverser"
      },
      {
        "start": 76.32,
        "duration": 5.439,
        "text": "that actually represents 20 clones or"
      },
      {
        "start": 79.04,
        "duration": 4.719,
        "text": "copies or instances of itself"
      },
      {
        "start": 81.759,
        "duration": 3.921,
        "text": "now this all happens automatically under"
      },
      {
        "start": 83.759,
        "duration": 3.201,
        "text": "the hood so in most cases you don't need"
      },
      {
        "start": 85.68,
        "duration": 3.119,
        "text": "to worry about it"
      },
      {
        "start": 86.96,
        "duration": 3.04,
        "text": "you can simply sit back and enjoy the"
      },
      {
        "start": 88.799,
        "duration": 3.201,
        "text": "performance boost"
      },
      {
        "start": 90.0,
        "duration": 4.4,
        "text": "gremlin will identify traversers that"
      },
      {
        "start": 92.0,
        "duration": 4.56,
        "text": "can be bulked and do it on the fly"
      },
      {
        "start": 94.4,
        "duration": 4.0,
        "text": "gremlin will bulk traversers if they"
      },
      {
        "start": 96.56,
        "duration": 3.76,
        "text": "meet at an intersecting path and the"
      },
      {
        "start": 98.4,
        "duration": 3.2,
        "text": "path history is not used later in the"
      },
      {
        "start": 100.32,
        "duration": 2.72,
        "text": "traversal"
      },
      {
        "start": 101.6,
        "duration": 3.12,
        "text": "so if you remember from a previous"
      },
      {
        "start": 103.04,
        "duration": 3.119,
        "text": "section we discussed that path history"
      },
      {
        "start": 104.72,
        "duration": 3.6,
        "text": "can be quite expensive"
      },
      {
        "start": 106.159,
        "duration": 3.361,
        "text": "and this is partly why it prevents"
      },
      {
        "start": 108.32,
        "duration": 2.799,
        "text": "bulking"
      },
      {
        "start": 109.52,
        "duration": 3.279,
        "text": "here's a list of steps that should be"
      },
      {
        "start": 111.119,
        "duration": 4.32,
        "text": "avoided in order to realize the"
      },
      {
        "start": 112.799,
        "duration": 4.081,
        "text": "performance boost that bulking provides"
      },
      {
        "start": 115.439,
        "duration": 3.521,
        "text": "and you'll notice that each of these"
      },
      {
        "start": 116.88,
        "duration": 4.8,
        "text": "steps requires some path history in"
      },
      {
        "start": 118.96,
        "duration": 2.72,
        "text": "order to operate"
      },
      {
        "start": 122.799,
        "duration": 3.441,
        "text": "let's take a look at an example to see"
      },
      {
        "start": 124.56,
        "duration": 3.28,
        "text": "just how bulking can influence the"
      },
      {
        "start": 126.24,
        "duration": 2.879,
        "text": "performance characteristics of a given"
      },
      {
        "start": 127.84,
        "duration": 3.68,
        "text": "traversal"
      },
      {
        "start": 129.119,
        "duration": 4.001,
        "text": "these two traversals are very similar in"
      },
      {
        "start": 131.52,
        "duration": 2.24,
        "text": "that they both do a breath first"
      },
      {
        "start": 133.12,
        "duration": 3.36,
        "text": "traversal"
      },
      {
        "start": 133.76,
        "duration": 4.559,
        "text": "across the graph but the first reversal"
      },
      {
        "start": 136.48,
        "duration": 2.32,
        "text": "is saving the simple path history along"
      },
      {
        "start": 138.319,
        "duration": 2.521,
        "text": "the way"
      },
      {
        "start": 138.8,
        "duration": 4.159,
        "text": "which as we now know will prevent"
      },
      {
        "start": 140.84,
        "duration": 4.28,
        "text": "bulking"
      },
      {
        "start": 142.959,
        "duration": 3.601,
        "text": "here's some profile step data on each of"
      },
      {
        "start": 145.12,
        "duration": 2.8,
        "text": "these traversals"
      },
      {
        "start": 146.56,
        "duration": 3.2,
        "text": "the element counts for each are"
      },
      {
        "start": 147.92,
        "duration": 2.64,
        "text": "identical but look at the traverser"
      },
      {
        "start": 149.76,
        "duration": 3.68,
        "text": "count column"
      },
      {
        "start": 150.56,
        "duration": 4.16,
        "text": "wow in the last row you can see that the"
      },
      {
        "start": 153.44,
        "duration": 3.28,
        "text": "bulking traversal"
      },
      {
        "start": 154.72,
        "duration": 4.0,
        "text": "was able to capture all 20 of the"
      },
      {
        "start": 156.72,
        "duration": 5.36,
        "text": "remaining active traversers"
      },
      {
        "start": 158.72,
        "duration": 5.2,
        "text": "in just two actual traversers so even in"
      },
      {
        "start": 162.08,
        "duration": 3.68,
        "text": "a tiny little example like this"
      },
      {
        "start": 163.92,
        "duration": 3.76,
        "text": "you can see the impact that bulking can"
      },
      {
        "start": 165.76,
        "duration": 5.04,
        "text": "have on the memory and computation"
      },
      {
        "start": 167.68,
        "duration": 5.04,
        "text": "needed to complete our traversal"
      },
      {
        "start": 170.8,
        "duration": 4.4,
        "text": "and things continue to get more exciting"
      },
      {
        "start": 172.72,
        "duration": 4.08,
        "text": "as you scale this idea"
      },
      {
        "start": 175.2,
        "duration": 3.44,
        "text": "here we have a table that shows the"
      },
      {
        "start": 176.8,
        "duration": 2.799,
        "text": "traversal execution time for a"
      },
      {
        "start": 178.64,
        "duration": 3.04,
        "text": "non-bulking"
      },
      {
        "start": 179.599,
        "duration": 3.201,
        "text": "and bulking traversal the important"
      },
      {
        "start": 181.68,
        "duration": 2.88,
        "text": "thing to notice here"
      },
      {
        "start": 182.8,
        "duration": 3.12,
        "text": "is the relative difference between the"
      },
      {
        "start": 184.56,
        "duration": 2.88,
        "text": "last two columns"
      },
      {
        "start": 185.92,
        "duration": 3.2,
        "text": "this highlights the incredible"
      },
      {
        "start": 187.44,
        "duration": 2.879,
        "text": "performance boost you can achieve from"
      },
      {
        "start": 189.12,
        "duration": 3.36,
        "text": "bulking"
      },
      {
        "start": 190.319,
        "duration": 4.801,
        "text": "some closing thoughts as we covered"
      },
      {
        "start": 192.48,
        "duration": 4.399,
        "text": "earlier this all happens automatically"
      },
      {
        "start": 195.12,
        "duration": 3.52,
        "text": "the important thing to be aware of here"
      },
      {
        "start": 196.879,
        "duration": 2.481,
        "text": "is that bulking is happening under the"
      },
      {
        "start": 198.64,
        "duration": 2.239,
        "text": "hood"
      },
      {
        "start": 199.36,
        "duration": 3.12,
        "text": "this will help you reason about the"
      },
      {
        "start": 200.879,
        "duration": 3.521,
        "text": "performance of your traversals"
      },
      {
        "start": 202.48,
        "duration": 3.92,
        "text": "and also provides some understanding of"
      },
      {
        "start": 204.4,
        "duration": 3.44,
        "text": "why certain steps seem to introduce such"
      },
      {
        "start": 206.4,
        "duration": 3.36,
        "text": "a large performance hit"
      },
      {
        "start": 207.84,
        "duration": 6.0,
        "text": "while others perform so well that you're"
      },
      {
        "start": 209.76,
        "duration": 4.08,
        "text": "afraid it might be too good to be true"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-15T22:24:23.514242+00:00"
}