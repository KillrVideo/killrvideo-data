{
  "video_id": "rdmJErBLxtE",
  "title": "Connect Temporal.io to Astra DB",
  "description": "In this video, Melissa Herrera shows you how to configure Temporal with Astra DB, built on Apache Cassandra.  Follow along in her blog if you prefer!\nhttps://www.datastax.com/blog/how-to-connect-temporal-io-to-astra-db-in-just-5-easy-steps\n\nLong-running tasks (workflows) are a great fit for serverless databases, as are most “bursty” workloads that give infrastructure a chance to scale down (incurring no further usage costs until the next request).\nTemporal Requires a database, and Astra DB, built on Apache Cassandra, offers Temporal users:\n- Managed service simplicity\n- Serverless pricing and autoscaling\n- Secondary indexes (SAI)\n- Global, multi-region active/active deployment\n- Deployment to all major cloud providers\n\nLearn more about Temporal, Cassandra and Astra DB\nhttps://www.datastax.com/blog/easily-manage-workflows-at-scale-with-temporal-io-and-astra-db\n\nHow to Connect Temporal.io to Astra DB with Kubernetes\nhttps://www.datastax.com/blog/how-to-connect-temporal-io-to-astra-db-with-kubernetes\n\nRegister for Astra DB here: https://dtsx.io/3rPbydd\n\nCONNECT WITH DATASTAX\nSubscribe: http://www.youtube.com/c/datastaxdevs?sub_confirmation=1 \nTwitter: https://twitter.com/datastaxdevs\nTwitch: https://www.twitch.tv/datastaxdevs\n\nAbout DataStax:\nDataStax is the company behind the massively scalable, highly available, cloud-native NoSQL data platform built on Apache Cassandra™. DataStax gives developers and enterprises the freedom to run data in any cloud, Kubernetes, hybrid or bare metal at global scale with zero downtime and zero lock-in. More than 450 of the world’s leading enterprises including Capital One, Cisco, Comcast, Delta Airlines, Macy’s, McDonald’s, Safeway, Sony, and Walmart use DataStax to build transformational data architectures for real-world outcomes. For more, visit DataStax.com and @DataStax.\n\nAbout DataStax Developer:\nOn the DataStax Developers YouTube channel, you can find tutorials, workshops and much more to help you learn and stay updated with the",
  "published_at": "2022-08-29T18:25:20Z",
  "thumbnail": "https://i.ytimg.com/vi/rdmJErBLxtE/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "scalable",
    "workshop",
    "cassandra",
    "database",
    "apache_cassandra",
    "tutorial",
    "nosql",
    "astra",
    "architecture",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=rdmJErBLxtE",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] today i will show you how to connect astra db with temporal open source the steps of this tutorial are following an article already posted on our data stacks blog so feel free to follow along as a prerequisite for this tutorial you'll want to make sure you have an astra database already created you can use the videos on this youtube channel to show you how once your database is created you need to create two key spaces one named temporal and the other named temporal visibility once you refresh your screen you should see both key spaces visible on your dashboard once again the name of these key spaces should be temporal and temporal visibility great once you've created the two key spaces navigate to the left side of your screen and click organization settings we want to create an application token with admin user credentials once you hit generate you will see an option to download token details this will download a csv file of all the credentials you will need most specifically your token next go ahead and navigate back to your dashboard and get your database id this database id is unique to each database you create the next step is to navigate to temporal cql proxy github repo this repo allows for quick and easy setup and includes all the scripts needed once you clone the repo you can open this in your local directory using your terminal or command line from here you want to update your environment variables by opening up the dot env file copy and paste the token and database id that we retrieved earlier replacing the update me once you've done that go ahead and save the file and navigate back into your terminal next is the most important part of the setup we are going to migrate the temporal schemas into our astra database assuming you already have docker desktop installed into your local computer submitting these scripts will allow temporal to communicate with astra you should be able to find these scripts under step 3 in our data stacks article astra uses cql proxy which is a side card designed to forward your application cql traffic to an appropriate database service in this case it is doing that with temporal open source do notice that there are two sets of schema migration scripts you have to submit one set is for the temporal key space and the other is for the temporal visibility key spaces we previously created after a couple minutes you should see a success message to confirm that the schemas have migrated successfully navigate to the cql console in the astra db ui switch to the temporal key space using use temporal then run describe tables to see all the tables that are now in the temporal key space once you've confirmed that all of these tables have appeared you can run the same query for temporal visibility as well use use temporal visibility to switch to that key space and also describe tables to see the following tables appear great you've confirmed that the temporal schema migration has ran successfully now for the fun part we are going to go back into our terminal to go ahead and run docker compose up once again make sure you have docker compose installed in your local computer this command runs the temporal startup script using the configurations we need to communicate with astrodb this entire process takes a couple of minutes as well we should know everything is successful after we see this table appear now we can go into our temporal ui at localhost 8088 to confirm that everything is working properly if you see this screen congrats you got it to work now we can test out some sample code in the temporal repo itself you can scroll down to run the samples you have the option to choose between go or java in this example i will be using the go examples i will be running the hello world sample located in the samples go repo before running our sample code we must go back into the starter and worker code to change one line of the file in this case it's this client line we need to make sure that it's communicating with the namespace that is given by default temporal luckily creates a namespace for you called default once you have made that slight change in the starter and worker code go ahead and navigate to the samples good directory in your terminal run the starter code for the hello world sample that you can find in the temporal repo if you see hello temporal great the workflow went through we can double check this in our temporal ui refresh your screen and you should be able to see your workflow appeared super cool right we can also click into the run id to receive more information about the workflow that you submitted lastly where does astra play a part in this the information about the workflow that you just submitted should also reflect in our astra ui use this query replacing it with your information to check if the workflow has reflected in the executions table note that it is not recommended to use allow filtering in this case we are only using it to test once you submit this query you should receive some results back along with the workflow id that was just submitted seeing this data appear in the cql console of our astra ui tells us that the temporal ui is communicating properly with astra",
    "segments": [
      {
        "start": 0.13,
        "duration": 5.03,
        "text": "[Music]"
      },
      {
        "start": 5.6,
        "duration": 4.24,
        "text": "today i will show you how to connect"
      },
      {
        "start": 7.12,
        "duration": 4.72,
        "text": "astra db with temporal open source"
      },
      {
        "start": 9.84,
        "duration": 3.839,
        "text": "the steps of this tutorial are following"
      },
      {
        "start": 11.84,
        "duration": 4.24,
        "text": "an article already posted on our data"
      },
      {
        "start": 13.679,
        "duration": 4.321,
        "text": "stacks blog so feel free to follow along"
      },
      {
        "start": 16.08,
        "duration": 3.199,
        "text": "as a prerequisite for this tutorial"
      },
      {
        "start": 18.0,
        "duration": 3.6,
        "text": "you'll want to make sure you have an"
      },
      {
        "start": 19.279,
        "duration": 3.84,
        "text": "astra database already created you can"
      },
      {
        "start": 21.6,
        "duration": 3.04,
        "text": "use the videos on this youtube channel"
      },
      {
        "start": 23.119,
        "duration": 3.681,
        "text": "to show you how"
      },
      {
        "start": 24.64,
        "duration": 4.479,
        "text": "once your database is created you need"
      },
      {
        "start": 26.8,
        "duration": 4.239,
        "text": "to create two key spaces one named"
      },
      {
        "start": 29.119,
        "duration": 3.12,
        "text": "temporal and the other named temporal"
      },
      {
        "start": 31.039,
        "duration": 3.121,
        "text": "visibility"
      },
      {
        "start": 32.239,
        "duration": 3.681,
        "text": "once you refresh your screen you should"
      },
      {
        "start": 34.16,
        "duration": 2.96,
        "text": "see both key spaces visible on your"
      },
      {
        "start": 35.92,
        "duration": 2.959,
        "text": "dashboard"
      },
      {
        "start": 37.12,
        "duration": 3.2,
        "text": "once again the name of these key spaces"
      },
      {
        "start": 38.879,
        "duration": 2.881,
        "text": "should be temporal and temporal"
      },
      {
        "start": 40.32,
        "duration": 3.28,
        "text": "visibility"
      },
      {
        "start": 41.76,
        "duration": 3.76,
        "text": "great once you've created the two key"
      },
      {
        "start": 43.6,
        "duration": 4.16,
        "text": "spaces navigate to the left side of your"
      },
      {
        "start": 45.52,
        "duration": 3.92,
        "text": "screen and click organization settings"
      },
      {
        "start": 47.76,
        "duration": 3.76,
        "text": "we want to create an application token"
      },
      {
        "start": 49.44,
        "duration": 4.08,
        "text": "with admin user credentials"
      },
      {
        "start": 51.52,
        "duration": 4.16,
        "text": "once you hit generate you will see an"
      },
      {
        "start": 53.52,
        "duration": 4.24,
        "text": "option to download token details"
      },
      {
        "start": 55.68,
        "duration": 3.679,
        "text": "this will download a csv file of all the"
      },
      {
        "start": 57.76,
        "duration": 3.52,
        "text": "credentials you will need most"
      },
      {
        "start": 59.359,
        "duration": 3.601,
        "text": "specifically your token"
      },
      {
        "start": 61.28,
        "duration": 4.159,
        "text": "next go ahead and navigate back to your"
      },
      {
        "start": 62.96,
        "duration": 4.8,
        "text": "dashboard and get your database id this"
      },
      {
        "start": 65.439,
        "duration": 4.72,
        "text": "database id is unique to each database"
      },
      {
        "start": 67.76,
        "duration": 5.76,
        "text": "you create the next step is to navigate"
      },
      {
        "start": 70.159,
        "duration": 5.28,
        "text": "to temporal cql proxy github repo"
      },
      {
        "start": 73.52,
        "duration": 3.44,
        "text": "this repo allows for quick and easy"
      },
      {
        "start": 75.439,
        "duration": 3.601,
        "text": "setup and includes all the scripts"
      },
      {
        "start": 76.96,
        "duration": 4.159,
        "text": "needed once you clone the repo you can"
      },
      {
        "start": 79.04,
        "duration": 4.32,
        "text": "open this in your local directory using"
      },
      {
        "start": 81.119,
        "duration": 3.841,
        "text": "your terminal or command line from here"
      },
      {
        "start": 83.36,
        "duration": 4.56,
        "text": "you want to update your environment"
      },
      {
        "start": 84.96,
        "duration": 5.44,
        "text": "variables by opening up the dot env file"
      },
      {
        "start": 87.92,
        "duration": 4.32,
        "text": "copy and paste the token and database id"
      },
      {
        "start": 90.4,
        "duration": 3.039,
        "text": "that we retrieved earlier replacing the"
      },
      {
        "start": 92.24,
        "duration": 2.8,
        "text": "update me"
      },
      {
        "start": 93.439,
        "duration": 3.36,
        "text": "once you've done that go ahead and save"
      },
      {
        "start": 95.04,
        "duration": 2.96,
        "text": "the file and navigate back into your"
      },
      {
        "start": 96.799,
        "duration": 3.041,
        "text": "terminal"
      },
      {
        "start": 98.0,
        "duration": 3.439,
        "text": "next is the most important part of the"
      },
      {
        "start": 99.84,
        "duration": 3.919,
        "text": "setup we are going to migrate the"
      },
      {
        "start": 101.439,
        "duration": 4.401,
        "text": "temporal schemas into our astra database"
      },
      {
        "start": 103.759,
        "duration": 3.921,
        "text": "assuming you already have docker desktop"
      },
      {
        "start": 105.84,
        "duration": 3.279,
        "text": "installed into your local computer"
      },
      {
        "start": 107.68,
        "duration": 3.6,
        "text": "submitting these scripts will allow"
      },
      {
        "start": 109.119,
        "duration": 3.601,
        "text": "temporal to communicate with astra you"
      },
      {
        "start": 111.28,
        "duration": 4.0,
        "text": "should be able to find these scripts"
      },
      {
        "start": 112.72,
        "duration": 5.12,
        "text": "under step 3 in our data stacks article"
      },
      {
        "start": 115.28,
        "duration": 3.76,
        "text": "astra uses cql proxy which is a side"
      },
      {
        "start": 117.84,
        "duration": 2.879,
        "text": "card designed to forward your"
      },
      {
        "start": 119.04,
        "duration": 3.84,
        "text": "application cql traffic to an"
      },
      {
        "start": 120.719,
        "duration": 3.921,
        "text": "appropriate database service in this"
      },
      {
        "start": 122.88,
        "duration": 4.239,
        "text": "case it is doing that with temporal open"
      },
      {
        "start": 124.64,
        "duration": 4.399,
        "text": "source do notice that there are two sets"
      },
      {
        "start": 127.119,
        "duration": 4.241,
        "text": "of schema migration scripts you have to"
      },
      {
        "start": 129.039,
        "duration": 4.001,
        "text": "submit one set is for the temporal key"
      },
      {
        "start": 131.36,
        "duration": 3.599,
        "text": "space and the other is for the temporal"
      },
      {
        "start": 133.04,
        "duration": 3.839,
        "text": "visibility key spaces we previously"
      },
      {
        "start": 134.959,
        "duration": 3.681,
        "text": "created after a couple minutes you"
      },
      {
        "start": 136.879,
        "duration": 3.281,
        "text": "should see a success message"
      },
      {
        "start": 138.64,
        "duration": 3.52,
        "text": "to confirm that the schemas have"
      },
      {
        "start": 140.16,
        "duration": 5.92,
        "text": "migrated successfully navigate to the"
      },
      {
        "start": 142.16,
        "duration": 6.48,
        "text": "cql console in the astra db ui"
      },
      {
        "start": 146.08,
        "duration": 4.08,
        "text": "switch to the temporal key space using"
      },
      {
        "start": 148.64,
        "duration": 3.679,
        "text": "use temporal"
      },
      {
        "start": 150.16,
        "duration": 4.0,
        "text": "then run describe tables to see all the"
      },
      {
        "start": 152.319,
        "duration": 2.961,
        "text": "tables that are now in the temporal key"
      },
      {
        "start": 154.16,
        "duration": 2.64,
        "text": "space"
      },
      {
        "start": 155.28,
        "duration": 3.12,
        "text": "once you've confirmed that all of these"
      },
      {
        "start": 156.8,
        "duration": 3.6,
        "text": "tables have appeared you can run the"
      },
      {
        "start": 158.4,
        "duration": 2.8,
        "text": "same query for temporal visibility as"
      },
      {
        "start": 160.4,
        "duration": 3.36,
        "text": "well"
      },
      {
        "start": 161.2,
        "duration": 5.52,
        "text": "use use temporal visibility to switch to"
      },
      {
        "start": 163.76,
        "duration": 5.839,
        "text": "that key space and also describe tables"
      },
      {
        "start": 166.72,
        "duration": 4.72,
        "text": "to see the following tables appear"
      },
      {
        "start": 169.599,
        "duration": 4.401,
        "text": "great you've confirmed that the temporal"
      },
      {
        "start": 171.44,
        "duration": 4.64,
        "text": "schema migration has ran successfully"
      },
      {
        "start": 174.0,
        "duration": 4.159,
        "text": "now for the fun part we are going to go"
      },
      {
        "start": 176.08,
        "duration": 4.64,
        "text": "back into our terminal to go ahead and"
      },
      {
        "start": 178.159,
        "duration": 4.241,
        "text": "run docker compose up once again make"
      },
      {
        "start": 180.72,
        "duration": 4.32,
        "text": "sure you have docker compose installed"
      },
      {
        "start": 182.4,
        "duration": 4.32,
        "text": "in your local computer this command runs"
      },
      {
        "start": 185.04,
        "duration": 3.36,
        "text": "the temporal startup script using the"
      },
      {
        "start": 186.72,
        "duration": 3.2,
        "text": "configurations we need to communicate"
      },
      {
        "start": 188.4,
        "duration": 3.28,
        "text": "with astrodb"
      },
      {
        "start": 189.92,
        "duration": 3.52,
        "text": "this entire process takes a couple of"
      },
      {
        "start": 191.68,
        "duration": 3.68,
        "text": "minutes as well we should know"
      },
      {
        "start": 193.44,
        "duration": 3.6,
        "text": "everything is successful after we see"
      },
      {
        "start": 195.36,
        "duration": 4.08,
        "text": "this table appear"
      },
      {
        "start": 197.04,
        "duration": 4.72,
        "text": "now we can go into our temporal ui at"
      },
      {
        "start": 199.44,
        "duration": 4.079,
        "text": "localhost 8088 to confirm that"
      },
      {
        "start": 201.76,
        "duration": 4.0,
        "text": "everything is working properly if you"
      },
      {
        "start": 203.519,
        "duration": 4.481,
        "text": "see this screen congrats you got it to"
      },
      {
        "start": 205.76,
        "duration": 3.199,
        "text": "work now we can test out some sample"
      },
      {
        "start": 208.0,
        "duration": 2.959,
        "text": "code"
      },
      {
        "start": 208.959,
        "duration": 4.321,
        "text": "in the temporal repo itself you can"
      },
      {
        "start": 210.959,
        "duration": 4.64,
        "text": "scroll down to run the samples you have"
      },
      {
        "start": 213.28,
        "duration": 4.4,
        "text": "the option to choose between go or java"
      },
      {
        "start": 215.599,
        "duration": 3.92,
        "text": "in this example i will be using the go"
      },
      {
        "start": 217.68,
        "duration": 4.16,
        "text": "examples i will be running the hello"
      },
      {
        "start": 219.519,
        "duration": 3.36,
        "text": "world sample located in the samples go"
      },
      {
        "start": 221.84,
        "duration": 3.2,
        "text": "repo"
      },
      {
        "start": 222.879,
        "duration": 4.161,
        "text": "before running our sample code we must"
      },
      {
        "start": 225.04,
        "duration": 4.24,
        "text": "go back into the starter and worker code"
      },
      {
        "start": 227.04,
        "duration": 4.479,
        "text": "to change one line of the file in this"
      },
      {
        "start": 229.28,
        "duration": 3.599,
        "text": "case it's this client line we need to"
      },
      {
        "start": 231.519,
        "duration": 3.92,
        "text": "make sure that it's communicating with"
      },
      {
        "start": 232.879,
        "duration": 4.56,
        "text": "the namespace that is given by default"
      },
      {
        "start": 235.439,
        "duration": 4.08,
        "text": "temporal luckily creates a namespace for"
      },
      {
        "start": 237.439,
        "duration": 3.52,
        "text": "you called default once you have made"
      },
      {
        "start": 239.519,
        "duration": 3.44,
        "text": "that slight change in the starter and"
      },
      {
        "start": 240.959,
        "duration": 4.161,
        "text": "worker code go ahead and navigate to the"
      },
      {
        "start": 242.959,
        "duration": 4.081,
        "text": "samples good directory in your terminal"
      },
      {
        "start": 245.12,
        "duration": 3.52,
        "text": "run the starter code for the hello world"
      },
      {
        "start": 247.04,
        "duration": 4.08,
        "text": "sample that you can find in the temporal"
      },
      {
        "start": 248.64,
        "duration": 4.319,
        "text": "repo if you see hello temporal great the"
      },
      {
        "start": 251.12,
        "duration": 4.16,
        "text": "workflow went through we can double"
      },
      {
        "start": 252.959,
        "duration": 3.921,
        "text": "check this in our temporal ui"
      },
      {
        "start": 255.28,
        "duration": 3.6,
        "text": "refresh your screen and you should be"
      },
      {
        "start": 256.88,
        "duration": 4.0,
        "text": "able to see your workflow appeared super"
      },
      {
        "start": 258.88,
        "duration": 4.0,
        "text": "cool right we can also click into the"
      },
      {
        "start": 260.88,
        "duration": 4.24,
        "text": "run id to receive more information about"
      },
      {
        "start": 262.88,
        "duration": 4.319,
        "text": "the workflow that you submitted lastly"
      },
      {
        "start": 265.12,
        "duration": 3.6,
        "text": "where does astra play a part in this the"
      },
      {
        "start": 267.199,
        "duration": 3.201,
        "text": "information about the workflow that you"
      },
      {
        "start": 268.72,
        "duration": 4.16,
        "text": "just submitted should also reflect in"
      },
      {
        "start": 270.4,
        "duration": 4.32,
        "text": "our astra ui use this query replacing it"
      },
      {
        "start": 272.88,
        "duration": 3.84,
        "text": "with your information to check if the"
      },
      {
        "start": 274.72,
        "duration": 4.16,
        "text": "workflow has reflected in the executions"
      },
      {
        "start": 276.72,
        "duration": 3.919,
        "text": "table note that it is not recommended to"
      },
      {
        "start": 278.88,
        "duration": 3.52,
        "text": "use allow filtering in this case we are"
      },
      {
        "start": 280.639,
        "duration": 3.361,
        "text": "only using it to test"
      },
      {
        "start": 282.4,
        "duration": 3.28,
        "text": "once you submit this query you should"
      },
      {
        "start": 284.0,
        "duration": 3.919,
        "text": "receive some results back along with the"
      },
      {
        "start": 285.68,
        "duration": 4.239,
        "text": "workflow id that was just submitted"
      },
      {
        "start": 287.919,
        "duration": 4.081,
        "text": "seeing this data appear in the cql"
      },
      {
        "start": 289.919,
        "duration": 3.761,
        "text": "console of our astra ui tells us that"
      },
      {
        "start": 292.0,
        "duration": 5.32,
        "text": "the temporal ui is communicating"
      },
      {
        "start": 293.68,
        "duration": 3.64,
        "text": "properly with astra"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-15T18:43:09.766113+00:00"
}