{
  "video_id": "nFcMgJiWDDI",
  "title": "DS330.24 Declarative Traversals | DataStax Enterprise 6 Graph",
  "description": "#DataStaxAcademy #DS330\nDS330.24 Declarative Traversals\nGremlin declarative traversals are graph pattern matching traversals. They specify a graph pattern that should be matched against a graph. In this unit, you will learn about declarative traversals.\n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-16T01:34:39Z",
  "thumbnail": "https://i.ytimg.com/vi/nFcMgJiWDDI/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "cassandra",
    "datastax",
    "tutorial",
    "apache_cassandra"
  ],
  "url": "https://www.youtube.com/watch?v=nFcMgJiWDDI",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] hey everyone my name is denise gosnell and this is declarative traversals now declarative traversals require you to think differently instead of trying to instruct a traverser on how to compute a result we declare how the result should look and we let the traverser just find a solution gremlin declarative traversals are graph pattern matching traversals they specify a graph pattern that should be matched against a graph so let's visualize this a gremlin outside of the graph is thinking of the triangular pattern of those three vertices that you see in the diagram that is a pattern we will define with the gremlin language and the actual traversers in the graph will be looking to find that pattern the gremlin outside of the graph is thinking of the triangular pattern of those three vertices you see in the diagram that is a pattern we will define with the gremlin language and the actual traversers in the graph we'll be looking to find that pattern as with any programming language a declarative approach describes an outcome that we want a thing that we want to happen it doesn't give us the steps or how to get there in other words declarative traversals focus on what to compute rather than how to compute it for declarative traversals we only need to introduce one new step it is the match step and it has three different forms that we can use it in in all three cases we provide the patterns we would like to match in the first case we provide named variables at the beginning and at the end of the traversal in the second case we only provide a named variable at the beginning of the traversal and in the last case there are no declared variables notice that declarative traversals use the as step modulator to declare variables that have to be bound to some values in the solution we used the as step previously with projecting traversals to define step labels but in declarative traversals the terminology is different we say in declarative traversals that the as step creates variables instead of step labels let's take a look at some examples a reminder is always of our killer video movie schema users know other users users rate movies and movies belong to genres we also have people who acted directed composed or other types of participation in the movies let us start with the same example from the projecting traversals video directors who appear in their own movies we have solved this before but we're going to solve this same query with a pattern matching traversal we're going to provide two different patterns each pattern starts with a gremlin anonymous traversal we're going to specify the pattern after that also notice that we are going to use the first of the three pattern forms where we have a declared variable at the beginning and at the end of the declared pattern in this traversal we are going to provide two different patterns each pattern starts with a gremlin anonymous traversal the double underscore we're going to specify the pattern after that also notice in this example that we are using the first of the three pattern forms where we have a declared variable at the beginning and at the end of the declared pattern how we are using those declared variables is one of the most important pieces in this example looking at each of the patterns we are using the same variables m and p when we use the same name for a declared variable that will bind to the same value so we are defining two patterns but they will apply to the same movies and the same people so in this traversal the first pattern in the match statement is going to look for some movie with an outgoing actor edge to some person this finds actors in some movie the second pattern in our match step is going to look for an outgoing director edge to a person but because we use m and p and they're the same declared variables in both patterns they're going to be constrained to be the same movies and the same people in other words were constrained to directors who acted in their own movies once we've done this match step we're going to select the people remove their duplicates and randomly sample three and for the movie buffs out there we found hopefully three expected results clint eastwood charles chaplin and quentin tarantino before we move on there's two things to note about the match step before going to the next example first the database engine can evaluate traversal patterns in any order to compute the same result so if your application requires deterministic results you'll need to apply an order to the result stream secondly and you may have already noticed at the end of this traversal the select and the buy steps are used just like in projecting traversals to return the desired information in this next example let's look for directors who have appeared in their own western movies we will follow the same process as before but this time we will need to bring in the genre vertices we are going to follow the same style of match again by using declarative variables at the beginning and at the end of each pattern and we're also again going to use the same variable names as we did in the previous example now we're going to follow the same patterns as before that we saw in the previous example but in this one we need to add a third pattern we're going to start by finding the actors and finding the directors as we did previously but next we need to add a pattern to make sure that the movies we're identifying belong to the western genre and that's what you see here with the third pattern in this match statement we're identifying that the movies belong to a specific genre with the name of western we're going to go ahead and select p by their names and to dupe them and take a sample of three and we find clint eastwood john wayne and quentin tarantino adding on to this example let's add just a little bit more complexity but this time we're going to introduce a new pattern with the not step we're going to look for directors who acted in their own movies again but this time they're gonna be comedies and we're gonna add one more constraint we want that those actors and directors have never participated in any movie that has an average rating of less than eight as you can see in this traversal we start off the same we have m which has an outgoing actor edge to p m also has an outgoing director edge to p so following these two patterns these are the directors who have acted in their own films as we've seen before next m has a belongs to edge whose name is comedy so this means that the movie belongs to the comedy genre on the next line we begin with the not step so we're going to negate what we're about to traverse but first we have to compute the average rating for the movie this time we want to consider any movie the actor or director has participated in so we start from p and we go to any movie via all of the different in edges next we want to compute the movie's average rating this introduces the need for the local step we have to use local here so that we calculate the average for that movie instead of the average ratings for all movies from here we have four remaining steps first we walk out the ratings edge next we access the ratings values by calling values rating third we use the mean step to calculate the average and lastly we only want that traverser to pass if the average rating for the movie is less than eight now remember that is all inside of not so we're going to negate this part of the pattern matching step so with this final pattern we're limiting the results to only those directors who appeared in their own comedy movies and have never participated in any movie that has an average rating of less than eight so let's take a look at these newly introduced gremlin steps the not step passes an incoming traverser onto the next step only if the internal traversal yields no results the and step passes an incoming traverser onto the next step if every internal traversal yields a result the or step passes an incoming traverser on to the next step if at least one internal traversal yields a result these steps while frequently used with declarative traversals are not limited to just this match step they can be used with imperative traversals as well let's put these to practice and consider another example in a little bit of a different style this time we're gonna find actors who appeared in 10 or more movies and they acted in the matrix or die hard and the actor's name is not alan rickman using the match step we will break that down into separate patterns this example demonstrates the use of and or and the not steps so to do this let's break it down into each segment in this first pattern we're going to look for all actors who acted in 10 or more movies the next pattern we want to find those actors from the matrix or die hard but not alan rickman to do this we need to build up a series of or statements inside of the ore step the first statement we want to evaluate is if an actor has been in the matrix to do that we want to traverse from people going through the actor edge and only consider movies named the matrix we want that statement to be true or we want to find people from the movie die hard which is what we're introducing with this next pattern in this next pattern we want to consider those actors from the movie die hard and if they did not have the name alan rickman for the second pattern we need to build up a series of or statements for the first statement we want to only consider actors who have been in the movie the matrix and that's the first section of this traversal that you see on the next line you see that we only want to now consider the actors who have been in the movie die hard but we also want to limit those to the actors who are not alan rickman which is what you see on the following line we're going to select the actors by their name and we see here that we have bruce willis and keanu reeves in our last example we're going to mix declarative and imperative traversals we want to find directors who directed five or more adventure movies and then we want to find adventure movies rated eight or higher in the first match step we're looking for the directors that directed five or more adventured movies then after we select those directors we're going to add in an imperative traversal to get us back to the movie vertices from those movies we want to do another set of patterns to find the adventure movies that are rated eight or better the first pattern we're gonna find those movies that belong to the adventure genre the second pattern we're gonna find the movies whose average rating is greater than eight at the end we're going to select the movies and select their directors by title and by name from the movie vertices we want to do one last match step with three different patterns first we want to find the movies that belong to the adventure genre next we want to compute the average rating for all of those movies the third pattern guarantees that that average rating is greater than eight we'll select the movies by their title and the directors by their name and we'll see the results here we have three versions of lord of the rings the return of the king directed by peter jackson fellowship of the ring and then the two towers now i know that was a lot so give this next exercise a try and put declarative traversals into practice",
    "segments": [
      {
        "start": 1.47,
        "duration": 5.31,
        "text": "[Music]"
      },
      {
        "start": 6.879,
        "duration": 4.88,
        "text": "hey everyone my name is denise gosnell"
      },
      {
        "start": 9.04,
        "duration": 4.719,
        "text": "and this is declarative traversals now"
      },
      {
        "start": 11.759,
        "duration": 2.561,
        "text": "declarative traversals require you to"
      },
      {
        "start": 13.759,
        "duration": 2.401,
        "text": "think"
      },
      {
        "start": 14.32,
        "duration": 3.28,
        "text": "differently instead of trying to"
      },
      {
        "start": 16.16,
        "duration": 3.68,
        "text": "instruct a traverser"
      },
      {
        "start": 17.6,
        "duration": 3.519,
        "text": "on how to compute a result we declare"
      },
      {
        "start": 19.84,
        "duration": 3.279,
        "text": "how the result should look"
      },
      {
        "start": 21.119,
        "duration": 4.4,
        "text": "and we let the traverser just find a"
      },
      {
        "start": 23.119,
        "duration": 4.721,
        "text": "solution gremlin declarative traversals"
      },
      {
        "start": 25.519,
        "duration": 4.321,
        "text": "are graph pattern matching traversals"
      },
      {
        "start": 27.84,
        "duration": 3.839,
        "text": "they specify a graph pattern that should"
      },
      {
        "start": 29.84,
        "duration": 3.04,
        "text": "be matched against a graph so let's"
      },
      {
        "start": 31.679,
        "duration": 2.961,
        "text": "visualize this"
      },
      {
        "start": 32.88,
        "duration": 3.76,
        "text": "a gremlin outside of the graph is"
      },
      {
        "start": 34.64,
        "duration": 3.68,
        "text": "thinking of the triangular pattern"
      },
      {
        "start": 36.64,
        "duration": 3.599,
        "text": "of those three vertices that you see in"
      },
      {
        "start": 38.32,
        "duration": 2.8,
        "text": "the diagram that is a pattern we will"
      },
      {
        "start": 40.239,
        "duration": 2.801,
        "text": "define"
      },
      {
        "start": 41.12,
        "duration": 3.439,
        "text": "with the gremlin language and the actual"
      },
      {
        "start": 43.04,
        "duration": 3.359,
        "text": "traversers in the graph"
      },
      {
        "start": 44.559,
        "duration": 3.361,
        "text": "will be looking to find that pattern the"
      },
      {
        "start": 46.399,
        "duration": 4.0,
        "text": "gremlin outside of the graph"
      },
      {
        "start": 47.92,
        "duration": 3.92,
        "text": "is thinking of the triangular pattern of"
      },
      {
        "start": 50.399,
        "duration": 2.241,
        "text": "those three vertices you see in the"
      },
      {
        "start": 51.84,
        "duration": 2.64,
        "text": "diagram"
      },
      {
        "start": 52.64,
        "duration": 3.52,
        "text": "that is a pattern we will define with"
      },
      {
        "start": 54.48,
        "duration": 3.04,
        "text": "the gremlin language and the actual"
      },
      {
        "start": 56.16,
        "duration": 3.28,
        "text": "traversers in the graph"
      },
      {
        "start": 57.52,
        "duration": 3.28,
        "text": "we'll be looking to find that pattern as"
      },
      {
        "start": 59.44,
        "duration": 3.36,
        "text": "with any programming language"
      },
      {
        "start": 60.8,
        "duration": 3.2,
        "text": "a declarative approach describes an"
      },
      {
        "start": 62.8,
        "duration": 2.96,
        "text": "outcome that we want"
      },
      {
        "start": 64.0,
        "duration": 3.6,
        "text": "a thing that we want to happen it"
      },
      {
        "start": 65.76,
        "duration": 2.16,
        "text": "doesn't give us the steps or how to get"
      },
      {
        "start": 67.6,
        "duration": 2.16,
        "text": "there"
      },
      {
        "start": 67.92,
        "duration": 4.879,
        "text": "in other words declarative traversals"
      },
      {
        "start": 69.76,
        "duration": 4.24,
        "text": "focus on what to compute rather than how"
      },
      {
        "start": 72.799,
        "duration": 3.121,
        "text": "to compute it"
      },
      {
        "start": 74.0,
        "duration": 3.68,
        "text": "for declarative traversals we only need"
      },
      {
        "start": 75.92,
        "duration": 3.6,
        "text": "to introduce one new step"
      },
      {
        "start": 77.68,
        "duration": 3.6,
        "text": "it is the match step and it has three"
      },
      {
        "start": 79.52,
        "duration": 3.84,
        "text": "different forms that we can use it in"
      },
      {
        "start": 81.28,
        "duration": 3.839,
        "text": "in all three cases we provide the"
      },
      {
        "start": 83.36,
        "duration": 3.52,
        "text": "patterns we would like to match"
      },
      {
        "start": 85.119,
        "duration": 3.36,
        "text": "in the first case we provide named"
      },
      {
        "start": 86.88,
        "duration": 3.12,
        "text": "variables at the beginning and"
      },
      {
        "start": 88.479,
        "duration": 3.761,
        "text": "at the end of the traversal in the"
      },
      {
        "start": 90.0,
        "duration": 3.68,
        "text": "second case we only provide a named"
      },
      {
        "start": 92.24,
        "duration": 2.239,
        "text": "variable at the beginning of the"
      },
      {
        "start": 93.68,
        "duration": 2.56,
        "text": "traversal"
      },
      {
        "start": 94.479,
        "duration": 3.361,
        "text": "and in the last case there are no"
      },
      {
        "start": 96.24,
        "duration": 2.8,
        "text": "declared variables notice that"
      },
      {
        "start": 97.84,
        "duration": 3.599,
        "text": "declarative traversals"
      },
      {
        "start": 99.04,
        "duration": 3.28,
        "text": "use the as step modulator to declare"
      },
      {
        "start": 101.439,
        "duration": 3.601,
        "text": "variables"
      },
      {
        "start": 102.32,
        "duration": 3.68,
        "text": "that have to be bound to some values in"
      },
      {
        "start": 105.04,
        "duration": 3.119,
        "text": "the solution"
      },
      {
        "start": 106.0,
        "duration": 4.24,
        "text": "we used the as step previously with"
      },
      {
        "start": 108.159,
        "duration": 2.64,
        "text": "projecting traversals to define step"
      },
      {
        "start": 110.24,
        "duration": 2.72,
        "text": "labels"
      },
      {
        "start": 110.799,
        "duration": 3.441,
        "text": "but in declarative traversals the"
      },
      {
        "start": 112.96,
        "duration": 3.119,
        "text": "terminology is different"
      },
      {
        "start": 114.24,
        "duration": 3.36,
        "text": "we say in declarative traversals that"
      },
      {
        "start": 116.079,
        "duration": 3.841,
        "text": "the as step creates"
      },
      {
        "start": 117.6,
        "duration": 3.68,
        "text": "variables instead of step labels let's"
      },
      {
        "start": 119.92,
        "duration": 3.519,
        "text": "take a look at some examples"
      },
      {
        "start": 121.28,
        "duration": 3.04,
        "text": "a reminder is always of our killer video"
      },
      {
        "start": 123.439,
        "duration": 4.0,
        "text": "movie schema"
      },
      {
        "start": 124.32,
        "duration": 5.439,
        "text": "users know other users users rate movies"
      },
      {
        "start": 127.439,
        "duration": 3.52,
        "text": "and movies belong to genres we also have"
      },
      {
        "start": 129.759,
        "duration": 3.281,
        "text": "people who acted"
      },
      {
        "start": 130.959,
        "duration": 4.0,
        "text": "directed composed or other types of"
      },
      {
        "start": 133.04,
        "duration": 3.6,
        "text": "participation in the movies"
      },
      {
        "start": 134.959,
        "duration": 3.36,
        "text": "let us start with the same example from"
      },
      {
        "start": 136.64,
        "duration": 3.92,
        "text": "the projecting traversals video"
      },
      {
        "start": 138.319,
        "duration": 3.681,
        "text": "directors who appear in their own movies"
      },
      {
        "start": 140.56,
        "duration": 3.36,
        "text": "we have solved this before"
      },
      {
        "start": 142.0,
        "duration": 3.52,
        "text": "but we're going to solve this same query"
      },
      {
        "start": 143.92,
        "duration": 3.12,
        "text": "with a pattern matching traversal"
      },
      {
        "start": 145.52,
        "duration": 3.6,
        "text": "we're going to provide two different"
      },
      {
        "start": 147.04,
        "duration": 3.839,
        "text": "patterns each pattern starts with a"
      },
      {
        "start": 149.12,
        "duration": 4.16,
        "text": "gremlin anonymous traversal"
      },
      {
        "start": 150.879,
        "duration": 3.36,
        "text": "we're going to specify the pattern after"
      },
      {
        "start": 153.28,
        "duration": 2.4,
        "text": "that also"
      },
      {
        "start": 154.239,
        "duration": 3.681,
        "text": "notice that we are going to use the"
      },
      {
        "start": 155.68,
        "duration": 3.919,
        "text": "first of the three pattern forms where"
      },
      {
        "start": 157.92,
        "duration": 2.56,
        "text": "we have a declared variable at the"
      },
      {
        "start": 159.599,
        "duration": 3.441,
        "text": "beginning"
      },
      {
        "start": 160.48,
        "duration": 3.52,
        "text": "and at the end of the declared pattern"
      },
      {
        "start": 163.04,
        "duration": 2.4,
        "text": "in this traversal"
      },
      {
        "start": 164.0,
        "duration": 3.28,
        "text": "we are going to provide two different"
      },
      {
        "start": 165.44,
        "duration": 3.76,
        "text": "patterns each pattern starts with a"
      },
      {
        "start": 167.28,
        "duration": 3.84,
        "text": "gremlin anonymous traversal the double"
      },
      {
        "start": 169.2,
        "duration": 2.399,
        "text": "underscore we're going to specify the"
      },
      {
        "start": 171.12,
        "duration": 2.88,
        "text": "pattern"
      },
      {
        "start": 171.599,
        "duration": 4.321,
        "text": "after that also notice in this example"
      },
      {
        "start": 174.0,
        "duration": 2.959,
        "text": "that we are using the first of the three"
      },
      {
        "start": 175.92,
        "duration": 2.8,
        "text": "pattern forms"
      },
      {
        "start": 176.959,
        "duration": 3.121,
        "text": "where we have a declared variable at the"
      },
      {
        "start": 178.72,
        "duration": 3.36,
        "text": "beginning and"
      },
      {
        "start": 180.08,
        "duration": 3.84,
        "text": "at the end of the declared pattern how"
      },
      {
        "start": 182.08,
        "duration": 3.84,
        "text": "we are using those declared variables"
      },
      {
        "start": 183.92,
        "duration": 3.679,
        "text": "is one of the most important pieces in"
      },
      {
        "start": 185.92,
        "duration": 2.399,
        "text": "this example looking at each of the"
      },
      {
        "start": 187.599,
        "duration": 3.28,
        "text": "patterns"
      },
      {
        "start": 188.319,
        "duration": 4.401,
        "text": "we are using the same variables m and p"
      },
      {
        "start": 190.879,
        "duration": 2.401,
        "text": "when we use the same name for a declared"
      },
      {
        "start": 192.72,
        "duration": 3.2,
        "text": "variable"
      },
      {
        "start": 193.28,
        "duration": 4.4,
        "text": "that will bind to the same value so we"
      },
      {
        "start": 195.92,
        "duration": 2.239,
        "text": "are defining two patterns but they will"
      },
      {
        "start": 197.68,
        "duration": 2.8,
        "text": "apply"
      },
      {
        "start": 198.159,
        "duration": 3.44,
        "text": "to the same movies and the same people"
      },
      {
        "start": 200.48,
        "duration": 2.96,
        "text": "so in this traversal"
      },
      {
        "start": 201.599,
        "duration": 3.92,
        "text": "the first pattern in the match statement"
      },
      {
        "start": 203.44,
        "duration": 4.32,
        "text": "is going to look for some movie"
      },
      {
        "start": 205.519,
        "duration": 3.121,
        "text": "with an outgoing actor edge to some"
      },
      {
        "start": 207.76,
        "duration": 3.36,
        "text": "person this"
      },
      {
        "start": 208.64,
        "duration": 4.239,
        "text": "finds actors in some movie the second"
      },
      {
        "start": 211.12,
        "duration": 2.399,
        "text": "pattern in our match step is going to"
      },
      {
        "start": 212.879,
        "duration": 3.601,
        "text": "look for an"
      },
      {
        "start": 213.519,
        "duration": 4.08,
        "text": "outgoing director edge to a person but"
      },
      {
        "start": 216.48,
        "duration": 3.92,
        "text": "because we use"
      },
      {
        "start": 217.599,
        "duration": 4.321,
        "text": "m and p and they're the same declared"
      },
      {
        "start": 220.4,
        "duration": 3.6,
        "text": "variables in both patterns"
      },
      {
        "start": 221.92,
        "duration": 3.44,
        "text": "they're going to be constrained to be"
      },
      {
        "start": 224.0,
        "duration": 3.68,
        "text": "the same movies"
      },
      {
        "start": 225.36,
        "duration": 4.239,
        "text": "and the same people in other words were"
      },
      {
        "start": 227.68,
        "duration": 2.96,
        "text": "constrained to directors who acted in"
      },
      {
        "start": 229.599,
        "duration": 2.56,
        "text": "their own movies"
      },
      {
        "start": 230.64,
        "duration": 3.28,
        "text": "once we've done this match step we're"
      },
      {
        "start": 232.159,
        "duration": 3.761,
        "text": "going to select the people remove their"
      },
      {
        "start": 233.92,
        "duration": 3.84,
        "text": "duplicates and randomly sample three"
      },
      {
        "start": 235.92,
        "duration": 4.239,
        "text": "and for the movie buffs out there we"
      },
      {
        "start": 237.76,
        "duration": 4.72,
        "text": "found hopefully three expected results"
      },
      {
        "start": 240.159,
        "duration": 3.601,
        "text": "clint eastwood charles chaplin and"
      },
      {
        "start": 242.48,
        "duration": 3.2,
        "text": "quentin tarantino"
      },
      {
        "start": 243.76,
        "duration": 3.119,
        "text": "before we move on there's two things to"
      },
      {
        "start": 245.68,
        "duration": 3.44,
        "text": "note about the match step"
      },
      {
        "start": 246.879,
        "duration": 3.92,
        "text": "before going to the next example first"
      },
      {
        "start": 249.12,
        "duration": 3.6,
        "text": "the database engine can evaluate"
      },
      {
        "start": 250.799,
        "duration": 3.44,
        "text": "traversal patterns in any order to"
      },
      {
        "start": 252.72,
        "duration": 3.12,
        "text": "compute the same result so if your"
      },
      {
        "start": 254.239,
        "duration": 3.52,
        "text": "application requires deterministic"
      },
      {
        "start": 255.84,
        "duration": 2.959,
        "text": "results you'll need to apply an order to"
      },
      {
        "start": 257.759,
        "duration": 2.561,
        "text": "the result stream"
      },
      {
        "start": 258.799,
        "duration": 3.761,
        "text": "secondly and you may have already"
      },
      {
        "start": 260.32,
        "duration": 4.8,
        "text": "noticed at the end of this traversal"
      },
      {
        "start": 262.56,
        "duration": 4.639,
        "text": "the select and the buy steps are used"
      },
      {
        "start": 265.12,
        "duration": 4.16,
        "text": "just like in projecting traversals"
      },
      {
        "start": 267.199,
        "duration": 3.201,
        "text": "to return the desired information in"
      },
      {
        "start": 269.28,
        "duration": 2.56,
        "text": "this next example"
      },
      {
        "start": 270.4,
        "duration": 3.519,
        "text": "let's look for directors who have"
      },
      {
        "start": 271.84,
        "duration": 3.52,
        "text": "appeared in their own western movies"
      },
      {
        "start": 273.919,
        "duration": 3.361,
        "text": "we will follow the same process as"
      },
      {
        "start": 275.36,
        "duration": 3.68,
        "text": "before but this time we will need to"
      },
      {
        "start": 277.28,
        "duration": 4.08,
        "text": "bring in the genre vertices we are going"
      },
      {
        "start": 279.04,
        "duration": 4.32,
        "text": "to follow the same style of match again"
      },
      {
        "start": 281.36,
        "duration": 4.48,
        "text": "by using declarative variables at the"
      },
      {
        "start": 283.36,
        "duration": 4.24,
        "text": "beginning and at the end of each pattern"
      },
      {
        "start": 285.84,
        "duration": 3.6,
        "text": "and we're also again going to use the"
      },
      {
        "start": 287.6,
        "duration": 2.8,
        "text": "same variable names as we did in the"
      },
      {
        "start": 289.44,
        "duration": 2.72,
        "text": "previous example"
      },
      {
        "start": 290.4,
        "duration": 3.2,
        "text": "now we're going to follow the same"
      },
      {
        "start": 292.16,
        "duration": 3.2,
        "text": "patterns as before"
      },
      {
        "start": 293.6,
        "duration": 3.28,
        "text": "that we saw in the previous example but"
      },
      {
        "start": 295.36,
        "duration": 2.0,
        "text": "in this one we need to add a third"
      },
      {
        "start": 296.88,
        "duration": 1.92,
        "text": "pattern"
      },
      {
        "start": 297.36,
        "duration": 3.119,
        "text": "we're going to start by finding the"
      },
      {
        "start": 298.8,
        "duration": 2.56,
        "text": "actors and finding the directors as we"
      },
      {
        "start": 300.479,
        "duration": 2.961,
        "text": "did previously"
      },
      {
        "start": 301.36,
        "duration": 3.36,
        "text": "but next we need to add a pattern to"
      },
      {
        "start": 303.44,
        "duration": 2.16,
        "text": "make sure that the movies we're"
      },
      {
        "start": 304.72,
        "duration": 2.88,
        "text": "identifying"
      },
      {
        "start": 305.6,
        "duration": 3.92,
        "text": "belong to the western genre and that's"
      },
      {
        "start": 307.6,
        "duration": 3.2,
        "text": "what you see here with the third pattern"
      },
      {
        "start": 309.52,
        "duration": 3.84,
        "text": "in this match statement we're"
      },
      {
        "start": 310.8,
        "duration": 4.64,
        "text": "identifying that the movies belong to"
      },
      {
        "start": 313.36,
        "duration": 3.6,
        "text": "a specific genre with the name of"
      },
      {
        "start": 315.44,
        "duration": 2.4,
        "text": "western we're going to go ahead and"
      },
      {
        "start": 316.96,
        "duration": 3.2,
        "text": "select p"
      },
      {
        "start": 317.84,
        "duration": 3.28,
        "text": "by their names and to dupe them and take"
      },
      {
        "start": 320.16,
        "duration": 3.599,
        "text": "a sample of three"
      },
      {
        "start": 321.12,
        "duration": 4.24,
        "text": "and we find clint eastwood john wayne"
      },
      {
        "start": 323.759,
        "duration": 3.921,
        "text": "and quentin tarantino"
      },
      {
        "start": 325.36,
        "duration": 4.24,
        "text": "adding on to this example let's add just"
      },
      {
        "start": 327.68,
        "duration": 3.6,
        "text": "a little bit more complexity but this"
      },
      {
        "start": 329.6,
        "duration": 3.039,
        "text": "time we're going to introduce a new"
      },
      {
        "start": 331.28,
        "duration": 3.52,
        "text": "pattern with the not"
      },
      {
        "start": 332.639,
        "duration": 4.161,
        "text": "step we're going to look for directors"
      },
      {
        "start": 334.8,
        "duration": 3.52,
        "text": "who acted in their own movies again but"
      },
      {
        "start": 336.8,
        "duration": 3.2,
        "text": "this time they're gonna be comedies and"
      },
      {
        "start": 338.32,
        "duration": 4.08,
        "text": "we're gonna add one more constraint"
      },
      {
        "start": 340.0,
        "duration": 3.12,
        "text": "we want that those actors and directors"
      },
      {
        "start": 342.4,
        "duration": 3.12,
        "text": "have never"
      },
      {
        "start": 343.12,
        "duration": 4.079,
        "text": "participated in any movie that has an"
      },
      {
        "start": 345.52,
        "duration": 3.119,
        "text": "average rating of less than eight"
      },
      {
        "start": 347.199,
        "duration": 3.28,
        "text": "as you can see in this traversal we"
      },
      {
        "start": 348.639,
        "duration": 4.641,
        "text": "start off the same we have m"
      },
      {
        "start": 350.479,
        "duration": 3.521,
        "text": "which has an outgoing actor edge to p m"
      },
      {
        "start": 353.28,
        "duration": 2.88,
        "text": "also has an"
      },
      {
        "start": 354.0,
        "duration": 3.12,
        "text": "outgoing director edge to p so following"
      },
      {
        "start": 356.16,
        "duration": 2.56,
        "text": "these two patterns"
      },
      {
        "start": 357.12,
        "duration": 3.76,
        "text": "these are the directors who have acted"
      },
      {
        "start": 358.72,
        "duration": 4.96,
        "text": "in their own films as we've seen before"
      },
      {
        "start": 360.88,
        "duration": 4.72,
        "text": "next m has a belongs to edge whose name"
      },
      {
        "start": 363.68,
        "duration": 3.44,
        "text": "is comedy so this means that the movie"
      },
      {
        "start": 365.6,
        "duration": 3.84,
        "text": "belongs to the comedy genre"
      },
      {
        "start": 367.12,
        "duration": 4.24,
        "text": "on the next line we begin with the not"
      },
      {
        "start": 369.44,
        "duration": 2.879,
        "text": "step so we're going to negate what we're"
      },
      {
        "start": 371.36,
        "duration": 3.2,
        "text": "about to traverse"
      },
      {
        "start": 372.319,
        "duration": 3.361,
        "text": "but first we have to compute the average"
      },
      {
        "start": 374.56,
        "duration": 3.199,
        "text": "rating for the movie"
      },
      {
        "start": 375.68,
        "duration": 4.16,
        "text": "this time we want to consider any movie"
      },
      {
        "start": 377.759,
        "duration": 2.481,
        "text": "the actor or director has participated"
      },
      {
        "start": 379.84,
        "duration": 2.56,
        "text": "in"
      },
      {
        "start": 380.24,
        "duration": 3.12,
        "text": "so we start from p and we go to any"
      },
      {
        "start": 382.4,
        "duration": 3.04,
        "text": "movie via"
      },
      {
        "start": 383.36,
        "duration": 3.839,
        "text": "all of the different in edges next we"
      },
      {
        "start": 385.44,
        "duration": 2.4,
        "text": "want to compute the movie's average"
      },
      {
        "start": 387.199,
        "duration": 2.481,
        "text": "rating"
      },
      {
        "start": 387.84,
        "duration": 3.84,
        "text": "this introduces the need for the local"
      },
      {
        "start": 389.68,
        "duration": 3.68,
        "text": "step we have to use local here"
      },
      {
        "start": 391.68,
        "duration": 3.519,
        "text": "so that we calculate the average for"
      },
      {
        "start": 393.36,
        "duration": 3.44,
        "text": "that movie instead of the average"
      },
      {
        "start": 395.199,
        "duration": 4.241,
        "text": "ratings for all movies"
      },
      {
        "start": 396.8,
        "duration": 3.2,
        "text": "from here we have four remaining steps"
      },
      {
        "start": 399.44,
        "duration": 3.36,
        "text": "first"
      },
      {
        "start": 400.0,
        "duration": 4.639,
        "text": "we walk out the ratings edge next we"
      },
      {
        "start": 402.8,
        "duration": 2.959,
        "text": "access the ratings values by calling"
      },
      {
        "start": 404.639,
        "duration": 3.601,
        "text": "values rating"
      },
      {
        "start": 405.759,
        "duration": 3.28,
        "text": "third we use the mean step to calculate"
      },
      {
        "start": 408.24,
        "duration": 3.04,
        "text": "the average"
      },
      {
        "start": 409.039,
        "duration": 4.16,
        "text": "and lastly we only want that traverser"
      },
      {
        "start": 411.28,
        "duration": 2.4,
        "text": "to pass if the average rating for the"
      },
      {
        "start": 413.199,
        "duration": 2.881,
        "text": "movie"
      },
      {
        "start": 413.68,
        "duration": 3.68,
        "text": "is less than eight now remember that is"
      },
      {
        "start": 416.08,
        "duration": 3.679,
        "text": "all inside of not"
      },
      {
        "start": 417.36,
        "duration": 3.679,
        "text": "so we're going to negate this part of"
      },
      {
        "start": 419.759,
        "duration": 2.801,
        "text": "the pattern matching step"
      },
      {
        "start": 421.039,
        "duration": 3.121,
        "text": "so with this final pattern we're"
      },
      {
        "start": 422.56,
        "duration": 2.56,
        "text": "limiting the results to only those"
      },
      {
        "start": 424.16,
        "duration": 3.599,
        "text": "directors who"
      },
      {
        "start": 425.12,
        "duration": 4.0,
        "text": "appeared in their own comedy movies and"
      },
      {
        "start": 427.759,
        "duration": 3.761,
        "text": "have never participated"
      },
      {
        "start": 429.12,
        "duration": 3.919,
        "text": "in any movie that has an average rating"
      },
      {
        "start": 431.52,
        "duration": 3.2,
        "text": "of less than eight"
      },
      {
        "start": 433.039,
        "duration": 3.201,
        "text": "so let's take a look at these newly"
      },
      {
        "start": 434.72,
        "duration": 4.0,
        "text": "introduced gremlin steps"
      },
      {
        "start": 436.24,
        "duration": 4.239,
        "text": "the not step passes an incoming"
      },
      {
        "start": 438.72,
        "duration": 4.479,
        "text": "traverser onto the next step"
      },
      {
        "start": 440.479,
        "duration": 3.361,
        "text": "only if the internal traversal yields no"
      },
      {
        "start": 443.199,
        "duration": 2.801,
        "text": "results"
      },
      {
        "start": 443.84,
        "duration": 3.919,
        "text": "the and step passes an incoming"
      },
      {
        "start": 446.0,
        "duration": 4.24,
        "text": "traverser onto the next step"
      },
      {
        "start": 447.759,
        "duration": 4.16,
        "text": "if every internal traversal yields a"
      },
      {
        "start": 450.24,
        "duration": 3.92,
        "text": "result the or step"
      },
      {
        "start": 451.919,
        "duration": 3.601,
        "text": "passes an incoming traverser on to the"
      },
      {
        "start": 454.16,
        "duration": 4.0,
        "text": "next step if at least"
      },
      {
        "start": 455.52,
        "duration": 3.519,
        "text": "one internal traversal yields a result"
      },
      {
        "start": 458.16,
        "duration": 2.879,
        "text": "these steps"
      },
      {
        "start": 459.039,
        "duration": 4.321,
        "text": "while frequently used with declarative"
      },
      {
        "start": 461.039,
        "duration": 2.961,
        "text": "traversals are not limited to just this"
      },
      {
        "start": 463.36,
        "duration": 2.08,
        "text": "match step"
      },
      {
        "start": 464.0,
        "duration": 3.12,
        "text": "they can be used with imperative"
      },
      {
        "start": 465.44,
        "duration": 3.84,
        "text": "traversals as well"
      },
      {
        "start": 467.12,
        "duration": 3.12,
        "text": "let's put these to practice and consider"
      },
      {
        "start": 469.28,
        "duration": 2.72,
        "text": "another example"
      },
      {
        "start": 470.24,
        "duration": 3.679,
        "text": "in a little bit of a different style"
      },
      {
        "start": 472.0,
        "duration": 4.96,
        "text": "this time we're gonna find"
      },
      {
        "start": 473.919,
        "duration": 6.321,
        "text": "actors who appeared in 10 or more movies"
      },
      {
        "start": 476.96,
        "duration": 6.079,
        "text": "and they acted in the matrix or die hard"
      },
      {
        "start": 480.24,
        "duration": 4.56,
        "text": "and the actor's name is not alan rickman"
      },
      {
        "start": 483.039,
        "duration": 3.201,
        "text": "using the match step we will break that"
      },
      {
        "start": 484.8,
        "duration": 3.92,
        "text": "down into separate patterns"
      },
      {
        "start": 486.24,
        "duration": 3.28,
        "text": "this example demonstrates the use of and"
      },
      {
        "start": 488.72,
        "duration": 3.599,
        "text": "or"
      },
      {
        "start": 489.52,
        "duration": 4.56,
        "text": "and the not steps so to do this let's"
      },
      {
        "start": 492.319,
        "duration": 3.201,
        "text": "break it down into each segment"
      },
      {
        "start": 494.08,
        "duration": 4.0,
        "text": "in this first pattern we're going to"
      },
      {
        "start": 495.52,
        "duration": 3.76,
        "text": "look for all actors who acted in 10 or"
      },
      {
        "start": 498.08,
        "duration": 3.36,
        "text": "more movies"
      },
      {
        "start": 499.28,
        "duration": 3.52,
        "text": "the next pattern we want to find those"
      },
      {
        "start": 501.44,
        "duration": 4.0,
        "text": "actors from the matrix"
      },
      {
        "start": 502.8,
        "duration": 4.72,
        "text": "or die hard but not alan rickman to do"
      },
      {
        "start": 505.44,
        "duration": 2.64,
        "text": "this we need to build up a series of or"
      },
      {
        "start": 507.52,
        "duration": 2.399,
        "text": "statements"
      },
      {
        "start": 508.08,
        "duration": 3.2,
        "text": "inside of the ore step the first"
      },
      {
        "start": 509.919,
        "duration": 4.081,
        "text": "statement we want to evaluate"
      },
      {
        "start": 511.28,
        "duration": 4.96,
        "text": "is if an actor has been in the matrix to"
      },
      {
        "start": 514.0,
        "duration": 4.08,
        "text": "do that we want to traverse from people"
      },
      {
        "start": 516.24,
        "duration": 3.84,
        "text": "going through the actor edge and only"
      },
      {
        "start": 518.08,
        "duration": 4.399,
        "text": "consider movies named the matrix"
      },
      {
        "start": 520.08,
        "duration": 4.24,
        "text": "we want that statement to be true or we"
      },
      {
        "start": 522.479,
        "duration": 2.321,
        "text": "want to find people from the movie die"
      },
      {
        "start": 524.32,
        "duration": 1.76,
        "text": "hard"
      },
      {
        "start": 524.8,
        "duration": 3.36,
        "text": "which is what we're introducing with"
      },
      {
        "start": 526.08,
        "duration": 3.759,
        "text": "this next pattern in this next pattern"
      },
      {
        "start": 528.16,
        "duration": 3.6,
        "text": "we want to consider those actors from"
      },
      {
        "start": 529.839,
        "duration": 4.161,
        "text": "the movie die hard and"
      },
      {
        "start": 531.76,
        "duration": 4.079,
        "text": "if they did not have the name alan"
      },
      {
        "start": 534.0,
        "duration": 3.839,
        "text": "rickman for the second pattern"
      },
      {
        "start": 535.839,
        "duration": 3.761,
        "text": "we need to build up a series of or"
      },
      {
        "start": 537.839,
        "duration": 3.841,
        "text": "statements for the first statement"
      },
      {
        "start": 539.6,
        "duration": 3.04,
        "text": "we want to only consider actors who have"
      },
      {
        "start": 541.68,
        "duration": 2.96,
        "text": "been in the movie"
      },
      {
        "start": 542.64,
        "duration": 3.28,
        "text": "the matrix and that's the first section"
      },
      {
        "start": 544.64,
        "duration": 3.28,
        "text": "of this traversal that you see"
      },
      {
        "start": 545.92,
        "duration": 4.0,
        "text": "on the next line you see that we only"
      },
      {
        "start": 547.92,
        "duration": 2.88,
        "text": "want to now consider the actors who have"
      },
      {
        "start": 549.92,
        "duration": 3.28,
        "text": "been in the movie"
      },
      {
        "start": 550.8,
        "duration": 3.92,
        "text": "die hard but we also want to limit those"
      },
      {
        "start": 553.2,
        "duration": 3.199,
        "text": "to the actors who are not"
      },
      {
        "start": 554.72,
        "duration": 3.6,
        "text": "alan rickman which is what you see on"
      },
      {
        "start": 556.399,
        "duration": 2.721,
        "text": "the following line we're going to select"
      },
      {
        "start": 558.32,
        "duration": 2.48,
        "text": "the actors"
      },
      {
        "start": 559.12,
        "duration": 5.36,
        "text": "by their name and we see here that we"
      },
      {
        "start": 560.8,
        "duration": 5.92,
        "text": "have bruce willis and keanu reeves"
      },
      {
        "start": 564.48,
        "duration": 3.12,
        "text": "in our last example we're going to mix"
      },
      {
        "start": 566.72,
        "duration": 2.96,
        "text": "declarative"
      },
      {
        "start": 567.6,
        "duration": 3.679,
        "text": "and imperative traversals we want to"
      },
      {
        "start": 569.68,
        "duration": 4.159,
        "text": "find directors who directed"
      },
      {
        "start": 571.279,
        "duration": 3.841,
        "text": "five or more adventure movies and then"
      },
      {
        "start": 573.839,
        "duration": 3.521,
        "text": "we want to find"
      },
      {
        "start": 575.12,
        "duration": 3.44,
        "text": "adventure movies rated eight or higher"
      },
      {
        "start": 577.36,
        "duration": 2.88,
        "text": "in the first match step"
      },
      {
        "start": 578.56,
        "duration": 3.76,
        "text": "we're looking for the directors that"
      },
      {
        "start": 580.24,
        "duration": 4.08,
        "text": "directed five or more adventured movies"
      },
      {
        "start": 582.32,
        "duration": 3.36,
        "text": "then after we select those directors"
      },
      {
        "start": 584.32,
        "duration": 3.6,
        "text": "we're going to add in"
      },
      {
        "start": 585.68,
        "duration": 3.76,
        "text": "an imperative traversal to get us back"
      },
      {
        "start": 587.92,
        "duration": 3.76,
        "text": "to the movie vertices"
      },
      {
        "start": 589.44,
        "duration": 3.519,
        "text": "from those movies we want to do another"
      },
      {
        "start": 591.68,
        "duration": 2.88,
        "text": "set of patterns"
      },
      {
        "start": 592.959,
        "duration": 3.041,
        "text": "to find the adventure movies that are"
      },
      {
        "start": 594.56,
        "duration": 3.76,
        "text": "rated eight or better"
      },
      {
        "start": 596.0,
        "duration": 4.56,
        "text": "the first pattern we're gonna find those"
      },
      {
        "start": 598.32,
        "duration": 3.84,
        "text": "movies that belong to the adventure"
      },
      {
        "start": 600.56,
        "duration": 3.6,
        "text": "genre the second pattern"
      },
      {
        "start": 602.16,
        "duration": 3.119,
        "text": "we're gonna find the movies whose"
      },
      {
        "start": 604.16,
        "duration": 3.359,
        "text": "average rating"
      },
      {
        "start": 605.279,
        "duration": 3.921,
        "text": "is greater than eight at the end we're"
      },
      {
        "start": 607.519,
        "duration": 4.161,
        "text": "going to select the movies"
      },
      {
        "start": 609.2,
        "duration": 3.759,
        "text": "and select their directors by title and"
      },
      {
        "start": 611.68,
        "duration": 3.04,
        "text": "by name"
      },
      {
        "start": 612.959,
        "duration": 3.12,
        "text": "from the movie vertices we want to do"
      },
      {
        "start": 614.72,
        "duration": 3.92,
        "text": "one last match step"
      },
      {
        "start": 616.079,
        "duration": 3.841,
        "text": "with three different patterns first we"
      },
      {
        "start": 618.64,
        "duration": 4.96,
        "text": "want to find the movies"
      },
      {
        "start": 619.92,
        "duration": 6.159,
        "text": "that belong to the adventure genre next"
      },
      {
        "start": 623.6,
        "duration": 4.32,
        "text": "we want to compute the average rating"
      },
      {
        "start": 626.079,
        "duration": 4.32,
        "text": "for all of those movies"
      },
      {
        "start": 627.92,
        "duration": 4.24,
        "text": "the third pattern guarantees that that"
      },
      {
        "start": 630.399,
        "duration": 3.44,
        "text": "average rating is greater than eight"
      },
      {
        "start": 632.16,
        "duration": 3.52,
        "text": "we'll select the movies by their title"
      },
      {
        "start": 633.839,
        "duration": 4.24,
        "text": "and the directors by their name"
      },
      {
        "start": 635.68,
        "duration": 4.0,
        "text": "and we'll see the results here we have"
      },
      {
        "start": 638.079,
        "duration": 3.521,
        "text": "three versions of lord of the rings"
      },
      {
        "start": 639.68,
        "duration": 4.0,
        "text": "the return of the king directed by peter"
      },
      {
        "start": 641.6,
        "duration": 4.08,
        "text": "jackson fellowship of the ring"
      },
      {
        "start": 643.68,
        "duration": 3.2,
        "text": "and then the two towers now i know that"
      },
      {
        "start": 645.68,
        "duration": 3.76,
        "text": "was a lot so"
      },
      {
        "start": 646.88,
        "duration": 9.28,
        "text": "give this next exercise a try and put"
      },
      {
        "start": 649.44,
        "duration": 6.72,
        "text": "declarative traversals into practice"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-15T22:35:29.289413+00:00"
}