{
  "video_id": "ViXFeA0E9tE",
  "title": "Leveraging Storage Attached Indexes in DSE 6.9",
  "description": "In this video, Aaron Ploetz walks you through some of the new (non-vector) use cases for the new Storage Attached Indexes in DSE 6.9. It is meant for those who have prior experience with Apache Cassandra® or DSE, and leans heavily on CQL.\n\nCONNECT WITH DATASTAX\nSubscribe: http://www.youtube.com/c/datastaxdevs?sub_confirmation=1 \nTwitter: https://twitter.com/datastaxdevs\n\nAbout DataStax Developer:\nOn the DataStax Developers YouTube channel, you can find tutorials, workshops and much more to help you learn and stay updated with the latest information on Apache Cassandra©.  Visit https://datastax.com/dev for more free learning resources.",
  "published_at": "2024-06-27T18:41:51Z",
  "thumbnail": "https://i.ytimg.com/vi/ViXFeA0E9tE/hqdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "dse",
    "cql",
    "apache_cassandra",
    "workshop",
    "vector",
    "cassandra",
    "tutorial",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=ViXFeA0E9tE",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "hello everyone I'm a in Plum data stacks and today I'm going to take you through using the new storage attached indexes with data STX Enterprise 6.9 all right let's go so real quick let's have a look at our cluster inside of Mission Control excuse me all right we've got our same snakes arrows dsse cluster if I go ahead and have a look yep we got three nodes um everything looks good let's head on over to a cql shell session okay so let's start out by getting into our default keyspace here there we go and we're going to create a table called users so our users table is just going to have columns for name email occupation city state and we'll go with a primary key on on just name that should that should work just fine next let's go ahead and paste some data in I have some pre-made insert statements here and let's do a select okay so let's assume that we want to be able to query our table um by the by the state column maybe we want to be able to pull back um users who um you know live in in certain States so let's go ahead and we're going to do a create custom index on users and we're going to do that on the state column then we're going to say using storage attached index all right so now I can use the storage attached index I can say select um we'll just say name and occupation and state and we'll say from users where State equals and we'll just say Wisconsin okay so that worked now I can use the up Arrow here and and uh let's say well maybe I want um both Wisconsin and Minnesota in there so let's say or state equals Minnesota hey that works too um notice in the past uh cql did not have an ore operator but again the storage attached index makes that possible um so let's try another iteration of this maybe you know because it's it's a State field you know we really don't uh we really don't care about um about case so what if I say wi lowercase of course if you use Cassandra for a while you know that it is indeed case sensitive so so that's not going to work so let's let's have a look at our at our indexes here um so I'll do a select star [Music] from system schema indexes and I'll say where t-space name equals default pspace and table name equals users let's just do that okay so we have one out there and it's called user State index so let's let's get rid of that so we'll say drop index users state idx all right so let's go ahead and recreate this index um but we're going to do it in a way that it will allow us to match um regardless of case so what I'm going to do here is uh just hit enter to get to the next line and then I'll say with options and I'll say equals H and then we'll say in index analyzer um and we'll go ahead and say [Music] filters and we want uh name of our of our filter to be lowercase and just like that okay so now if I go ahead and run this query oh it comes back with an error now you see when we're using um an index analyzer we actually have to use the special analyzer operator um which is a colon so I'm just going to put a CO in there and press enter and oh look at that and we get everyone from Wisconsin um so now I can say state or I can say or state colon um then we can say Minnesota and I get the same results back and the cool thing too is that I can even go and like mix and match case a little bit here like capital W capital n and it'll still work so um so yeah so we we've used an index or analyzer to go ahead and make that case insensitive essentially all right all right let's uh let's try another one here um let's say that we want to say like create custom index on users and let's put it on the occupation column all right and we'll say using storage attached index and we'll say with options equals and we'll go ahead and say index [Music] analyzer and we want to use a tokenizer and we'll say name uh the tokenizer we want to use is the standard tokenizer um and we'll also want to use um some [Music] filters and the name of the filter that we're going to use is is Porter stem okay so what did that do well essentially it created a tokenize index on that occupation column that allows us to match on um distinct words that are that are inside that column um so now I can say hey let's select from users and we'll say where occupation equals astronaut oh that's right I have to use the uh the analyzer operator occupation astronaut there we go so you can see that it matched on everyone who has an occupation of astronaut um including um legendary Mercury 7 astronaut deak Slayton who is both an astronaut and a flight director for NASA um so that totally worked uh we can also you know do something like um what about where occupation is actor or occupation is actress there we go now we pull back everyone in our every one of our users who is either an actor or an actress um and of course that pulls back Chris Farley who is both an actor and a comedian all right that should do it for more information on dataa Enterprise just head out to data.com products datastax-enterprise there you can find all the information you need including downloads and documentation thank you and have a great day",
    "segments": [
      {
        "start": 3.959,
        "duration": 5.161,
        "text": "hello everyone I'm a in Plum data stacks"
      },
      {
        "start": 6.64,
        "duration": 5.64,
        "text": "and today I'm going to take you through"
      },
      {
        "start": 9.12,
        "duration": 6.439,
        "text": "using the new storage attached indexes"
      },
      {
        "start": 12.28,
        "duration": 6.44,
        "text": "with data STX Enterprise 6.9 all right"
      },
      {
        "start": 15.559,
        "duration": 7.8,
        "text": "let's go so real quick let's have a look"
      },
      {
        "start": 18.72,
        "duration": 4.639,
        "text": "at our cluster inside of Mission"
      },
      {
        "start": 24.76,
        "duration": 5.4,
        "text": "Control excuse"
      },
      {
        "start": 27.4,
        "duration": 5.359,
        "text": "me all right we've got our same snakes"
      },
      {
        "start": 30.16,
        "duration": 4.76,
        "text": "arrows dsse cluster if I go ahead and"
      },
      {
        "start": 32.759,
        "duration": 5.96,
        "text": "have a look yep we got three"
      },
      {
        "start": 34.92,
        "duration": 7.72,
        "text": "nodes um everything looks good let's"
      },
      {
        "start": 38.719,
        "duration": 6.16,
        "text": "head on over to a cql shell session okay"
      },
      {
        "start": 42.64,
        "duration": 4.239,
        "text": "so let's start out by getting into our"
      },
      {
        "start": 44.879,
        "duration": 5.52,
        "text": "default keyspace"
      },
      {
        "start": 46.879,
        "duration": 6.441,
        "text": "here there we go and we're going to"
      },
      {
        "start": 50.399,
        "duration": 6.081,
        "text": "create a table called"
      },
      {
        "start": 53.32,
        "duration": 5.84,
        "text": "users so our users table is just going"
      },
      {
        "start": 56.48,
        "duration": 3.96,
        "text": "to have columns for name email"
      },
      {
        "start": 59.16,
        "duration": 3.6,
        "text": "occupation"
      },
      {
        "start": 60.44,
        "duration": 4.439,
        "text": "city state and we'll go with a primary"
      },
      {
        "start": 62.76,
        "duration": 5.48,
        "text": "key on on just name that should that"
      },
      {
        "start": 64.879,
        "duration": 8.56,
        "text": "should work just fine next let's go"
      },
      {
        "start": 68.24,
        "duration": 8.519,
        "text": "ahead and paste some data in I have some"
      },
      {
        "start": 73.439,
        "duration": 6.841,
        "text": "pre-made insert statements here and"
      },
      {
        "start": 76.759,
        "duration": 6.4,
        "text": "let's do a select okay"
      },
      {
        "start": 80.28,
        "duration": 7.24,
        "text": "so let's assume that we want to be able"
      },
      {
        "start": 83.159,
        "duration": 6.161,
        "text": "to query our table um by the by the"
      },
      {
        "start": 87.52,
        "duration": 3.36,
        "text": "state column maybe we want to be able to"
      },
      {
        "start": 89.32,
        "duration": 4.119,
        "text": "pull back"
      },
      {
        "start": 90.88,
        "duration": 6.279,
        "text": "um users who um you know live in in"
      },
      {
        "start": 93.439,
        "duration": 7.68,
        "text": "certain States so let's go ahead and"
      },
      {
        "start": 97.159,
        "duration": 6.881,
        "text": "we're going to do a create custom index"
      },
      {
        "start": 101.119,
        "duration": 7.161,
        "text": "on users and we're going to do that on"
      },
      {
        "start": 104.04,
        "duration": 6.119,
        "text": "the state column then we're going to say"
      },
      {
        "start": 108.28,
        "duration": 5.68,
        "text": "using"
      },
      {
        "start": 110.159,
        "duration": 3.801,
        "text": "storage attached"
      },
      {
        "start": 115.88,
        "duration": 8.04,
        "text": "index all right so now I can use the"
      },
      {
        "start": 120.24,
        "duration": 8.12,
        "text": "storage attached index I can say select"
      },
      {
        "start": 123.92,
        "duration": 7.6,
        "text": "um we'll just say name and occupation"
      },
      {
        "start": 128.36,
        "duration": 5.159,
        "text": "and state and we'll"
      },
      {
        "start": 131.52,
        "duration": 5.84,
        "text": "say"
      },
      {
        "start": 133.519,
        "duration": 8.481,
        "text": "from users where"
      },
      {
        "start": 137.36,
        "duration": 9.04,
        "text": "State equals and we'll just say"
      },
      {
        "start": 142.0,
        "duration": 7.68,
        "text": "Wisconsin okay so that"
      },
      {
        "start": 146.4,
        "duration": 6.8,
        "text": "worked now I can use the up Arrow here"
      },
      {
        "start": 149.68,
        "duration": 5.96,
        "text": "and and uh let's say well maybe I want"
      },
      {
        "start": 153.2,
        "duration": 5.24,
        "text": "um both Wisconsin and Minnesota in there"
      },
      {
        "start": 155.64,
        "duration": 2.8,
        "text": "so let's say"
      },
      {
        "start": 158.599,
        "duration": 5.161,
        "text": "or state equals"
      },
      {
        "start": 163.8,
        "duration": 7.4,
        "text": "Minnesota hey that works too um notice"
      },
      {
        "start": 168.08,
        "duration": 5.799,
        "text": "in the past uh cql did not have an ore"
      },
      {
        "start": 171.2,
        "duration": 5.2,
        "text": "operator but again the storage attached"
      },
      {
        "start": 173.879,
        "duration": 5.161,
        "text": "index makes that"
      },
      {
        "start": 176.4,
        "duration": 5.199,
        "text": "possible um so let's try another"
      },
      {
        "start": 179.04,
        "duration": 5.04,
        "text": "iteration of this maybe you know because"
      },
      {
        "start": 181.599,
        "duration": 4.36,
        "text": "it's it's a State field you know we"
      },
      {
        "start": 184.08,
        "duration": 5.239,
        "text": "really don't uh we really don't care"
      },
      {
        "start": 185.959,
        "duration": 5.56,
        "text": "about um about case so what if I say wi"
      },
      {
        "start": 189.319,
        "duration": 3.761,
        "text": "lowercase of course if you use Cassandra"
      },
      {
        "start": 191.519,
        "duration": 3.841,
        "text": "for a while you know that it is indeed"
      },
      {
        "start": 193.08,
        "duration": 5.719,
        "text": "case sensitive so so that's not going to"
      },
      {
        "start": 195.36,
        "duration": 8.519,
        "text": "work so let's let's have a look at our"
      },
      {
        "start": 198.799,
        "duration": 6.751,
        "text": "at our indexes here um so I'll do a"
      },
      {
        "start": 203.879,
        "duration": 2.92,
        "text": "select star"
      },
      {
        "start": 205.55,
        "duration": 5.09,
        "text": "[Music]"
      },
      {
        "start": 206.799,
        "duration": 7.601,
        "text": "from system schema"
      },
      {
        "start": 210.64,
        "duration": 3.76,
        "text": "indexes and I'll say"
      },
      {
        "start": 215.92,
        "duration": 5.44,
        "text": "where t-space name"
      },
      {
        "start": 218.56,
        "duration": 7.759,
        "text": "equals default"
      },
      {
        "start": 221.36,
        "duration": 6.2,
        "text": "pspace and table name equals users let's"
      },
      {
        "start": 226.319,
        "duration": 3.92,
        "text": "just do"
      },
      {
        "start": 227.56,
        "duration": 4.84,
        "text": "that okay so we have one out there and"
      },
      {
        "start": 230.239,
        "duration": 5.0,
        "text": "it's called user State index so let's"
      },
      {
        "start": 232.4,
        "duration": 9.08,
        "text": "let's get rid of that so we'll say drop"
      },
      {
        "start": 235.239,
        "duration": 6.241,
        "text": "index users state idx"
      },
      {
        "start": 242.439,
        "duration": 6.401,
        "text": "all right so let's go ahead and recreate"
      },
      {
        "start": 247.04,
        "duration": 4.0,
        "text": "this"
      },
      {
        "start": 248.84,
        "duration": 5.92,
        "text": "index um but we're going to do it in a"
      },
      {
        "start": 251.04,
        "duration": 6.68,
        "text": "way that it will allow us to match um"
      },
      {
        "start": 254.76,
        "duration": 5.92,
        "text": "regardless of case so what I'm going to"
      },
      {
        "start": 257.72,
        "duration": 5.56,
        "text": "do here is uh just hit enter to get to"
      },
      {
        "start": 260.68,
        "duration": 5.239,
        "text": "the next line and then I'll say with"
      },
      {
        "start": 263.28,
        "duration": 4.4,
        "text": "options and I'll say"
      },
      {
        "start": 265.919,
        "duration": 6.881,
        "text": "equals"
      },
      {
        "start": 267.68,
        "duration": 9.04,
        "text": "H and then we'll say in index"
      },
      {
        "start": 272.8,
        "duration": 5.22,
        "text": "analyzer um and we'll go ahead and"
      },
      {
        "start": 276.72,
        "duration": 3.0,
        "text": "say"
      },
      {
        "start": 278.02,
        "duration": 7.54,
        "text": "[Music]"
      },
      {
        "start": 279.72,
        "duration": 8.12,
        "text": "filters and we want uh name of our of"
      },
      {
        "start": 285.56,
        "duration": 5.28,
        "text": "our filter to"
      },
      {
        "start": 287.84,
        "duration": 3.0,
        "text": "be"
      },
      {
        "start": 297.32,
        "duration": 4.319,
        "text": "lowercase and just like"
      },
      {
        "start": 302.28,
        "duration": 7.32,
        "text": "that okay so now if I go ahead and"
      },
      {
        "start": 307.6,
        "duration": 4.64,
        "text": "run this"
      },
      {
        "start": 309.6,
        "duration": 6.08,
        "text": "query oh it comes back with an error now"
      },
      {
        "start": 312.24,
        "duration": 6.76,
        "text": "you see when we're using um an index"
      },
      {
        "start": 315.68,
        "duration": 6.6,
        "text": "analyzer we actually have to use the"
      },
      {
        "start": 319.0,
        "duration": 5.72,
        "text": "special analyzer operator um which is a"
      },
      {
        "start": 322.28,
        "duration": 5.32,
        "text": "colon so I'm just going to put a CO in"
      },
      {
        "start": 324.72,
        "duration": 6.4,
        "text": "there and press enter and oh look at"
      },
      {
        "start": 327.6,
        "duration": 6.879,
        "text": "that and we get everyone from Wisconsin"
      },
      {
        "start": 331.12,
        "duration": 5.199,
        "text": "um so now I can say state or I can say"
      },
      {
        "start": 334.479,
        "duration": 5.72,
        "text": "or"
      },
      {
        "start": 336.319,
        "duration": 5.88,
        "text": "state colon um then we can say Minnesota"
      },
      {
        "start": 340.199,
        "duration": 4.081,
        "text": "and I get the same results back and the"
      },
      {
        "start": 342.199,
        "duration": 3.961,
        "text": "cool thing too is that I can even go and"
      },
      {
        "start": 344.28,
        "duration": 4.919,
        "text": "like mix and match case a little bit"
      },
      {
        "start": 346.16,
        "duration": 6.8,
        "text": "here like capital W capital n and it'll"
      },
      {
        "start": 349.199,
        "duration": 5.801,
        "text": "still work so um so yeah so we we've"
      },
      {
        "start": 352.96,
        "duration": 5.44,
        "text": "used an index or analyzer to go ahead"
      },
      {
        "start": 355.0,
        "duration": 5.56,
        "text": "and make that case insensitive"
      },
      {
        "start": 358.4,
        "duration": 4.639,
        "text": "essentially all right all right let's uh"
      },
      {
        "start": 360.56,
        "duration": 4.359,
        "text": "let's try another one here um let's say"
      },
      {
        "start": 363.039,
        "duration": 5.961,
        "text": "that we want to say like"
      },
      {
        "start": 364.919,
        "duration": 7.161,
        "text": "create custom index on"
      },
      {
        "start": 369.0,
        "duration": 6.08,
        "text": "users and let's put it on the"
      },
      {
        "start": 372.08,
        "duration": 8.44,
        "text": "occupation"
      },
      {
        "start": 375.08,
        "duration": 9.0,
        "text": "column all right and we'll say using"
      },
      {
        "start": 380.52,
        "duration": 9.399,
        "text": "storage attached"
      },
      {
        "start": 384.08,
        "duration": 8.76,
        "text": "index and we'll say with options equals"
      },
      {
        "start": 389.919,
        "duration": 4.651,
        "text": "and we'll go ahead and say"
      },
      {
        "start": 392.84,
        "duration": 4.799,
        "text": "index"
      },
      {
        "start": 394.57,
        "duration": 7.23,
        "text": "[Music]"
      },
      {
        "start": 397.639,
        "duration": 4.161,
        "text": "analyzer and we want to use a"
      },
      {
        "start": 404.28,
        "duration": 5.56,
        "text": "tokenizer and we'll say"
      },
      {
        "start": 406.68,
        "duration": 6.48,
        "text": "name uh the tokenizer we want to use is"
      },
      {
        "start": 409.84,
        "duration": 3.32,
        "text": "the standard"
      },
      {
        "start": 415.0,
        "duration": 5.96,
        "text": "tokenizer um and we'll also want to use"
      },
      {
        "start": 418.599,
        "duration": 3.731,
        "text": "um"
      },
      {
        "start": 420.96,
        "duration": 4.439,
        "text": "some"
      },
      {
        "start": 422.33,
        "duration": 3.069,
        "text": "[Music]"
      },
      {
        "start": 426.84,
        "duration": 6.72,
        "text": "filters and the name of the filter that"
      },
      {
        "start": 430.319,
        "duration": 3.241,
        "text": "we're going to use"
      },
      {
        "start": 433.72,
        "duration": 3.96,
        "text": "is is Porter"
      },
      {
        "start": 445.28,
        "duration": 7.479,
        "text": "stem okay so what did that do well"
      },
      {
        "start": 448.68,
        "duration": 6.919,
        "text": "essentially it created a tokenize index"
      },
      {
        "start": 452.759,
        "duration": 7.041,
        "text": "on that occupation column that allows us"
      },
      {
        "start": 455.599,
        "duration": 7.081,
        "text": "to match on um distinct words that are"
      },
      {
        "start": 459.8,
        "duration": 5.119,
        "text": "that are inside that column um so now I"
      },
      {
        "start": 462.68,
        "duration": 2.239,
        "text": "can"
      },
      {
        "start": 465.759,
        "duration": 6.0,
        "text": "say hey let's select from users and"
      },
      {
        "start": 469.479,
        "duration": 4.56,
        "text": "we'll say where"
      },
      {
        "start": 471.759,
        "duration": 5.641,
        "text": "occupation"
      },
      {
        "start": 474.039,
        "duration": 7.481,
        "text": "equals astronaut oh that's right I have"
      },
      {
        "start": 477.4,
        "duration": 7.88,
        "text": "to use the uh the analyzer operator"
      },
      {
        "start": 481.52,
        "duration": 6.44,
        "text": "occupation astronaut there we go so you"
      },
      {
        "start": 485.28,
        "duration": 5.199,
        "text": "can see that it matched on everyone who"
      },
      {
        "start": 487.96,
        "duration": 5.199,
        "text": "has an occupation of astronaut um"
      },
      {
        "start": 490.479,
        "duration": 5.481,
        "text": "including um legendary Mercury 7"
      },
      {
        "start": 493.159,
        "duration": 6.201,
        "text": "astronaut deak Slayton who is both an"
      },
      {
        "start": 495.96,
        "duration": 7.919,
        "text": "astronaut and a flight director for"
      },
      {
        "start": 499.36,
        "duration": 8.239,
        "text": "NASA um so that totally worked uh we can"
      },
      {
        "start": 503.879,
        "duration": 6.561,
        "text": "also you know do something like um what"
      },
      {
        "start": 507.599,
        "duration": 4.68,
        "text": "about where occupation is"
      },
      {
        "start": 510.44,
        "duration": 3.719,
        "text": "actor"
      },
      {
        "start": 512.279,
        "duration": 4.88,
        "text": "or"
      },
      {
        "start": 514.159,
        "duration": 3.0,
        "text": "occupation"
      },
      {
        "start": 517.68,
        "duration": 5.12,
        "text": "is"
      },
      {
        "start": 520.36,
        "duration": 4.72,
        "text": "actress there we go now we pull back"
      },
      {
        "start": 522.8,
        "duration": 5.4,
        "text": "everyone in our every one of our users"
      },
      {
        "start": 525.08,
        "duration": 4.64,
        "text": "who is either an actor or an actress um"
      },
      {
        "start": 528.2,
        "duration": 5.0,
        "text": "and of course that pulls back Chris"
      },
      {
        "start": 529.72,
        "duration": 8.88,
        "text": "Farley who is both an actor and a"
      },
      {
        "start": 533.2,
        "duration": 5.4,
        "text": "comedian all right that should do it"
      },
      {
        "start": 539.64,
        "duration": 4.96,
        "text": "for more information on dataa Enterprise"
      },
      {
        "start": 542.519,
        "duration": 4.961,
        "text": "just head out to"
      },
      {
        "start": 544.6,
        "duration": 5.919,
        "text": "data.com products"
      },
      {
        "start": 547.48,
        "duration": 5.28,
        "text": "datastax-enterprise there you can find"
      },
      {
        "start": 550.519,
        "duration": 5.0,
        "text": "all the information you need including"
      },
      {
        "start": 552.76,
        "duration": 6.12,
        "text": "downloads and documentation thank you"
      },
      {
        "start": 555.519,
        "duration": 3.361,
        "text": "and have a great day"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-12T17:39:51.285199+00:00"
}