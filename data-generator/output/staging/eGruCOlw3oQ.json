{
  "video_id": "eGruCOlw3oQ",
  "title": "Distributed Data Summit 2018: Five Lessons in Distributed Databases by Jonathan Ellis",
  "description": "In 1999, Eric Brewer published the CAP theorem, showing that distributed systems can offer at most two of Consistency, Availability, and Partition tolerance. Apache Cassandra is almost unique among distributed systems in choosing primarily an AP design. In this talk, DataStax co-founder and former Apache Cassandra PMC Chair, Jonathan Ellis, will describe some of the unique challenges in building an AP database, how Cassandra met them, and how those decisions have proven out with time.\n\nhttp://distributeddatasummit.com\n\nABOUT DATASTAX ENTERPRISE 6\nDataStax  powers  the  Right-Now  Enterprise  with  the  always-on,  distributed  cloud  database  built  on  Apache  Cassandra™  and designed for hybrid cloud. DataStax Enterprise 6 (DSE 6) includes industry-leading performance, self-driving operational simplicity, and robust analytics.\n\nLearn more at http://www.datastax.com/products/datastax-enterprise and https://www.datastax.com/products/datastax-enterprise-6\n\nCONNECT WITH DATASTAX\nSubscribe: http://www.youtube.com/c/datastax?sub_confirmation=1 \nSite: http://datastax.com \nFacebook: https://facebook.com/datastax \nTwitter: https://twitter.com/datastax | https://twitter.com/datastax-academy\nLinkedin: https://www.linkedin.com/company/datastax\nhttp://feeds.feedburner.com/datastax \nhttps://github.com/datastax \n\nABOUT DATASTAX ACADEMY\nOn the DataStax Academy YouTube channel, you can find tutorials, webinars and much more to help you learn and stay updated with the latest information on DataStax Enterprise©.  Create an account on https://academy.datastax.com to watch our free online courses, tutorials, and more.",
  "published_at": "2018-10-03T15:30:00Z",
  "thumbnail": "https://i.ytimg.com/vi/eGruCOlw3oQ/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "distributed",
    "cassandra",
    "database",
    "apache_cassandra",
    "tutorial",
    "performance",
    "talk",
    "dse",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=eGruCOlw3oQ",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "generalize from what we're seeing both in the cassandra community as well as in the broader distributed database world and the first one of those is if it's not sequel it's not a database so nate just talked a little bit about you know thrift we're finally sunsetting thrift and he's a little bit sad about that but know this is a case where the market has really spoken and not just spoken but it's really yelled at everyone to get their attention and said look you know we really want a query language where we can standardize across the the different languages and drivers that people are using and they gives us some kind of common lingua franca so just the history here is that in the early 2000s people started realizing that hey you know oracle doesn't scale I need to start you know the state of the art then was sharding to be able to handle larger workloads as people started building cloud applications the first generation and then in 2006 and 2007 Google and Amazon kind of kicked off no sequel by publishing the BigTable and dynamo papers and then you know in the years following you have this explosion of scale out systems some of which are still around near these three at the bottom here are still around and a lot more that aren't or that you know they're you know nobody really uses them anymore if they're technically still around so you know in the bad old days you know this was this was the the world that we lived in in terms of being able to talk to those no sequel systems in fact you kind of had two camps in this this no sequel world you had the people who said I need to build a database that's going to scale and your relational databases don't so I'm going to live with some other kind of paradigm and then you had people who said yeah but I really hate sequel and kind of had you know these both of these camps and really the first camp is the one that kind of one that you know people realized that sequel actually gets the job done and you know started moving towards that in the Casandra space and we had some some direct experience with the downsides of not having that sequel API and one of the big ones is that not only is you know a driverless kind of RPC paradigm too low-level but it results in fragmentation in your user community so we had Hector we had peel ups we had SD annex those are just in the Java space you multiply that by Python by c-sharp by go by Ruby it was it got a lot worse and by the way you're seeing this today in in the dynamodb space where they're saying hey we're just gonna give you a REST API and that's all you need and people say yeah but that's not all we need and they start building things like this and it starts fragmenting so in I believe it was 2012 data stacks made this t-shirt for an internal event I wish I could say that it was an exaggeration but this was an actual thing that happened I KVM for those of you don't know I KVM as an implementation of Java VM on dotnet it was kind of a labor of love by some Scandinavian guy I think and he finally said you know I'm done with this last year which was kind of sad because it was one of the coolest you know just pieces of technology that I'm doing this because I can but back back at this time there wasn't a really good production ready c-sharp driver for Cassandra on top of thrift and so this guy was using Hector but he really wanted to do dotnet so he was using IBM and and yeah things got messy so in 2011 we started moving to Ward's in the cassandra space we started moving towards what can we give people that's higher level than thrifter that's going to allow us to standardize this this world that we've created and our first it actually took us three tries to get it right where the the first sequel 1.0 was very thrift oriented and it operated in terms of slices of cells that you would get back and did not take the world on fire so we iterated I don't actually remember what cql to do is it was very forgettable but in 300 we said okay we're here's how we're going to map rows and partitions to Cassandra's storage engine and it worked really well and I think a lot of the subsequent you know sequel like languages in the database space have have built on this model so what you have you have cosmos DB you know saying that they're they're sequel which is you know if cosmos DB is is a sequel database than Cassandra is a sequel database I mean it's it's it's it's a triumph of marketing their Cloud Stanner is also marketing themselves as sequel with some more justification than cosmos to be can point to and then you have Couchbase doing a language that's pronounced Nichol I believe and then HBase has gotten in the game as well with a sequel in your JDBC library that to the best of my knowledge is Java only but but everyone's moving in this direction and I say everyone there's actually two really popular databases that are bucking this trend it continues to baffle me how MongoDB is or has this reputation for being developer friendly without a real query language but you know there you are so that's something I don't really understand I think I think DynamoDB you can explain its popularity just by saying hey you know you can put in your credit card on Amazon and get a database and start using it and it's it's that first pretty first party cloud advanced image that really makes it popular lesson number two for me is that it takes over five years to build a production-ready database that people are going to want to use so Kurt Monash is is an independent analyst and he says rule number one developing a good database requires five to seven years and tens of millions of thing tens of millions of dollars and that's if things go extremely well and and our experience kind of reflects this in the cassandra community and for me at data stacks I started putting this slide I say I'm gonna put together my top three mistakes starting data stacks and it started growing and then I was like you know at five mistakes I'd better I'd better stop so you know it's it's hard to build a database it's hard to build a company at the same time you are going to make some mistakes but I think one of the biggest ones that I would change if I did it over again is that we did a series a of 2.5 million dollars and Kurt Kurt Monash who said it's going to take tens of millions of dollars he said that in 2013 so even if I'd been reading his blog at the time it was too late for me to profit from that advice so we did a raise of two and a half million dollars we started getting some support customers this is in 2010 and we started building our management tool called ops center and then in 2011 we said hey we're going to be out of money in another month or two we'd better raise some more money and the investor said yeah but where's the customers like what have you built here yeah you've hired some people who are writing open source code but but what have you built so that was that was definitely one of my top lessons that I would change we did obviously make it through we found some investors crosslink capital t' who believed in our vision even though we hadn't made a whole lot of progress since our Series A but that was a lot of stress that that I wouldn't want to repeat so Kurt gave some examples of why it's gonna take longer than you think to build you know to go from you know hey I've got this this research ideato now I've built a working database out of it concurrent workloads you know it's gonna get a lot hairier in real life than whatever you can put together or not in a lab minor edge cases turn out not to be minor these are true I would add some specific examples from from the Cassandra space those of you have run Cassandra and production know you know hinted handoff repair counters may yeah if you're newer to Cassandra then maybe you missed the pain with counters I think we finally got that pretty right but it took us three major rewrites to get there light weight transactions another thing where it's it's pretty solid now but it did have some growing pains and then just building a test suite takes longer than you think in fact I think everything everything on this slide has had multiple major implementations and and you know it's just hard to get right the first time so just just as an aside one of the things were we're working on a data stacks to kind of address that last point of you I need to have a test suite that will help me understand real-world use cases and detect problems before customers hit them so we've basically we've built a tool called fallout and the simple way to think about it is Jepson at scale for those of you who are familiar with Kyle's work on Jepsen and and testing databases with that and so we have the concept of a set of clusters that participate in a test and a workload that are going to act against that set of clusters and we define phases that run in parallel and then we have a set of correctness checkers that run after that test so here's what a very simple workload looks like so I think you can can read that it's a little bit small but basically what we have is we've got three major sections you've got the ensemble you've got the phases and you've got the checkers and so what I've got is I'm defining a simple three node local cluster using cc and I'm going to insert data using cassandra stress while I'm bringing gossip up and down so you see in the middle section I've got gossip up down command disable gossip secondary command enable gossip and then I'm just going to do that randomly across you know 30 seconds here and then I'm going to be doing some reads in there at the same time and then after the test is done I'm going to go through and verify that actually no I'm getting the data out of it that I thought I inserted so this is this is a very flexible way to compose you know the kinds of things that you see in the real world where you have you know a bulk load happening while I'm adding a node to the cluster well repair is running well some of the nodes are compacting and that's the kind of thing that don't often get turned up in simpler testing approaches so it's it's tech coming back to the the lesson here of five plus years Cassandra became an apache top-level project in February of 2010 we released 3.0 in fall of 2015 so I'd say that's that's right around that five-year mark whereas again as Nate said earlier 3.0 has has served us well it's been a very stable release and a very a release that delivers the features that people need to build cloud applications and then the last bullet point here you know I think a lot of people in the open-source community like to think that hey we're special because you know we're doing this with open source so the rules don't apply to us but open source doesn't doesn't change this kind of rule of you know here's the laws of physics and you can't go faster than the speed of light open source doesn't actually make your database better faster I wish it did but it doesn't but what it does do is it lets you get adoption so there before before no sequel really got its legs there were a bunch of databases and there mm that we're trying to solve this you know I need to scale my database problem and for the most part nobody's nobody's heard of them because they were going after this hey I'm gonna raise some money and I'm gonna build a proprietary product and I'm gonna go try to convince people to use that and it's really really hard if your name's not Oracle to get companies to buy an untested database from you and so open source really kind of shortcuts that problem by giving them that comfort level of hey if you know the if the company behind this dies at least the source code is there you know I can hire engineers to work on that so it gives them that security blanket that it's not it's not a magic wand you know there's still you're still gonna have people being very risk-averse with their your their data that's their most important asset but it does for the people who are desperate enough that you know I'm in so much pain from my sequel not scaling that I'm willing to try something new then it gives you that edge lesson number three the customer is always right and here's what I mean by this I think and and I will raise my hand as being significantly responsible for this in the Cassander community but as engineers building a database we tend to have the attitude of you know if you if the database broke because you did something that you weren't supposed to do then it's your fault and and that's the mindset that we need to get away from and it stops us from learning what you know what problems people are trying to solve as quickly as we otherwise could so as an example I'll give it a couple examples so in 2012 if you did a sequential scan like this and said you know I've got billions of rows in showing what products from my catalogue users have bought then I you know I will run the server out of memory doing that Winchell's can you know this was you know five six years ago it would try the early versions of CQL would materialize the entire result set into memory and then hand it back to the class so if you're going to try to pull that pull a hundred million rows into memory that it's going to fall over so we we took a step back and well our first solution sorry my first solution was hey you shouldn't do that so we're going to add this check that says if you're doing a sequential scan I'm gonna reject that and I'm gonna say well if you really do need to do that sequential scan then use this magic incantation called allele filtering and so what people know there's that saying that the internet resists censorship interpret censorship is damage and routes around it your users interpret warnings as damage and route around them like that and so the quickest way to route around this warning is okay copy paste allow filtering I'm good and and the problem the reason this is really insidious is that no this will work fine with a toy data set on your laptop and then you go to production and you know everything gets slower and slower and then finally one of your servers OMG and falls over so it gets you into trouble and so they're they're warning was there for a reason but you know users aren't looking to understand like the guts of the database they just want to get their job done so we we had to take a step back and say okay how do we solve this problem in a way that lets users do what they want but it's also going to stop the server from falling over and that's where we ended paging to the the native protocol where instead of giving back the entire result set I'll just give them back a thousand rows or so at a time and that worked a lot better another example and this one so spoiler alert this is something that I don't know the right answer to yeah like but when you're doing deletes from Cassandra we need to generate what's called a tombstone that says this row doesn't exist any or and then when I'm replicating the delete to the other replicas then that tombstone is is what lets me ensure that none of the other replicas say oh hey you're missing this row let me give it to you the tombstone the tombstone serves as a marker to say no no it's actually been deleted you're the one who's missing the delete let me hand you that tombstone record and so that's great the problem is that when when I'm when I'm going when I'm doing this and I'm reconciling the results from multiple replicas I need to include the tombstones four rows that don't exist anymore in my response if I'm doing a scan across a series of rows that includes some deleted rows I need to include those tombstones otherwise again the server's going to or the coordinators going to combine the responses from the different replicas and say oh here this replica a had this row that replicas B didn't know about so clearly replica B needs to to get that row and I'll hand back the client the result including including that row so the two stones need to participate in that query response and those that means that again this is something that we're pulling those tombstones into memory and handing them back to the coordinator so there's a potential for the server to fall over and run out of memory and so we said okay we will take a similar approach here we'll add a warning threshold and an error threshold and say that you know if your request generates or or it scans in more than a thousand tombstones will write up warning to the log if it scans in more than 10,000 then we'll just fail the request and we'll stop we'll stop processing it and so you know the obvious problem here is that if I'm a developer working at my laptop I'm typically not tailing the server log to check the warnings that it's generating so this is you know it's kind of our best effort as server developers but it's not super useful so I would say one of the morals of this story is we need to add something to the native protocol to be able to send not just errors back to the client but warnings so we can get ahead of problems like this but that's not the real solution the real solution is that we need to we need to get tombstones out of the system much faster we need to we need to get it down from days or weeks which is how long it takes to to run repair typically against a large cluster we need to get it down to hours so I think there's three components to that first we need to get rid of this kind of hack that we have called GC grace seconds that says this is how long I am going to wait until I assume that everyone knows about this tombstone and then it's okay to - garbage collect them so we need to and the real answer of when it's okay to collect a tombstone is once it's been repaired and we know it's on every every replica so we need to we need to track repair status on a token range level so that we can purge tombstones more aggressively and then we need to make repair actually fast enough for that to be a meaningful difference so this is why this is this is marked your question mark when we'll be able to deliver this but I think that's that's the right thing to do hear that that's the real solution and not a band-aid another example is joins and this is this is an example of where you know we we started off by saying if we're if you're going to scale out and you're going to partition your data across multiple machines then you want to satisfy your requests from one machine at a time you don't want to have to correlate data from multiple machines and so we're not going to do joins we're going to do we're going to encourage the normalization will give you collections will give you user-defined types to enable to you to denormalize more easily but what we're seeing is that people are still doing client-side joins people are saying you know what denormalization isn't always the right answer and since you're not giving me joins in cql I'm gonna do it in my client code so that's something where I'm still not sure that we should be giving people joins but maybe we should think harder about that instead of saying no you're doing it wrong so one of the attempts we we made is we said okay we'll give you a materialized views that are going to make it even easier to denormalize so again the the implementation has proved tougher than we thought but I still think it's a useful construct but I'm not I'm not convinced that that's going to solve the the demand that's there that people are asking for and there's some prior art now where there where there wasn't five years ago so both Google Cloud spanner and Microsoft cosmos TV those both came out last year and they're both unapologetically saying hey we're gonna let you do joins and in the so there's there's two objections to joins one is the performance objection that I mentioned but the other objection is that you know if I'm not guaranteeing acid consistency across multiple rows and across multiple partitions then isn't it dangerous to be giving people joins and so so cloud spanner is out there saying yes that's absolutely dangerous and that's why we're going to be all acid all the time two-phase commit across paksas replication groups and we're just going to solve that problem that way spoiler alert well not a spoiler alert I'm gonna actually have a slide about this in a second that's the wrong solution by the way but cosmos DB said hey we're not giving you cross partition acid and we're gonna give you joins anyway because that's actually useful even if you're eventually consistent across partitions and and again that's what people are doing in the wild people are building applications doing client-side joins that are eventually consistent across partition so I kind of think we need to get over it and start thinking about adding joins and as I have on the slide we could we could take baby steps there if we wanted to we could add joins within a single partition only that's still significantly useful but it's going to it's not going to open up the can of worms of perform and consistency the Waycross partition would and then finally words of wisdom from an elder statesman of no sequel that I haven't lived up to very well but I still think this is true that you know every time you're adding a feature to Cassandra or to your infrastructure and you say you know this is really hard to figure out what the right value for this should for this performance parameters should be I'll just make it configurable that's probably the wrong solution and that gets me to my next topic which is that just enough magic is good that's what customers want but too much magic is bad so some of this is that people are going to tell you what they think you want to hear and even when that doesn't make sense so you you know every year or so you have a company that says our database has figured out a way to defeat the cap theorem and we were we are both consistent and available even when Network partitions happen and notes go down and then it's like the game you play is okay let me read your architecture and figure out your where you screwed up because you know it's not just a good idea it's the law or another one our Q can guarantee exactly once delivery you know that's it's basically a variant of hey we've defeated the cap theorem or another fun one is just to read the fine print when when vendors tell you we have an SLA with this many nines for instance that one of the cloud database vendors says we have a four nines availability SLA fine print if we don't achieve this we will refund ten percent of your money so you know I take away from that you don't have a whole lot of faith in your in your SLA that you're advertising but it's not just about over promising but even if you actually promise something and deliver it it's not necessarily a good idea so I think one of the best examples of this is a feature that the researchers at Brown added to H store in 2012 so H store was you know for those of you familiar with Mike Stonebreaker C store was was the columnar store that became Vertica H store is the horizontally partitioned database that became volt dB so there's that that kind of naming convention that he likes there but they added a feature to H store that says hey if you tell me your queries implemented as Java stored procedures I will automatically generate the optimal partitioning for your data and now and I'll spread it across my cluster according to that partitioning and some of your transactions are going to be cross partitioned and those are going to be slower but I've done my best to minimize that and in fact I can prove that my partitioning is better than anything you could come up with if you try to tweak it manually so this is this is a really cool idea the problem is that users looked at that and said wow that's actually really confusing because literally I don't understand when my transactions are a hundred times slower than they usually are so when I have to fall back to the to a two-phase commit across multiple partitions it gets really slow and it's not obvious at all why so this is a case where you know there's this magic solution and it does what it's promised but users don't like it anyway and so you can see that the the state-of-the-art in in databases today you've got Cassandra you've got cloud spanner you've got dynamo DB you've got cosmos DB I think those are the four most relevant databases today and they all use explicit partitioning where the user says here's what I want my partition key to be and and the database respects that a couple years ago Google announced that cloud spanner was coming really soon and some people at data stacks asked me hey what should I expect from cloud spanner should we be really it should be about this new company new competitor and basically what I wrote was you know Google's actually been really open about how cloud spanner works and you know just from the architecture you can tell that it's going to be really slow on writes and not only that but the writes are going to slow down reads as well because there's there's gonna be some interference there and and both of those predictions turned out to be absolutely correct and late last year Todd lip con at Cloudera did a benchmark of cloud spanner against Apache CUDA which is a hybrid transactional analytical database that he works on so the what I would what one of the interesting things about this actually is that unlike cosmos to be in dynamodb where you you pay by here's how many requests per second I want cloud spanner actually charges you by node so you can actually take the the node pricing that Google gives you and you can stand up a virtual machine with similar specs and you can do a more or less apples to apples comparison there so that's that's really useful and very kind of them the problem is that that cloud standard doesn't come off looking very good when you actually benchmark it and my guess is that Cassandra is probably around twice as fast as kudu that would be my guess so you know we're talking 50 times slower than Cassandra and this this is a result so this is a result of google promising magic and delivering it in the sense that you know they're saying if you want acid transactions across multiple partitions we will give that to you and they do the problem is that the the price you pay is unacceptable for most applications one more one more bit of magic I'm going to pick on the cloud vendors one more time here with the auto scaling and dynamodb and the way this works is you when you say I need this many requests per second and I need this much storage then DynamoDB divides that up across what it calls partitions I'm gonna call call that P P here for physical partition which is not the same as a logical partition logical partition is no that's my partition key on my table this is this is like a shard a shard might be a better word here and so there's a formula for how you how many shards it's going to create and then there's there's two problems with this one is that as you grow those shards as they grow beyond 10 gigabytes that's the limit then it's going to split into two and each of those two shut to new shards is going to have half the operations per second that the parent shard had before and so you can have this kind of instead of all of my my shards have the same request ceilings which is relatively easy you're easy to understand you can have some shards with a factor of two or four or even eight times less which which starts to get hard to understand but there's there's another implication here that's I think even more problematic which is around bulk loads so if you you can over provision for a bulk load the problem is that when you scale back that over-provisioning things don't work the way you'd expect so here's an example with a little bit of math so I want to bulk load 200 million one kilobyte items and I want to do that in an hour so I need a write capacity of 55,000 requests per second and that and that's going to translate into 55 physical partitions so I do my bulk load it takes an hour I'm all good and now I want to dial back my requests per second to a thousand that's my steady state of my application I don't want to be paying for a lot more requests per second that I'm not going to be using but that translates to two requests per second per physical partition or if you want to think of it in terms of the number of items that I loaded it's two requests spread across three point six million items so if you have any of those groups of three million items that have more than two requests per second then Dinamo is going to say sorry you're over over quota and so this is this is a something that surprises people an accompaniment called ravelin says you know gave an example of where they ran into this and said you know we've got our partitioning scheme it works the way it should there's no hot partitions there's no you know there's you know it's it's a very fine-grained partition with high grade high cardinality but you know we still run into this because of this dynamic where the requests per second are spread across these physical partitions at a very low level and it's really easy to exceed that just by you know random osmosis through your workload and not because they're what you would think of as hot partitions in a normal sense so and the question is and I don't I don't have a good answer so this is more of a question to to think about than me standing up and saying I've got the answers how much magic is too much magic so apparently people think that joins are a good level of magic to have auto-scaling you know I just dissed on it here but you know people are voting with their feet and a lot of people are running dynamodb and you know they're unhappy when they run into this surprise here but they get over it and you know they they pay extra whatever you know they're okay but they're apparently okay with that not okay with automatic partitioning not okay with the performance penalty of full asset transactions I'm putting a question mark there but as near as I can tell cloud spanner has not taken the market by storm so I'm gonna say that generally speaking people are not okay with that so so I think the the overarching concern is how can we help people understand what is going on inside the system without overwhelming them with details that they shouldn't have to care about so that's that's something to think about as you're you're building a database now lesson number five it's the cloud stupid so its 2018 you know at at data stacks we see over seventy percent of our customers with at least some deployment footprint in the cloud I'm sure Aaron from the last pickle has has similar stories to tell that people are overwhelmingly choosing the cloud as my infrastructure environment of choice so it Cassandra was was ahead of the market in some ways for a number of years so the 2011 cassandra summit was actually held here at the the Mission Bay conference center and one of the slides we had was was this one that said bla bla bla bla bla cloud and we're the only database that's going to support multi data center across cloud across on-premises and the market kind of looked at that and said yeah that's cool but you know why do I need that and then when we were you know in 2012 we were expanding on that and saying hey with Cassandra you know all the replicas are equal there's no fail overs that need to happen whether that's within a data center whether it's across data centers you know everything's active active multiple data centers in the cloud and it was really an uphill battle for us I said at the beginning that you know we had a lot of trouble raising our series B and a lot of that was you know investors were saying yeah but you know who's gonna actually need this that's really cool technology but you know you know you know Amazon's got dynamo Google's got you know BigTable at the time you know Twitter's using Cassandra but you know that's that's cool but how many more Twitter's are there out there and so there was a lot of a lot of skepticism that this was something that was going to go mainstream so you know 2018 like I said we've been vindicated the cloud is here I the danger is that we get complacent now and say hey you know were the best data for the clouds of course you should use us so it's time to start thinking about what do you do when your database not only runs in the cloud but runs only in the cloud or runs mostly in the cloud what kind of optimizations can you start making when you're designing for that kind of world so at the Amazon Aurora team so Amazon is doesn't give a whole lot of details about how their stuff works but this is an exception and it's actually a really really good paper this is the BigTable paper of of 2016 is what it is everyone should everyone who's interested in distributed databases should read it and basically what it says is how Aurora says instead of having it everywhere as a a my sequel and PostgreSQL compatible relational database and Amazon said hey we are spending a whole ton of money on networking and replicating between the my sequel masters and the Mike sequel slaves and it's really inefficient because I've send a full I write a full copy to disk on the master I send a full cup copy over the network to each of the slaves which each writes a full copy to its disk all of those disks are network attached storage that's the way Amazon likes to run things so I'm sending if I've got you know three replicas I'm sending you know five or six copies over the network to two discs and so they said well what happens if we push that replication down to the storage layer instead of in and we're going to separate out that storage from the you know the compute and serving layer so this is you know I think this is this is something that we need to seriously consider and this is a little bit of a sacred cow in the cassandra community because we're used to people coming from the relational world running on big sands and saying hey that sin is a big single point source of failure you need to be running against local storage on lots of smallish nodes and that's going to give you the best availability and the best performance and the best cost but in the cloud world I'm not sure that that's the best way to build a database anymore this is nd pavlo he's a professor at CMU and and he just did an interview with I don't remember the publication but he says one of the big trends I see in databases is people are going to need to separate storage from compute to get the best performance and he didn't specifically say in a cloud infrastructure world but I think that that emphasizes the point so again in terms of I don't have all the answers but here's some questions to think about what kind of infrastructure assuming you know there are a lot of people who want to use Cassandra that do want to run their own infrastructure so if we're going to start adding cloud native features how do we let people running on-premises start to leverage those as well another question is is a yearly release process or every two years release process or every three years when is for Dido going to be out in 8 but you know is that the right process for for someone building a cloud service or a maybe even a bigger issue what does open source look like in a cloud first world so Redis Labs was in the news recently they realize instead as core but some of their enterprise modules with with what's called the Commons clause and that's and basically an attempt to let a vendor like Redis Labs create a market for their software that doesn't just get cannibalized by Amazon and Microsoft I've heard a factoid that Amazon makes more money from my sequel than Oracle does I don't know the source of that but I believe that it's true so the Commons Clause basically says you know this you are allowed to use the source you are allowed to deploy it locally you're allowed to modify it you're allowed to distribute your modifications what you're not allowed to do is sell it so it so it is a very specific and target addition to the BSD license that Redis Labs runs on that's that's targeting the the cloud vendors and then the question that I've heard is well what about the a GPL doesn't that do the same thing it's it's different the main differences are the a GPL just says if you deploy this as a service you must distribute your changes back to the community so that's that would definitely make you know an Amazon Cassandra service friendlier to the community but for an Amazon Redis service but that's you know that's that still is not something that Redis labs wants to see Amazon monetizing their code Cassandra is in a different situation with the the Apache foundation the other the other difference is that the a GPL has a patent clause that a lot of companies aren't comfortable with and the Commons Clause is basically basically just it's like a writer that you can attach to a BSD or an apache license without invoking you know the the provisions of the a GPL that companies have problems with so I'm not necessarily endorsing this commons clause but it you know it's an example of how companies are trying to wrestle with and come up with solutions to you know what does infrastructure look like in a cloud first world so in summary if it's not sequel it's not a database it will take five years over five years to build a production-ready database if you're thinking of starting one do listen to your users but when your users ask for magic be careful because too much magic is a bad thing and it's the cloud and finally number six we're hiring if you're interested in working on this kind of problem then please come and talk to me thank you you",
    "segments": [
      {
        "start": 4.29,
        "duration": 6.309,
        "text": "generalize from what we're seeing both"
      },
      {
        "start": 7.479,
        "duration": 5.641,
        "text": "in the cassandra community as well as in"
      },
      {
        "start": 10.599,
        "duration": 5.43,
        "text": "the broader distributed database world"
      },
      {
        "start": 13.12,
        "duration": 6.869,
        "text": "and the first one of those is if it's"
      },
      {
        "start": 16.029,
        "duration": 7.681,
        "text": "not sequel it's not a database so nate"
      },
      {
        "start": 19.989,
        "duration": 5.76,
        "text": "just talked a little bit about you know"
      },
      {
        "start": 23.71,
        "duration": 5.459,
        "text": "thrift we're finally sunsetting thrift"
      },
      {
        "start": 25.749,
        "duration": 5.641,
        "text": "and he's a little bit sad about that but"
      },
      {
        "start": 29.169,
        "duration": 4.98,
        "text": "know this is a case where the market has"
      },
      {
        "start": 31.39,
        "duration": 4.41,
        "text": "really spoken and not just spoken but"
      },
      {
        "start": 34.149,
        "duration": 3.331,
        "text": "it's really yelled at everyone to get"
      },
      {
        "start": 35.8,
        "duration": 3.99,
        "text": "their attention and said look you know"
      },
      {
        "start": 37.48,
        "duration": 5.34,
        "text": "we really want a query language where we"
      },
      {
        "start": 39.79,
        "duration": 5.25,
        "text": "can standardize across the the different"
      },
      {
        "start": 42.82,
        "duration": 4.11,
        "text": "languages and drivers that people are"
      },
      {
        "start": 45.04,
        "duration": 9.33,
        "text": "using and they gives us some kind of"
      },
      {
        "start": 46.93,
        "duration": 10.02,
        "text": "common lingua franca so just the history"
      },
      {
        "start": 54.37,
        "duration": 4.35,
        "text": "here is that in the early 2000s people"
      },
      {
        "start": 56.95,
        "duration": 4.86,
        "text": "started realizing that hey you know"
      },
      {
        "start": 58.72,
        "duration": 5.0,
        "text": "oracle doesn't scale I need to start you"
      },
      {
        "start": 61.81,
        "duration": 6.869,
        "text": "know the state of the art then was"
      },
      {
        "start": 63.72,
        "duration": 6.34,
        "text": "sharding to be able to handle larger"
      },
      {
        "start": 68.679,
        "duration": 3.69,
        "text": "workloads as people started building"
      },
      {
        "start": 70.06,
        "duration": 6.03,
        "text": "cloud applications the first generation"
      },
      {
        "start": 72.369,
        "duration": 5.761,
        "text": "and then in 2006 and 2007 Google and"
      },
      {
        "start": 76.09,
        "duration": 4.889,
        "text": "Amazon kind of kicked off no sequel by"
      },
      {
        "start": 78.13,
        "duration": 6.18,
        "text": "publishing the BigTable and dynamo"
      },
      {
        "start": 80.979,
        "duration": 5.45,
        "text": "papers and then you know in the years"
      },
      {
        "start": 84.31,
        "duration": 4.919,
        "text": "following you have this explosion of"
      },
      {
        "start": 86.429,
        "duration": 5.411,
        "text": "scale out systems some of which are"
      },
      {
        "start": 89.229,
        "duration": 4.71,
        "text": "still around near these three at the"
      },
      {
        "start": 91.84,
        "duration": 4.5,
        "text": "bottom here are still around and a lot"
      },
      {
        "start": 93.939,
        "duration": 4.32,
        "text": "more that aren't or that you know"
      },
      {
        "start": 96.34,
        "duration": 3.599,
        "text": "they're you know nobody really uses them"
      },
      {
        "start": 98.259,
        "duration": 4.591,
        "text": "anymore if they're technically still"
      },
      {
        "start": 99.939,
        "duration": 7.17,
        "text": "around so you know in the bad old days"
      },
      {
        "start": 102.85,
        "duration": 6.6,
        "text": "you know this was this was the the world"
      },
      {
        "start": 107.109,
        "duration": 6.96,
        "text": "that we lived in in terms of being able"
      },
      {
        "start": 109.45,
        "duration": 8.879,
        "text": "to talk to those no sequel systems in"
      },
      {
        "start": 114.069,
        "duration": 6.48,
        "text": "fact you kind of had two camps in this"
      },
      {
        "start": 118.329,
        "duration": 5.43,
        "text": "this no sequel world you had the people"
      },
      {
        "start": 120.549,
        "duration": 6.75,
        "text": "who said I need to build a database"
      },
      {
        "start": 123.759,
        "duration": 5.401,
        "text": "that's going to scale and your"
      },
      {
        "start": 127.299,
        "duration": 4.591,
        "text": "relational databases don't so I'm going"
      },
      {
        "start": 129.16,
        "duration": 5.07,
        "text": "to live with some other kind of paradigm"
      },
      {
        "start": 131.89,
        "duration": 4.44,
        "text": "and then you had people who said yeah"
      },
      {
        "start": 134.23,
        "duration": 4.11,
        "text": "but I really hate sequel and"
      },
      {
        "start": 136.33,
        "duration": 3.93,
        "text": "kind of had you know these both of these"
      },
      {
        "start": 138.34,
        "duration": 5.43,
        "text": "camps and really the first camp is the"
      },
      {
        "start": 140.26,
        "duration": 5.64,
        "text": "one that kind of one that you know"
      },
      {
        "start": 143.77,
        "duration": 5.43,
        "text": "people realized that sequel actually"
      },
      {
        "start": 145.9,
        "duration": 5.22,
        "text": "gets the job done and you know started"
      },
      {
        "start": 149.2,
        "duration": 4.74,
        "text": "moving towards that in the Casandra"
      },
      {
        "start": 151.12,
        "duration": 4.62,
        "text": "space and we had some some direct"
      },
      {
        "start": 153.94,
        "duration": 5.01,
        "text": "experience with the downsides of not"
      },
      {
        "start": 155.74,
        "duration": 8.25,
        "text": "having that sequel API and one of the"
      },
      {
        "start": 158.95,
        "duration": 8.7,
        "text": "big ones is that not only is you know a"
      },
      {
        "start": 163.99,
        "duration": 5.87,
        "text": "driverless kind of RPC paradigm too"
      },
      {
        "start": 167.65,
        "duration": 5.97,
        "text": "low-level but it results in"
      },
      {
        "start": 169.86,
        "duration": 6.97,
        "text": "fragmentation in your user community so"
      },
      {
        "start": 173.62,
        "duration": 5.55,
        "text": "we had Hector we had peel ups we had SD"
      },
      {
        "start": 176.83,
        "duration": 5.1,
        "text": "annex those are just in the Java space"
      },
      {
        "start": 179.17,
        "duration": 6.41,
        "text": "you multiply that by Python by c-sharp"
      },
      {
        "start": 181.93,
        "duration": 6.38,
        "text": "by go by Ruby it was it got a lot worse"
      },
      {
        "start": 185.58,
        "duration": 7.39,
        "text": "and by the way you're seeing this today"
      },
      {
        "start": 188.31,
        "duration": 6.19,
        "text": "in in the dynamodb space where they're"
      },
      {
        "start": 192.97,
        "duration": 4.38,
        "text": "saying hey we're just gonna give you a"
      },
      {
        "start": 194.5,
        "duration": 4.41,
        "text": "REST API and that's all you need and"
      },
      {
        "start": 197.35,
        "duration": 3.419,
        "text": "people say yeah but that's not all we"
      },
      {
        "start": 198.91,
        "duration": 6.72,
        "text": "need and they start building things like"
      },
      {
        "start": 200.769,
        "duration": 9.091,
        "text": "this and it starts fragmenting so in I"
      },
      {
        "start": 205.63,
        "duration": 6.48,
        "text": "believe it was 2012 data stacks made"
      },
      {
        "start": 209.86,
        "duration": 5.67,
        "text": "this t-shirt for an internal event I"
      },
      {
        "start": 212.11,
        "duration": 5.82,
        "text": "wish I could say that it was an"
      },
      {
        "start": 215.53,
        "duration": 6.42,
        "text": "exaggeration but this was an actual"
      },
      {
        "start": 217.93,
        "duration": 5.37,
        "text": "thing that happened I KVM for those of"
      },
      {
        "start": 221.95,
        "duration": 6.33,
        "text": "you don't know I KVM as an"
      },
      {
        "start": 223.3,
        "duration": 7.88,
        "text": "implementation of Java VM on dotnet it"
      },
      {
        "start": 228.28,
        "duration": 6.33,
        "text": "was kind of a labor of love by some"
      },
      {
        "start": 231.18,
        "duration": 5.529,
        "text": "Scandinavian guy I think and he finally"
      },
      {
        "start": 234.61,
        "duration": 3.659,
        "text": "said you know I'm done with this last"
      },
      {
        "start": 236.709,
        "duration": 3.361,
        "text": "year which was kind of sad because it"
      },
      {
        "start": 238.269,
        "duration": 3.811,
        "text": "was one of the coolest you know just"
      },
      {
        "start": 240.07,
        "duration": 5.16,
        "text": "pieces of technology that I'm doing this"
      },
      {
        "start": 242.08,
        "duration": 5.159,
        "text": "because I can but back back at this time"
      },
      {
        "start": 245.23,
        "duration": 6.479,
        "text": "there wasn't a really good production"
      },
      {
        "start": 247.239,
        "duration": 6.121,
        "text": "ready c-sharp driver for Cassandra on"
      },
      {
        "start": 251.709,
        "duration": 4.021,
        "text": "top of thrift and so this guy was using"
      },
      {
        "start": 253.36,
        "duration": 5.4,
        "text": "Hector but he really wanted to do dotnet"
      },
      {
        "start": 255.73,
        "duration": 9.48,
        "text": "so he was using IBM and and yeah things"
      },
      {
        "start": 258.76,
        "duration": 6.73,
        "text": "got messy so in 2011 we started moving"
      },
      {
        "start": 265.21,
        "duration": 2.62,
        "text": "to"
      },
      {
        "start": 265.49,
        "duration": 4.859,
        "text": "Ward's in the cassandra space we started"
      },
      {
        "start": 267.83,
        "duration": 5.01,
        "text": "moving towards what can we give people"
      },
      {
        "start": 270.349,
        "duration": 4.141,
        "text": "that's higher level than thrifter that's"
      },
      {
        "start": 272.84,
        "duration": 5.37,
        "text": "going to allow us to standardize this"
      },
      {
        "start": 274.49,
        "duration": 5.94,
        "text": "this world that we've created and our"
      },
      {
        "start": 278.21,
        "duration": 6.269,
        "text": "first it actually took us three tries to"
      },
      {
        "start": 280.43,
        "duration": 7.35,
        "text": "get it right where the the first sequel"
      },
      {
        "start": 284.479,
        "duration": 7.41,
        "text": "1.0 was very thrift oriented and it"
      },
      {
        "start": 287.78,
        "duration": 7.5,
        "text": "operated in terms of slices of cells"
      },
      {
        "start": 291.889,
        "duration": 6.15,
        "text": "that you would get back and did not take"
      },
      {
        "start": 295.28,
        "duration": 5.789,
        "text": "the world on fire so we iterated I don't"
      },
      {
        "start": 298.039,
        "duration": 5.16,
        "text": "actually remember what cql to do is it"
      },
      {
        "start": 301.069,
        "duration": 4.431,
        "text": "was very forgettable but in 300 we said"
      },
      {
        "start": 303.199,
        "duration": 6.09,
        "text": "okay we're here's how we're going to map"
      },
      {
        "start": 305.5,
        "duration": 6.159,
        "text": "rows and partitions to Cassandra's"
      },
      {
        "start": 309.289,
        "duration": 6.331,
        "text": "storage engine and it worked really well"
      },
      {
        "start": 311.659,
        "duration": 5.94,
        "text": "and I think a lot of the subsequent you"
      },
      {
        "start": 315.62,
        "duration": 3.99,
        "text": "know sequel like languages in the"
      },
      {
        "start": 317.599,
        "duration": 6.331,
        "text": "database space have have built on this"
      },
      {
        "start": 319.61,
        "duration": 7.89,
        "text": "model so what you have you have cosmos"
      },
      {
        "start": 323.93,
        "duration": 8.16,
        "text": "DB you know saying that they're they're"
      },
      {
        "start": 327.5,
        "duration": 6.57,
        "text": "sequel which is you know if cosmos DB is"
      },
      {
        "start": 332.09,
        "duration": 3.96,
        "text": "is a sequel database than Cassandra is a"
      },
      {
        "start": 334.07,
        "duration": 5.129,
        "text": "sequel database I mean it's it's it's"
      },
      {
        "start": 336.05,
        "duration": 5.429,
        "text": "it's a triumph of marketing their Cloud"
      },
      {
        "start": 339.199,
        "duration": 5.761,
        "text": "Stanner is also marketing themselves as"
      },
      {
        "start": 341.479,
        "duration": 6.0,
        "text": "sequel with some more justification than"
      },
      {
        "start": 344.96,
        "duration": 4.65,
        "text": "cosmos to be can point to and then you"
      },
      {
        "start": 347.479,
        "duration": 4.62,
        "text": "have Couchbase doing a language that's"
      },
      {
        "start": 349.61,
        "duration": 4.08,
        "text": "pronounced Nichol I believe and then"
      },
      {
        "start": 352.099,
        "duration": 5.37,
        "text": "HBase has gotten in the game as well"
      },
      {
        "start": 353.69,
        "duration": 6.39,
        "text": "with a sequel in your JDBC library that"
      },
      {
        "start": 357.469,
        "duration": 4.23,
        "text": "to the best of my knowledge is Java only"
      },
      {
        "start": 360.08,
        "duration": 3.48,
        "text": "but but everyone's moving in this"
      },
      {
        "start": 361.699,
        "duration": 4.101,
        "text": "direction and I say everyone there's"
      },
      {
        "start": 363.56,
        "duration": 6.12,
        "text": "actually two really popular databases"
      },
      {
        "start": 365.8,
        "duration": 6.88,
        "text": "that are bucking this trend it continues"
      },
      {
        "start": 369.68,
        "duration": 5.16,
        "text": "to baffle me how MongoDB is or has this"
      },
      {
        "start": 372.68,
        "duration": 5.13,
        "text": "reputation for being developer friendly"
      },
      {
        "start": 374.84,
        "duration": 4.319,
        "text": "without a real query language but you"
      },
      {
        "start": 377.81,
        "duration": 4.259,
        "text": "know there you are so that's something I"
      },
      {
        "start": 379.159,
        "duration": 4.771,
        "text": "don't really understand I think I think"
      },
      {
        "start": 382.069,
        "duration": 3.961,
        "text": "DynamoDB you can explain its popularity"
      },
      {
        "start": 383.93,
        "duration": 3.87,
        "text": "just by saying hey you know you can put"
      },
      {
        "start": 386.03,
        "duration": 3.33,
        "text": "in your credit card on Amazon and get a"
      },
      {
        "start": 387.8,
        "duration": 5.1,
        "text": "database and start using it and it's"
      },
      {
        "start": 389.36,
        "duration": 4.43,
        "text": "it's that first pretty first party cloud"
      },
      {
        "start": 392.9,
        "duration": 3.49,
        "text": "advanced"
      },
      {
        "start": 393.79,
        "duration": 4.98,
        "text": "image that really makes it popular"
      },
      {
        "start": 396.39,
        "duration": 5.61,
        "text": "lesson number two for me is that it"
      },
      {
        "start": 398.77,
        "duration": 4.94,
        "text": "takes over five years to build a"
      },
      {
        "start": 402.0,
        "duration": 3.73,
        "text": "production-ready"
      },
      {
        "start": 403.71,
        "duration": 6.49,
        "text": "database that people are going to want"
      },
      {
        "start": 405.73,
        "duration": 6.45,
        "text": "to use so Kurt Monash is is an"
      },
      {
        "start": 410.2,
        "duration": 4.35,
        "text": "independent analyst and he says rule"
      },
      {
        "start": 412.18,
        "duration": 4.29,
        "text": "number one developing a good database"
      },
      {
        "start": 414.55,
        "duration": 3.69,
        "text": "requires five to seven years and tens of"
      },
      {
        "start": 416.47,
        "duration": 3.63,
        "text": "millions of thing tens of millions of"
      },
      {
        "start": 418.24,
        "duration": 6.15,
        "text": "dollars and that's if things go"
      },
      {
        "start": 420.1,
        "duration": 8.13,
        "text": "extremely well and and our experience"
      },
      {
        "start": 424.39,
        "duration": 6.39,
        "text": "kind of reflects this in the cassandra"
      },
      {
        "start": 428.23,
        "duration": 4.32,
        "text": "community and for me at data stacks I"
      },
      {
        "start": 430.78,
        "duration": 4.62,
        "text": "started putting this slide I say I'm"
      },
      {
        "start": 432.55,
        "duration": 4.59,
        "text": "gonna put together my top three mistakes"
      },
      {
        "start": 435.4,
        "duration": 3.09,
        "text": "starting data stacks and it started"
      },
      {
        "start": 437.14,
        "duration": 3.53,
        "text": "growing and then I was like you know at"
      },
      {
        "start": 438.49,
        "duration": 5.55,
        "text": "five mistakes I'd better I'd better stop"
      },
      {
        "start": 440.67,
        "duration": 4.93,
        "text": "so you know it's it's hard to build a"
      },
      {
        "start": 444.04,
        "duration": 2.82,
        "text": "database it's hard to build a company at"
      },
      {
        "start": 445.6,
        "duration": 3.51,
        "text": "the same time you are going to make some"
      },
      {
        "start": 446.86,
        "duration": 4.17,
        "text": "mistakes but I think one of the biggest"
      },
      {
        "start": 449.11,
        "duration": 6.69,
        "text": "ones that I would change if I did it"
      },
      {
        "start": 451.03,
        "duration": 9.12,
        "text": "over again is that we did a series a of"
      },
      {
        "start": 455.8,
        "duration": 6.0,
        "text": "2.5 million dollars and Kurt Kurt Monash"
      },
      {
        "start": 460.15,
        "duration": 3.42,
        "text": "who said it's going to take tens of"
      },
      {
        "start": 461.8,
        "duration": 3.87,
        "text": "millions of dollars he said that in 2013"
      },
      {
        "start": 463.57,
        "duration": 3.99,
        "text": "so even if I'd been reading his blog at"
      },
      {
        "start": 465.67,
        "duration": 5.58,
        "text": "the time it was too late for me to"
      },
      {
        "start": 467.56,
        "duration": 5.58,
        "text": "profit from that advice so we did a"
      },
      {
        "start": 471.25,
        "duration": 3.9,
        "text": "raise of two and a half million dollars"
      },
      {
        "start": 473.14,
        "duration": 5.07,
        "text": "we started getting some support"
      },
      {
        "start": 475.15,
        "duration": 5.52,
        "text": "customers this is in 2010 and we started"
      },
      {
        "start": 478.21,
        "duration": 5.1,
        "text": "building our management tool called ops"
      },
      {
        "start": 480.67,
        "duration": 3.66,
        "text": "center and then in 2011 we said hey"
      },
      {
        "start": 483.31,
        "duration": 2.43,
        "text": "we're going to be out of money in"
      },
      {
        "start": 484.33,
        "duration": 3.42,
        "text": "another month or two we'd better raise"
      },
      {
        "start": 485.74,
        "duration": 3.72,
        "text": "some more money and the investor said"
      },
      {
        "start": 487.75,
        "duration": 4.23,
        "text": "yeah but where's the customers like what"
      },
      {
        "start": 489.46,
        "duration": 4.35,
        "text": "have you built here yeah you've hired"
      },
      {
        "start": 491.98,
        "duration": 4.44,
        "text": "some people who are writing open source"
      },
      {
        "start": 493.81,
        "duration": 4.62,
        "text": "code but but what have you built so that"
      },
      {
        "start": 496.42,
        "duration": 4.62,
        "text": "was that was definitely one of my top"
      },
      {
        "start": 498.43,
        "duration": 5.94,
        "text": "lessons that I would change we did"
      },
      {
        "start": 501.04,
        "duration": 5.84,
        "text": "obviously make it through we found some"
      },
      {
        "start": 504.37,
        "duration": 5.07,
        "text": "investors crosslink capital t' who"
      },
      {
        "start": 506.88,
        "duration": 4.09,
        "text": "believed in our vision even though we"
      },
      {
        "start": 509.44,
        "duration": 4.35,
        "text": "hadn't made a whole lot of progress"
      },
      {
        "start": 510.97,
        "duration": 4.71,
        "text": "since our Series A but that was a lot of"
      },
      {
        "start": 513.79,
        "duration": 5.46,
        "text": "stress that that I wouldn't want to"
      },
      {
        "start": 515.68,
        "duration": 6.299,
        "text": "repeat so Kurt gave some examples of why"
      },
      {
        "start": 519.25,
        "duration": 4.86,
        "text": "it's gonna take longer than you think to"
      },
      {
        "start": 521.979,
        "duration": 5.161,
        "text": "build you know to go from you know hey"
      },
      {
        "start": 524.11,
        "duration": 5.43,
        "text": "I've got this this research"
      },
      {
        "start": 527.14,
        "duration": 3.06,
        "text": "ideato now I've built a working database"
      },
      {
        "start": 529.54,
        "duration": 3.45,
        "text": "out of it"
      },
      {
        "start": 530.2,
        "duration": 4.56,
        "text": "concurrent workloads you know it's gonna"
      },
      {
        "start": 532.99,
        "duration": 3.12,
        "text": "get a lot hairier in real life than"
      },
      {
        "start": 534.76,
        "duration": 5.64,
        "text": "whatever you can put together or not in"
      },
      {
        "start": 536.11,
        "duration": 7.26,
        "text": "a lab minor edge cases turn out not to"
      },
      {
        "start": 540.4,
        "duration": 4.71,
        "text": "be minor these are true I would add some"
      },
      {
        "start": 543.37,
        "duration": 3.84,
        "text": "specific examples from from the"
      },
      {
        "start": 545.11,
        "duration": 4.32,
        "text": "Cassandra space those of you have run"
      },
      {
        "start": 547.21,
        "duration": 6.51,
        "text": "Cassandra and production know you know"
      },
      {
        "start": 549.43,
        "duration": 6.21,
        "text": "hinted handoff repair counters may yeah"
      },
      {
        "start": 553.72,
        "duration": 4.2,
        "text": "if you're newer to Cassandra then maybe"
      },
      {
        "start": 555.64,
        "duration": 4.23,
        "text": "you missed the pain with counters I"
      },
      {
        "start": 557.92,
        "duration": 5.49,
        "text": "think we finally got that pretty right"
      },
      {
        "start": 559.87,
        "duration": 5.48,
        "text": "but it took us three major rewrites to"
      },
      {
        "start": 563.41,
        "duration": 4.35,
        "text": "get there"
      },
      {
        "start": 565.35,
        "duration": 5.47,
        "text": "light weight transactions another thing"
      },
      {
        "start": 567.76,
        "duration": 5.25,
        "text": "where it's it's pretty solid now but it"
      },
      {
        "start": 570.82,
        "duration": 4.92,
        "text": "did have some growing pains and then"
      },
      {
        "start": 573.01,
        "duration": 4.11,
        "text": "just building a test suite takes longer"
      },
      {
        "start": 575.74,
        "duration": 4.29,
        "text": "than you think in fact I think"
      },
      {
        "start": 577.12,
        "duration": 6.33,
        "text": "everything everything on this slide has"
      },
      {
        "start": 580.03,
        "duration": 5.1,
        "text": "had multiple major implementations and"
      },
      {
        "start": 583.45,
        "duration": 3.32,
        "text": "and you know it's just hard to get right"
      },
      {
        "start": 585.13,
        "duration": 4.11,
        "text": "the first time"
      },
      {
        "start": 586.77,
        "duration": 4.12,
        "text": "so just just as an aside one of the"
      },
      {
        "start": 589.24,
        "duration": 3.06,
        "text": "things were we're working on a data"
      },
      {
        "start": 590.89,
        "duration": 3.66,
        "text": "stacks to kind of address that last"
      },
      {
        "start": 592.3,
        "duration": 5.07,
        "text": "point of you I need to have a test suite"
      },
      {
        "start": 594.55,
        "duration": 5.31,
        "text": "that will help me understand real-world"
      },
      {
        "start": 597.37,
        "duration": 5.1,
        "text": "use cases and detect problems before"
      },
      {
        "start": 599.86,
        "duration": 4.62,
        "text": "customers hit them so we've basically"
      },
      {
        "start": 602.47,
        "duration": 4.26,
        "text": "we've built a tool called fallout and"
      },
      {
        "start": 604.48,
        "duration": 4.89,
        "text": "the simple way to think about it is"
      },
      {
        "start": 606.73,
        "duration": 7.08,
        "text": "Jepson at scale for those of you who are"
      },
      {
        "start": 609.37,
        "duration": 6.87,
        "text": "familiar with Kyle's work on Jepsen and"
      },
      {
        "start": 613.81,
        "duration": 5.19,
        "text": "and testing databases with that and so"
      },
      {
        "start": 616.24,
        "duration": 5.04,
        "text": "we have the concept of a set of clusters"
      },
      {
        "start": 619.0,
        "duration": 4.83,
        "text": "that participate in a test and a"
      },
      {
        "start": 621.28,
        "duration": 4.74,
        "text": "workload that are going to act against"
      },
      {
        "start": 623.83,
        "duration": 5.22,
        "text": "that set of clusters and we define"
      },
      {
        "start": 626.02,
        "duration": 5.7,
        "text": "phases that run in parallel and then we"
      },
      {
        "start": 629.05,
        "duration": 8.85,
        "text": "have a set of correctness checkers that"
      },
      {
        "start": 631.72,
        "duration": 9.78,
        "text": "run after that test so here's what a"
      },
      {
        "start": 637.9,
        "duration": 5.67,
        "text": "very simple workload looks like so I"
      },
      {
        "start": 641.5,
        "duration": 3.87,
        "text": "think you can can read that it's a"
      },
      {
        "start": 643.57,
        "duration": 3.96,
        "text": "little bit small but basically what we"
      },
      {
        "start": 645.37,
        "duration": 3.45,
        "text": "have is we've got three major sections"
      },
      {
        "start": 647.53,
        "duration": 3.42,
        "text": "you've got the ensemble"
      },
      {
        "start": 648.82,
        "duration": 4.05,
        "text": "you've got the phases and you've got the"
      },
      {
        "start": 650.95,
        "duration": 4.17,
        "text": "checkers and so what I've got is I'm"
      },
      {
        "start": 652.87,
        "duration": 3.45,
        "text": "defining a simple three node local"
      },
      {
        "start": 655.12,
        "duration": 4.649,
        "text": "cluster using cc"
      },
      {
        "start": 656.32,
        "duration": 5.49,
        "text": "and I'm going to insert data using"
      },
      {
        "start": 659.769,
        "duration": 3.721,
        "text": "cassandra stress while I'm bringing"
      },
      {
        "start": 661.81,
        "duration": 2.43,
        "text": "gossip up and down so you see in the"
      },
      {
        "start": 663.49,
        "duration": 3.36,
        "text": "middle section"
      },
      {
        "start": 664.24,
        "duration": 5.01,
        "text": "I've got gossip up down command disable"
      },
      {
        "start": 666.85,
        "duration": 3.419,
        "text": "gossip secondary command enable gossip"
      },
      {
        "start": 669.25,
        "duration": 7.769,
        "text": "and then I'm just going to do that"
      },
      {
        "start": 670.269,
        "duration": 8.971,
        "text": "randomly across you know 30 seconds here"
      },
      {
        "start": 677.019,
        "duration": 4.62,
        "text": "and then I'm going to be doing some"
      },
      {
        "start": 679.24,
        "duration": 4.2,
        "text": "reads in there at the same time and then"
      },
      {
        "start": 681.639,
        "duration": 4.081,
        "text": "after the test is done I'm going to go"
      },
      {
        "start": 683.44,
        "duration": 5.55,
        "text": "through and verify that actually no I'm"
      },
      {
        "start": 685.72,
        "duration": 6.33,
        "text": "getting the data out of it that I"
      },
      {
        "start": 688.99,
        "duration": 8.82,
        "text": "thought I inserted so this is this is a"
      },
      {
        "start": 692.05,
        "duration": 8.099,
        "text": "very flexible way to compose you know"
      },
      {
        "start": 697.81,
        "duration": 4.949,
        "text": "the kinds of things that you see in the"
      },
      {
        "start": 700.149,
        "duration": 5.851,
        "text": "real world where you have you know a"
      },
      {
        "start": 702.759,
        "duration": 5.041,
        "text": "bulk load happening while I'm adding a"
      },
      {
        "start": 706.0,
        "duration": 3.149,
        "text": "node to the cluster well repair is"
      },
      {
        "start": 707.8,
        "duration": 3.0,
        "text": "running well some of the nodes are"
      },
      {
        "start": 709.149,
        "duration": 3.81,
        "text": "compacting and that's the kind of thing"
      },
      {
        "start": 710.8,
        "duration": 6.779,
        "text": "that don't often get turned up in"
      },
      {
        "start": 712.959,
        "duration": 7.081,
        "text": "simpler testing approaches so it's it's"
      },
      {
        "start": 717.579,
        "duration": 3.841,
        "text": "tech coming back to the the lesson here"
      },
      {
        "start": 720.04,
        "duration": 3.57,
        "text": "of five plus years"
      },
      {
        "start": 721.42,
        "duration": 5.279,
        "text": "Cassandra became an apache top-level"
      },
      {
        "start": 723.61,
        "duration": 6.33,
        "text": "project in February of 2010 we released"
      },
      {
        "start": 726.699,
        "duration": 5.39,
        "text": "3.0 in fall of 2015 so I'd say that's"
      },
      {
        "start": 729.94,
        "duration": 5.37,
        "text": "that's right around that five-year mark"
      },
      {
        "start": 732.089,
        "duration": 5.74,
        "text": "whereas again as Nate said earlier 3.0"
      },
      {
        "start": 735.31,
        "duration": 8.07,
        "text": "has has served us well it's been a very"
      },
      {
        "start": 737.829,
        "duration": 7.38,
        "text": "stable release and a very a release that"
      },
      {
        "start": 743.38,
        "duration": 4.949,
        "text": "delivers the features that people need"
      },
      {
        "start": 745.209,
        "duration": 6.24,
        "text": "to build cloud applications and then the"
      },
      {
        "start": 748.329,
        "duration": 4.861,
        "text": "last bullet point here you know I think"
      },
      {
        "start": 751.449,
        "duration": 3.69,
        "text": "a lot of people in the open-source"
      },
      {
        "start": 753.19,
        "duration": 3.42,
        "text": "community like to think that hey we're"
      },
      {
        "start": 755.139,
        "duration": 3.06,
        "text": "special because you know we're doing"
      },
      {
        "start": 756.61,
        "duration": 3.99,
        "text": "this with open source so the rules don't"
      },
      {
        "start": 758.199,
        "duration": 5.7,
        "text": "apply to us but open source doesn't"
      },
      {
        "start": 760.6,
        "duration": 4.919,
        "text": "doesn't change this kind of rule of you"
      },
      {
        "start": 763.899,
        "duration": 3.151,
        "text": "know here's the laws of physics and you"
      },
      {
        "start": 765.519,
        "duration": 4.231,
        "text": "can't go faster than the speed of light"
      },
      {
        "start": 767.05,
        "duration": 6.81,
        "text": "open source doesn't actually make your"
      },
      {
        "start": 769.75,
        "duration": 6.42,
        "text": "database better faster I wish it did but"
      },
      {
        "start": 773.86,
        "duration": 7.55,
        "text": "it doesn't but what it does do is it"
      },
      {
        "start": 776.17,
        "duration": 8.34,
        "text": "lets you get adoption so there before"
      },
      {
        "start": 781.41,
        "duration": 5.26,
        "text": "before no sequel really got its legs"
      },
      {
        "start": 784.51,
        "duration": 2.6,
        "text": "there were a bunch of databases and"
      },
      {
        "start": 786.67,
        "duration": 3.83,
        "text": "there"
      },
      {
        "start": 787.11,
        "duration": 6.15,
        "text": "mm that we're trying to solve this you"
      },
      {
        "start": 790.5,
        "duration": 5.82,
        "text": "know I need to scale my database problem"
      },
      {
        "start": 793.26,
        "duration": 5.88,
        "text": "and for the most part nobody's nobody's"
      },
      {
        "start": 796.32,
        "duration": 5.639,
        "text": "heard of them because they were going"
      },
      {
        "start": 799.14,
        "duration": 4.47,
        "text": "after this hey I'm gonna raise some"
      },
      {
        "start": 801.959,
        "duration": 3.661,
        "text": "money and I'm gonna build a proprietary"
      },
      {
        "start": 803.61,
        "duration": 4.02,
        "text": "product and I'm gonna go try to convince"
      },
      {
        "start": 805.62,
        "duration": 5.01,
        "text": "people to use that and it's really"
      },
      {
        "start": 807.63,
        "duration": 5.88,
        "text": "really hard if your name's not Oracle to"
      },
      {
        "start": 810.63,
        "duration": 5.25,
        "text": "get companies to buy an untested"
      },
      {
        "start": 813.51,
        "duration": 5.25,
        "text": "database from you and so open source"
      },
      {
        "start": 815.88,
        "duration": 4.88,
        "text": "really kind of shortcuts that problem by"
      },
      {
        "start": 818.76,
        "duration": 5.04,
        "text": "giving them that comfort level of hey if"
      },
      {
        "start": 820.76,
        "duration": 6.16,
        "text": "you know the if the company behind this"
      },
      {
        "start": 823.8,
        "duration": 6.69,
        "text": "dies at least the source code is there"
      },
      {
        "start": 826.92,
        "duration": 5.01,
        "text": "you know I can hire engineers to work on"
      },
      {
        "start": 830.49,
        "duration": 4.44,
        "text": "that so it gives them that security"
      },
      {
        "start": 831.93,
        "duration": 4.86,
        "text": "blanket that it's not it's not a magic"
      },
      {
        "start": 834.93,
        "duration": 3.33,
        "text": "wand you know there's still you're still"
      },
      {
        "start": 836.79,
        "duration": 3.81,
        "text": "gonna have people being very risk-averse"
      },
      {
        "start": 838.26,
        "duration": 5.519,
        "text": "with their your their data that's their"
      },
      {
        "start": 840.6,
        "duration": 5.28,
        "text": "most important asset but it does for the"
      },
      {
        "start": 843.779,
        "duration": 5.401,
        "text": "people who are desperate enough that you"
      },
      {
        "start": 845.88,
        "duration": 4.92,
        "text": "know I'm in so much pain from my sequel"
      },
      {
        "start": 849.18,
        "duration": 3.57,
        "text": "not scaling that I'm willing to try"
      },
      {
        "start": 850.8,
        "duration": 6.84,
        "text": "something new then it gives you that"
      },
      {
        "start": 852.75,
        "duration": 6.93,
        "text": "edge lesson number three the customer is"
      },
      {
        "start": 857.64,
        "duration": 4.65,
        "text": "always right and here's what I mean by"
      },
      {
        "start": 859.68,
        "duration": 6.33,
        "text": "this I think and and I will raise my"
      },
      {
        "start": 862.29,
        "duration": 5.58,
        "text": "hand as being significantly responsible"
      },
      {
        "start": 866.01,
        "duration": 4.949,
        "text": "for this in the Cassander community but"
      },
      {
        "start": 867.87,
        "duration": 5.899,
        "text": "as engineers building a database we tend"
      },
      {
        "start": 870.959,
        "duration": 6.211,
        "text": "to have the attitude of you know if you"
      },
      {
        "start": 873.769,
        "duration": 5.111,
        "text": "if the database broke because you did"
      },
      {
        "start": 877.17,
        "duration": 4.409,
        "text": "something that you weren't supposed to"
      },
      {
        "start": 878.88,
        "duration": 4.23,
        "text": "do then it's your fault and and that's"
      },
      {
        "start": 881.579,
        "duration": 6.861,
        "text": "the mindset that we need to get away"
      },
      {
        "start": 883.11,
        "duration": 8.01,
        "text": "from and it stops us from learning what"
      },
      {
        "start": 888.44,
        "duration": 4.24,
        "text": "you know what problems people are trying"
      },
      {
        "start": 891.12,
        "duration": 4.409,
        "text": "to solve as quickly as we otherwise"
      },
      {
        "start": 892.68,
        "duration": 8.13,
        "text": "could so as an example I'll give it a"
      },
      {
        "start": 895.529,
        "duration": 7.231,
        "text": "couple examples so in 2012 if you did a"
      },
      {
        "start": 900.81,
        "duration": 4.5,
        "text": "sequential scan like this and said you"
      },
      {
        "start": 902.76,
        "duration": 7.98,
        "text": "know I've got billions of rows in"
      },
      {
        "start": 905.31,
        "duration": 10.769,
        "text": "showing what products from my catalogue"
      },
      {
        "start": 910.74,
        "duration": 7.789,
        "text": "users have bought then I you know I will"
      },
      {
        "start": 916.079,
        "duration": 4.341,
        "text": "run the server out of memory doing that"
      },
      {
        "start": 918.529,
        "duration": 4.8,
        "text": "Winchell's can you know this was you"
      },
      {
        "start": 920.42,
        "duration": 7.019,
        "text": "know five six years ago it would try the"
      },
      {
        "start": 923.329,
        "duration": 6.151,
        "text": "early versions of CQL would materialize"
      },
      {
        "start": 927.439,
        "duration": 3.721,
        "text": "the entire result set into memory and"
      },
      {
        "start": 929.48,
        "duration": 4.349,
        "text": "then hand it back to the class so if"
      },
      {
        "start": 931.16,
        "duration": 4.32,
        "text": "you're going to try to pull that pull a"
      },
      {
        "start": 933.829,
        "duration": 5.461,
        "text": "hundred million rows into memory that"
      },
      {
        "start": 935.48,
        "duration": 6.209,
        "text": "it's going to fall over so we we took a"
      },
      {
        "start": 939.29,
        "duration": 4.89,
        "text": "step back and well our first solution"
      },
      {
        "start": 941.689,
        "duration": 4.26,
        "text": "sorry my first solution was hey you"
      },
      {
        "start": 944.18,
        "duration": 5.069,
        "text": "shouldn't do that so we're going to add"
      },
      {
        "start": 945.949,
        "duration": 5.76,
        "text": "this check that says if you're doing a"
      },
      {
        "start": 949.249,
        "duration": 4.83,
        "text": "sequential scan I'm gonna reject that"
      },
      {
        "start": 951.709,
        "duration": 4.081,
        "text": "and I'm gonna say well if you really do"
      },
      {
        "start": 954.079,
        "duration": 4.98,
        "text": "need to do that sequential scan then use"
      },
      {
        "start": 955.79,
        "duration": 6.0,
        "text": "this magic incantation called allele"
      },
      {
        "start": 959.059,
        "duration": 4.231,
        "text": "filtering and so what people know"
      },
      {
        "start": 961.79,
        "duration": 4.08,
        "text": "there's that saying that the internet"
      },
      {
        "start": 963.29,
        "duration": 4.62,
        "text": "resists censorship interpret censorship"
      },
      {
        "start": 965.87,
        "duration": 4.56,
        "text": "is damage and routes around it your"
      },
      {
        "start": 967.91,
        "duration": 4.64,
        "text": "users interpret warnings as damage and"
      },
      {
        "start": 970.43,
        "duration": 4.199,
        "text": "route around them like that and so the"
      },
      {
        "start": 972.55,
        "duration": 3.969,
        "text": "quickest way to route around this"
      },
      {
        "start": 974.629,
        "duration": 4.231,
        "text": "warning is okay copy paste allow"
      },
      {
        "start": 976.519,
        "duration": 4.471,
        "text": "filtering I'm good and and the problem"
      },
      {
        "start": 978.86,
        "duration": 4.589,
        "text": "the reason this is really insidious is"
      },
      {
        "start": 980.99,
        "duration": 4.68,
        "text": "that no this will work fine"
      },
      {
        "start": 983.449,
        "duration": 4.651,
        "text": "with a toy data set on your laptop and"
      },
      {
        "start": 985.67,
        "duration": 4.349,
        "text": "then you go to production and you know"
      },
      {
        "start": 988.1,
        "duration": 4.229,
        "text": "everything gets slower and slower and"
      },
      {
        "start": 990.019,
        "duration": 5.221,
        "text": "then finally one of your servers OMG and"
      },
      {
        "start": 992.329,
        "duration": 5.55,
        "text": "falls over so it gets you into trouble"
      },
      {
        "start": 995.24,
        "duration": 5.069,
        "text": "and so they're they're warning was there"
      },
      {
        "start": 997.879,
        "duration": 5.551,
        "text": "for a reason but you know users aren't"
      },
      {
        "start": 1000.309,
        "duration": 4.441,
        "text": "looking to understand like the guts of"
      },
      {
        "start": 1003.43,
        "duration": 4.259,
        "text": "the database they just want to get their"
      },
      {
        "start": 1004.75,
        "duration": 4.559,
        "text": "job done so we we had to take a step"
      },
      {
        "start": 1007.689,
        "duration": 5.25,
        "text": "back and say okay how do we solve this"
      },
      {
        "start": 1009.309,
        "duration": 5.431,
        "text": "problem in a way that lets users do what"
      },
      {
        "start": 1012.939,
        "duration": 3.661,
        "text": "they want but it's also going to stop"
      },
      {
        "start": 1014.74,
        "duration": 5.399,
        "text": "the server from falling over and that's"
      },
      {
        "start": 1016.6,
        "duration": 6.089,
        "text": "where we ended paging to the the native"
      },
      {
        "start": 1020.139,
        "duration": 4.05,
        "text": "protocol where instead of giving back"
      },
      {
        "start": 1022.689,
        "duration": 3.6,
        "text": "the entire result set I'll just give"
      },
      {
        "start": 1024.189,
        "duration": 5.15,
        "text": "them back a thousand rows or so at a"
      },
      {
        "start": 1026.289,
        "duration": 7.38,
        "text": "time and that worked a lot better"
      },
      {
        "start": 1029.339,
        "duration": 5.651,
        "text": "another example and this one so spoiler"
      },
      {
        "start": 1033.669,
        "duration": 5.961,
        "text": "alert this is something that I don't"
      },
      {
        "start": 1034.99,
        "duration": 7.589,
        "text": "know the right answer to yeah like but"
      },
      {
        "start": 1039.63,
        "duration": 4.329,
        "text": "when you're doing deletes from Cassandra"
      },
      {
        "start": 1042.579,
        "duration": 3.57,
        "text": "we need to generate what's called a"
      },
      {
        "start": 1043.959,
        "duration": 2.911,
        "text": "tombstone that says this row doesn't"
      },
      {
        "start": 1046.149,
        "duration": 3.451,
        "text": "exist any"
      },
      {
        "start": 1046.87,
        "duration": 6.15,
        "text": "or and then when I'm replicating the"
      },
      {
        "start": 1049.6,
        "duration": 8.22,
        "text": "delete to the other replicas then that"
      },
      {
        "start": 1053.02,
        "duration": 6.84,
        "text": "tombstone is is what lets me ensure that"
      },
      {
        "start": 1057.82,
        "duration": 4.05,
        "text": "none of the other replicas say oh hey"
      },
      {
        "start": 1059.86,
        "duration": 4.56,
        "text": "you're missing this row let me give it"
      },
      {
        "start": 1061.87,
        "duration": 4.23,
        "text": "to you the tombstone the tombstone"
      },
      {
        "start": 1064.42,
        "duration": 3.84,
        "text": "serves as a marker to say no no it's"
      },
      {
        "start": 1066.1,
        "duration": 3.57,
        "text": "actually been deleted you're the one"
      },
      {
        "start": 1068.26,
        "duration": 3.51,
        "text": "who's missing the delete let me hand you"
      },
      {
        "start": 1069.67,
        "duration": 6.06,
        "text": "that tombstone record and so that's"
      },
      {
        "start": 1071.77,
        "duration": 7.289,
        "text": "great the problem is that when when I'm"
      },
      {
        "start": 1075.73,
        "duration": 6.99,
        "text": "when I'm going when I'm doing this and"
      },
      {
        "start": 1079.059,
        "duration": 6.841,
        "text": "I'm reconciling the results from"
      },
      {
        "start": 1082.72,
        "duration": 5.37,
        "text": "multiple replicas I need to include the"
      },
      {
        "start": 1085.9,
        "duration": 5.1,
        "text": "tombstones four rows that don't exist"
      },
      {
        "start": 1088.09,
        "duration": 4.98,
        "text": "anymore in my response if I'm doing a"
      },
      {
        "start": 1091.0,
        "duration": 4.17,
        "text": "scan across a series of rows that"
      },
      {
        "start": 1093.07,
        "duration": 4.23,
        "text": "includes some deleted rows I need to"
      },
      {
        "start": 1095.17,
        "duration": 3.9,
        "text": "include those tombstones otherwise again"
      },
      {
        "start": 1097.3,
        "duration": 3.48,
        "text": "the server's going to or the"
      },
      {
        "start": 1099.07,
        "duration": 3.27,
        "text": "coordinators going to combine the"
      },
      {
        "start": 1100.78,
        "duration": 4.29,
        "text": "responses from the different replicas"
      },
      {
        "start": 1102.34,
        "duration": 5.13,
        "text": "and say oh here this replica a had this"
      },
      {
        "start": 1105.07,
        "duration": 6.0,
        "text": "row that replicas B didn't know about"
      },
      {
        "start": 1107.47,
        "duration": 5.31,
        "text": "so clearly replica B needs to to get"
      },
      {
        "start": 1111.07,
        "duration": 4.53,
        "text": "that row and I'll hand back the client"
      },
      {
        "start": 1112.78,
        "duration": 5.31,
        "text": "the result including including that row"
      },
      {
        "start": 1115.6,
        "duration": 10.2,
        "text": "so the two stones need to participate in"
      },
      {
        "start": 1118.09,
        "duration": 9.839,
        "text": "that query response and those that means"
      },
      {
        "start": 1125.8,
        "duration": 3.96,
        "text": "that again this is something that we're"
      },
      {
        "start": 1127.929,
        "duration": 3.571,
        "text": "pulling those tombstones into memory and"
      },
      {
        "start": 1129.76,
        "duration": 3.27,
        "text": "handing them back to the coordinator so"
      },
      {
        "start": 1131.5,
        "duration": 4.11,
        "text": "there's a potential for the server to"
      },
      {
        "start": 1133.03,
        "duration": 4.89,
        "text": "fall over and run out of memory and so"
      },
      {
        "start": 1135.61,
        "duration": 4.89,
        "text": "we said okay we will take a similar"
      },
      {
        "start": 1137.92,
        "duration": 5.16,
        "text": "approach here we'll add a warning"
      },
      {
        "start": 1140.5,
        "duration": 4.71,
        "text": "threshold and an error threshold and say"
      },
      {
        "start": 1143.08,
        "duration": 5.37,
        "text": "that you know if your request generates"
      },
      {
        "start": 1145.21,
        "duration": 4.92,
        "text": "or or it scans in more than a thousand"
      },
      {
        "start": 1148.45,
        "duration": 4.979,
        "text": "tombstones will write up warning to the"
      },
      {
        "start": 1150.13,
        "duration": 4.71,
        "text": "log if it scans in more than 10,000 then"
      },
      {
        "start": 1153.429,
        "duration": 4.831,
        "text": "we'll just fail the request and we'll"
      },
      {
        "start": 1154.84,
        "duration": 6.15,
        "text": "stop we'll stop processing it and so you"
      },
      {
        "start": 1158.26,
        "duration": 6.06,
        "text": "know the obvious problem here is that if"
      },
      {
        "start": 1160.99,
        "duration": 6.27,
        "text": "I'm a developer working at my laptop I'm"
      },
      {
        "start": 1164.32,
        "duration": 4.68,
        "text": "typically not tailing the server log to"
      },
      {
        "start": 1167.26,
        "duration": 5.19,
        "text": "check the warnings that it's generating"
      },
      {
        "start": 1169.0,
        "duration": 5.22,
        "text": "so this is you know it's kind of our"
      },
      {
        "start": 1172.45,
        "duration": 5.13,
        "text": "best effort as server"
      },
      {
        "start": 1174.22,
        "duration": 4.68,
        "text": "developers but it's not super useful so"
      },
      {
        "start": 1177.58,
        "duration": 2.349,
        "text": "I would say one of the morals of this"
      },
      {
        "start": 1178.9,
        "duration": 2.68,
        "text": "story is we need"
      },
      {
        "start": 1179.929,
        "duration": 5.1,
        "text": "to add something to the native protocol"
      },
      {
        "start": 1181.58,
        "duration": 6.78,
        "text": "to be able to send not just errors back"
      },
      {
        "start": 1185.029,
        "duration": 5.071,
        "text": "to the client but warnings so we can get"
      },
      {
        "start": 1188.36,
        "duration": 4.47,
        "text": "ahead of problems like this but that's"
      },
      {
        "start": 1190.1,
        "duration": 4.73,
        "text": "not the real solution the real solution"
      },
      {
        "start": 1192.83,
        "duration": 5.28,
        "text": "is that we need to we need to get"
      },
      {
        "start": 1194.83,
        "duration": 5.679,
        "text": "tombstones out of the system much faster"
      },
      {
        "start": 1198.11,
        "duration": 5.61,
        "text": "we need to we need to get it down from"
      },
      {
        "start": 1200.509,
        "duration": 5.64,
        "text": "days or weeks which is how long it takes"
      },
      {
        "start": 1203.72,
        "duration": 4.079,
        "text": "to to run repair typically against a"
      },
      {
        "start": 1206.149,
        "duration": 3.24,
        "text": "large cluster we need to get it down to"
      },
      {
        "start": 1207.799,
        "duration": 4.891,
        "text": "hours so I think there's three"
      },
      {
        "start": 1209.389,
        "duration": 4.92,
        "text": "components to that first we need to get"
      },
      {
        "start": 1212.69,
        "duration": 4.53,
        "text": "rid of this kind of hack that we have"
      },
      {
        "start": 1214.309,
        "duration": 5.281,
        "text": "called GC grace seconds that says this"
      },
      {
        "start": 1217.22,
        "duration": 4.26,
        "text": "is how long I am going to wait until I"
      },
      {
        "start": 1219.59,
        "duration": 4.23,
        "text": "assume that everyone knows about this"
      },
      {
        "start": 1221.48,
        "duration": 5.579,
        "text": "tombstone and then it's okay to -"
      },
      {
        "start": 1223.82,
        "duration": 4.799,
        "text": "garbage collect them so we need to and"
      },
      {
        "start": 1227.059,
        "duration": 3.21,
        "text": "the real answer of when it's okay to"
      },
      {
        "start": 1228.619,
        "duration": 3.361,
        "text": "collect a tombstone is once it's been"
      },
      {
        "start": 1230.269,
        "duration": 4.471,
        "text": "repaired and we know it's on every every"
      },
      {
        "start": 1231.98,
        "duration": 6.96,
        "text": "replica so we need to we need to track"
      },
      {
        "start": 1234.74,
        "duration": 6.84,
        "text": "repair status on a token range level so"
      },
      {
        "start": 1238.94,
        "duration": 4.469,
        "text": "that we can purge tombstones more"
      },
      {
        "start": 1241.58,
        "duration": 4.169,
        "text": "aggressively and then we need to make"
      },
      {
        "start": 1243.409,
        "duration": 5.191,
        "text": "repair actually fast enough for that to"
      },
      {
        "start": 1245.749,
        "duration": 6.211,
        "text": "be a meaningful difference so this is"
      },
      {
        "start": 1248.6,
        "duration": 5.63,
        "text": "why this is this is marked your question"
      },
      {
        "start": 1251.96,
        "duration": 5.219,
        "text": "mark when we'll be able to deliver this"
      },
      {
        "start": 1254.23,
        "duration": 5.019,
        "text": "but I think that's that's the right"
      },
      {
        "start": 1257.179,
        "duration": 6.271,
        "text": "thing to do hear that that's the real"
      },
      {
        "start": 1259.249,
        "duration": 7.65,
        "text": "solution and not a band-aid another"
      },
      {
        "start": 1263.45,
        "duration": 7.38,
        "text": "example is joins and this is this is an"
      },
      {
        "start": 1266.899,
        "duration": 6.541,
        "text": "example of where you know we we started"
      },
      {
        "start": 1270.83,
        "duration": 3.809,
        "text": "off by saying if we're if you're going"
      },
      {
        "start": 1273.44,
        "duration": 2.91,
        "text": "to scale out and you're going to"
      },
      {
        "start": 1274.639,
        "duration": 4.681,
        "text": "partition your data across multiple"
      },
      {
        "start": 1276.35,
        "duration": 5.34,
        "text": "machines then you want to satisfy your"
      },
      {
        "start": 1279.32,
        "duration": 6.15,
        "text": "requests from one machine at a time you"
      },
      {
        "start": 1281.69,
        "duration": 5.489,
        "text": "don't want to have to correlate data"
      },
      {
        "start": 1285.47,
        "duration": 3.24,
        "text": "from multiple machines and so we're not"
      },
      {
        "start": 1287.179,
        "duration": 2.641,
        "text": "going to do joins we're going to do"
      },
      {
        "start": 1288.71,
        "duration": 3.12,
        "text": "we're going to encourage the"
      },
      {
        "start": 1289.82,
        "duration": 3.9,
        "text": "normalization will give you collections"
      },
      {
        "start": 1291.83,
        "duration": 5.719,
        "text": "will give you user-defined types to"
      },
      {
        "start": 1293.72,
        "duration": 6.569,
        "text": "enable to you to denormalize more easily"
      },
      {
        "start": 1297.549,
        "duration": 4.57,
        "text": "but what we're seeing is that people are"
      },
      {
        "start": 1300.289,
        "duration": 3.36,
        "text": "still doing client-side joins people are"
      },
      {
        "start": 1302.119,
        "duration": 4.02,
        "text": "saying you know what denormalization"
      },
      {
        "start": 1303.649,
        "duration": 4.53,
        "text": "isn't always the right answer and since"
      },
      {
        "start": 1306.139,
        "duration": 5.04,
        "text": "you're not giving me joins in cql I'm"
      },
      {
        "start": 1308.179,
        "duration": 4.561,
        "text": "gonna do it in my client code so that's"
      },
      {
        "start": 1311.179,
        "duration": 3.241,
        "text": "something where I'm still not sure"
      },
      {
        "start": 1312.74,
        "duration": 3.18,
        "text": "that we should be giving people joins"
      },
      {
        "start": 1314.42,
        "duration": 2.85,
        "text": "but maybe we should think harder about"
      },
      {
        "start": 1315.92,
        "duration": 4.05,
        "text": "that instead of saying no you're doing"
      },
      {
        "start": 1317.27,
        "duration": 4.38,
        "text": "it wrong so one of the attempts we we"
      },
      {
        "start": 1319.97,
        "duration": 2.94,
        "text": "made is we said okay we'll give you a"
      },
      {
        "start": 1321.65,
        "duration": 4.61,
        "text": "materialized views that are going to"
      },
      {
        "start": 1322.91,
        "duration": 7.29,
        "text": "make it even easier to denormalize so"
      },
      {
        "start": 1326.26,
        "duration": 8.71,
        "text": "again the the implementation has proved"
      },
      {
        "start": 1330.2,
        "duration": 7.08,
        "text": "tougher than we thought but I still"
      },
      {
        "start": 1334.97,
        "duration": 4.86,
        "text": "think it's a useful construct but I'm"
      },
      {
        "start": 1337.28,
        "duration": 5.52,
        "text": "not I'm not convinced that that's going"
      },
      {
        "start": 1339.83,
        "duration": 5.46,
        "text": "to solve the the demand that's there"
      },
      {
        "start": 1342.8,
        "duration": 5.879,
        "text": "that people are asking for and there's"
      },
      {
        "start": 1345.29,
        "duration": 5.88,
        "text": "some prior art now where there where"
      },
      {
        "start": 1348.679,
        "duration": 5.431,
        "text": "there wasn't five years ago so both"
      },
      {
        "start": 1351.17,
        "duration": 5.91,
        "text": "Google Cloud spanner and Microsoft"
      },
      {
        "start": 1354.11,
        "duration": 5.79,
        "text": "cosmos TV those both came out last year"
      },
      {
        "start": 1357.08,
        "duration": 5.22,
        "text": "and they're both unapologetically saying"
      },
      {
        "start": 1359.9,
        "duration": 4.409,
        "text": "hey we're gonna let you do joins and in"
      },
      {
        "start": 1362.3,
        "duration": 4.41,
        "text": "the so there's there's two objections to"
      },
      {
        "start": 1364.309,
        "duration": 4.62,
        "text": "joins one is the performance objection"
      },
      {
        "start": 1366.71,
        "duration": 4.5,
        "text": "that I mentioned but the other objection"
      },
      {
        "start": 1368.929,
        "duration": 6.301,
        "text": "is that you know if I'm not guaranteeing"
      },
      {
        "start": 1371.21,
        "duration": 6.0,
        "text": "acid consistency across multiple rows"
      },
      {
        "start": 1375.23,
        "duration": 3.57,
        "text": "and across multiple partitions then"
      },
      {
        "start": 1377.21,
        "duration": 4.8,
        "text": "isn't it dangerous to be giving people"
      },
      {
        "start": 1378.8,
        "duration": 4.759,
        "text": "joins and so so cloud spanner is out"
      },
      {
        "start": 1382.01,
        "duration": 3.87,
        "text": "there saying yes that's absolutely"
      },
      {
        "start": 1383.559,
        "duration": 4.151,
        "text": "dangerous and that's why we're going to"
      },
      {
        "start": 1385.88,
        "duration": 3.84,
        "text": "be all acid all the time"
      },
      {
        "start": 1387.71,
        "duration": 4.44,
        "text": "two-phase commit across paksas"
      },
      {
        "start": 1389.72,
        "duration": 4.83,
        "text": "replication groups and we're just going"
      },
      {
        "start": 1392.15,
        "duration": 5.67,
        "text": "to solve that problem that way spoiler"
      },
      {
        "start": 1394.55,
        "duration": 4.47,
        "text": "alert well not a spoiler alert I'm gonna"
      },
      {
        "start": 1397.82,
        "duration": 2.85,
        "text": "actually have a slide about this in a"
      },
      {
        "start": 1399.02,
        "duration": 5.85,
        "text": "second that's the wrong solution by the"
      },
      {
        "start": 1400.67,
        "duration": 6.18,
        "text": "way but cosmos DB said hey we're not"
      },
      {
        "start": 1404.87,
        "duration": 3.33,
        "text": "giving you cross partition acid and"
      },
      {
        "start": 1406.85,
        "duration": 3.66,
        "text": "we're gonna give you joins anyway"
      },
      {
        "start": 1408.2,
        "duration": 3.84,
        "text": "because that's actually useful even if"
      },
      {
        "start": 1410.51,
        "duration": 4.049,
        "text": "you're eventually consistent across"
      },
      {
        "start": 1412.04,
        "duration": 4.65,
        "text": "partitions and and again that's what"
      },
      {
        "start": 1414.559,
        "duration": 4.351,
        "text": "people are doing in the wild people are"
      },
      {
        "start": 1416.69,
        "duration": 4.14,
        "text": "building applications doing client-side"
      },
      {
        "start": 1418.91,
        "duration": 4.62,
        "text": "joins that are eventually consistent"
      },
      {
        "start": 1420.83,
        "duration": 4.229,
        "text": "across partition so I kind of think we"
      },
      {
        "start": 1423.53,
        "duration": 4.5,
        "text": "need to get over it and start thinking"
      },
      {
        "start": 1425.059,
        "duration": 6.181,
        "text": "about adding joins and as I have on the"
      },
      {
        "start": 1428.03,
        "duration": 5.34,
        "text": "slide we could we could take baby steps"
      },
      {
        "start": 1431.24,
        "duration": 4.38,
        "text": "there if we wanted to we could add joins"
      },
      {
        "start": 1433.37,
        "duration": 5.61,
        "text": "within a single partition only that's"
      },
      {
        "start": 1435.62,
        "duration": 5.34,
        "text": "still significantly useful but it's"
      },
      {
        "start": 1438.98,
        "duration": 3.54,
        "text": "going to it's not going to open up the"
      },
      {
        "start": 1440.96,
        "duration": 4.23,
        "text": "can of worms of perform"
      },
      {
        "start": 1442.52,
        "duration": 7.38,
        "text": "and consistency the Waycross partition"
      },
      {
        "start": 1445.19,
        "duration": 7.1,
        "text": "would and then finally words of wisdom"
      },
      {
        "start": 1449.9,
        "duration": 6.3,
        "text": "from an elder statesman of no sequel"
      },
      {
        "start": 1452.29,
        "duration": 5.98,
        "text": "that I haven't lived up to very well but"
      },
      {
        "start": 1456.2,
        "duration": 4.02,
        "text": "I still think this is true that you know"
      },
      {
        "start": 1458.27,
        "duration": 5.58,
        "text": "every time you're adding a feature to"
      },
      {
        "start": 1460.22,
        "duration": 5.37,
        "text": "Cassandra or to your infrastructure and"
      },
      {
        "start": 1463.85,
        "duration": 3.81,
        "text": "you say you know this is really hard to"
      },
      {
        "start": 1465.59,
        "duration": 5.64,
        "text": "figure out what the right value for this"
      },
      {
        "start": 1467.66,
        "duration": 5.63,
        "text": "should for this performance parameters"
      },
      {
        "start": 1471.23,
        "duration": 6.15,
        "text": "should be I'll just make it configurable"
      },
      {
        "start": 1473.29,
        "duration": 8.02,
        "text": "that's probably the wrong solution and"
      },
      {
        "start": 1477.38,
        "duration": 6.78,
        "text": "that gets me to my next topic which is"
      },
      {
        "start": 1481.31,
        "duration": 6.99,
        "text": "that just enough magic is good that's"
      },
      {
        "start": 1484.16,
        "duration": 7.73,
        "text": "what customers want but too much magic"
      },
      {
        "start": 1488.3,
        "duration": 5.76,
        "text": "is bad so some of this is that people"
      },
      {
        "start": 1491.89,
        "duration": 5.86,
        "text": "are going to tell you what they think"
      },
      {
        "start": 1494.06,
        "duration": 6.81,
        "text": "you want to hear and even when that"
      },
      {
        "start": 1497.75,
        "duration": 5.34,
        "text": "doesn't make sense so you you know every"
      },
      {
        "start": 1500.87,
        "duration": 4.86,
        "text": "year or so you have a company that says"
      },
      {
        "start": 1503.09,
        "duration": 4.83,
        "text": "our database has figured out a way to"
      },
      {
        "start": 1505.73,
        "duration": 4.74,
        "text": "defeat the cap theorem and we were we"
      },
      {
        "start": 1507.92,
        "duration": 4.5,
        "text": "are both consistent and available even"
      },
      {
        "start": 1510.47,
        "duration": 4.74,
        "text": "when Network partitions happen and notes"
      },
      {
        "start": 1512.42,
        "duration": 4.26,
        "text": "go down and then it's like the game you"
      },
      {
        "start": 1515.21,
        "duration": 3.33,
        "text": "play is okay let me read your"
      },
      {
        "start": 1516.68,
        "duration": 4.26,
        "text": "architecture and figure out your where"
      },
      {
        "start": 1518.54,
        "duration": 4.56,
        "text": "you screwed up because you know it's not"
      },
      {
        "start": 1520.94,
        "duration": 4.98,
        "text": "just a good idea it's the law"
      },
      {
        "start": 1523.1,
        "duration": 4.89,
        "text": "or another one our Q can guarantee"
      },
      {
        "start": 1525.92,
        "duration": 6.0,
        "text": "exactly once delivery you know that's"
      },
      {
        "start": 1527.99,
        "duration": 7.56,
        "text": "it's basically a variant of hey we've"
      },
      {
        "start": 1531.92,
        "duration": 6.21,
        "text": "defeated the cap theorem or another fun"
      },
      {
        "start": 1535.55,
        "duration": 4.92,
        "text": "one is just to read the fine print when"
      },
      {
        "start": 1538.13,
        "duration": 4.83,
        "text": "when vendors tell you we have an SLA"
      },
      {
        "start": 1540.47,
        "duration": 6.99,
        "text": "with this many nines for instance that"
      },
      {
        "start": 1542.96,
        "duration": 7.25,
        "text": "one of the cloud database vendors says"
      },
      {
        "start": 1547.46,
        "duration": 5.82,
        "text": "we have a four nines availability SLA"
      },
      {
        "start": 1550.21,
        "duration": 5.71,
        "text": "fine print if we don't achieve this we"
      },
      {
        "start": 1553.28,
        "duration": 4.65,
        "text": "will refund ten percent of your money so"
      },
      {
        "start": 1555.92,
        "duration": 3.96,
        "text": "you know I take away from that you don't"
      },
      {
        "start": 1557.93,
        "duration": 4.68,
        "text": "have a whole lot of faith in your in"
      },
      {
        "start": 1559.88,
        "duration": 5.55,
        "text": "your SLA that you're advertising but"
      },
      {
        "start": 1562.61,
        "duration": 4.89,
        "text": "it's not just about over promising but"
      },
      {
        "start": 1565.43,
        "duration": 5.34,
        "text": "even if you actually promise something"
      },
      {
        "start": 1567.5,
        "duration": 5.16,
        "text": "and deliver it it's not necessarily a"
      },
      {
        "start": 1570.77,
        "duration": 4.2,
        "text": "good idea so I think one of the best"
      },
      {
        "start": 1572.66,
        "duration": 5.91,
        "text": "examples of this is"
      },
      {
        "start": 1574.97,
        "duration": 10.22,
        "text": "a feature that the researchers at Brown"
      },
      {
        "start": 1578.57,
        "duration": 8.82,
        "text": "added to H store in 2012 so H store was"
      },
      {
        "start": 1585.19,
        "duration": 4.69,
        "text": "you know for those of you familiar with"
      },
      {
        "start": 1587.39,
        "duration": 4.68,
        "text": "Mike Stonebreaker C store was was the"
      },
      {
        "start": 1589.88,
        "duration": 4.52,
        "text": "columnar store that became Vertica H"
      },
      {
        "start": 1592.07,
        "duration": 5.82,
        "text": "store is the horizontally partitioned"
      },
      {
        "start": 1594.4,
        "duration": 5.05,
        "text": "database that became volt dB so there's"
      },
      {
        "start": 1597.89,
        "duration": 5.399,
        "text": "that that kind of naming convention that"
      },
      {
        "start": 1599.45,
        "duration": 6.78,
        "text": "he likes there but they added a feature"
      },
      {
        "start": 1603.289,
        "duration": 6.841,
        "text": "to H store that says hey if you tell me"
      },
      {
        "start": 1606.23,
        "duration": 7.199,
        "text": "your queries implemented as Java stored"
      },
      {
        "start": 1610.13,
        "duration": 6.48,
        "text": "procedures I will automatically generate"
      },
      {
        "start": 1613.429,
        "duration": 7.531,
        "text": "the optimal partitioning for your data"
      },
      {
        "start": 1616.61,
        "duration": 7.11,
        "text": "and now and I'll spread it across my"
      },
      {
        "start": 1620.96,
        "duration": 4.709,
        "text": "cluster according to that partitioning"
      },
      {
        "start": 1623.72,
        "duration": 4.079,
        "text": "and some of your transactions are going"
      },
      {
        "start": 1625.669,
        "duration": 3.99,
        "text": "to be cross partitioned and those are"
      },
      {
        "start": 1627.799,
        "duration": 4.291,
        "text": "going to be slower but I've done my best"
      },
      {
        "start": 1629.659,
        "duration": 4.921,
        "text": "to minimize that and in fact I can prove"
      },
      {
        "start": 1632.09,
        "duration": 3.81,
        "text": "that my partitioning is better than"
      },
      {
        "start": 1634.58,
        "duration": 4.709,
        "text": "anything you could come up with if you"
      },
      {
        "start": 1635.9,
        "duration": 6.6,
        "text": "try to tweak it manually so this is this"
      },
      {
        "start": 1639.289,
        "duration": 6.421,
        "text": "is a really cool idea the problem is"
      },
      {
        "start": 1642.5,
        "duration": 6.5,
        "text": "that users looked at that and said wow"
      },
      {
        "start": 1645.71,
        "duration": 6.92,
        "text": "that's actually really confusing because"
      },
      {
        "start": 1649.0,
        "duration": 5.77,
        "text": "literally I don't understand when my"
      },
      {
        "start": 1652.63,
        "duration": 5.65,
        "text": "transactions are a hundred times slower"
      },
      {
        "start": 1654.77,
        "duration": 6.539,
        "text": "than they usually are so when I have to"
      },
      {
        "start": 1658.28,
        "duration": 5.31,
        "text": "fall back to the to a two-phase commit"
      },
      {
        "start": 1661.309,
        "duration": 4.591,
        "text": "across multiple partitions it gets"
      },
      {
        "start": 1663.59,
        "duration": 4.319,
        "text": "really slow and it's not obvious at all"
      },
      {
        "start": 1665.9,
        "duration": 3.96,
        "text": "why so this is a case where you know"
      },
      {
        "start": 1667.909,
        "duration": 3.931,
        "text": "there's this magic solution and it does"
      },
      {
        "start": 1669.86,
        "duration": 2.79,
        "text": "what it's promised but users don't like"
      },
      {
        "start": 1671.84,
        "duration": 3.03,
        "text": "it anyway"
      },
      {
        "start": 1672.65,
        "duration": 5.25,
        "text": "and so you can see that the the"
      },
      {
        "start": 1674.87,
        "duration": 5.64,
        "text": "state-of-the-art in in databases today"
      },
      {
        "start": 1677.9,
        "duration": 4.409,
        "text": "you've got Cassandra you've got cloud"
      },
      {
        "start": 1680.51,
        "duration": 3.899,
        "text": "spanner you've got dynamo DB you've got"
      },
      {
        "start": 1682.309,
        "duration": 5.25,
        "text": "cosmos DB I think those are the four"
      },
      {
        "start": 1684.409,
        "duration": 6.331,
        "text": "most relevant databases today and they"
      },
      {
        "start": 1687.559,
        "duration": 4.891,
        "text": "all use explicit partitioning where the"
      },
      {
        "start": 1690.74,
        "duration": 4.23,
        "text": "user says here's what I want my"
      },
      {
        "start": 1692.45,
        "duration": 4.89,
        "text": "partition key to be and and the database"
      },
      {
        "start": 1694.97,
        "duration": 4.589,
        "text": "respects that a couple years ago Google"
      },
      {
        "start": 1697.34,
        "duration": 4.98,
        "text": "announced that cloud spanner was coming"
      },
      {
        "start": 1699.559,
        "duration": 4.98,
        "text": "really soon and some people at data"
      },
      {
        "start": 1702.32,
        "duration": 3.839,
        "text": "stacks asked me hey what should I expect"
      },
      {
        "start": 1704.539,
        "duration": 2.37,
        "text": "from cloud spanner should we be really"
      },
      {
        "start": 1706.159,
        "duration": 2.4,
        "text": "it should be"
      },
      {
        "start": 1706.909,
        "duration": 4.26,
        "text": "about this new company new competitor"
      },
      {
        "start": 1708.559,
        "duration": 4.23,
        "text": "and basically what I wrote was you know"
      },
      {
        "start": 1711.169,
        "duration": 5.97,
        "text": "Google's actually been really open about"
      },
      {
        "start": 1712.789,
        "duration": 7.051,
        "text": "how cloud spanner works and you know"
      },
      {
        "start": 1717.139,
        "duration": 4.11,
        "text": "just from the architecture you can tell"
      },
      {
        "start": 1719.84,
        "duration": 4.259,
        "text": "that it's going to be really slow on"
      },
      {
        "start": 1721.249,
        "duration": 5.88,
        "text": "writes and not only that but the writes"
      },
      {
        "start": 1724.099,
        "duration": 4.29,
        "text": "are going to slow down reads as well"
      },
      {
        "start": 1727.129,
        "duration": 4.05,
        "text": "because there's there's gonna be some"
      },
      {
        "start": 1728.389,
        "duration": 4.92,
        "text": "interference there and and both of those"
      },
      {
        "start": 1731.179,
        "duration": 8.011,
        "text": "predictions turned out to be absolutely"
      },
      {
        "start": 1733.309,
        "duration": 9.18,
        "text": "correct and late last year Todd lip con"
      },
      {
        "start": 1739.19,
        "duration": 5.809,
        "text": "at Cloudera did a benchmark of cloud"
      },
      {
        "start": 1742.489,
        "duration": 5.701,
        "text": "spanner against Apache CUDA which is a"
      },
      {
        "start": 1744.999,
        "duration": 8.35,
        "text": "hybrid transactional analytical database"
      },
      {
        "start": 1748.19,
        "duration": 6.839,
        "text": "that he works on so the what I would"
      },
      {
        "start": 1753.349,
        "duration": 4.471,
        "text": "what one of the interesting things about"
      },
      {
        "start": 1755.029,
        "duration": 4.98,
        "text": "this actually is that unlike cosmos to"
      },
      {
        "start": 1757.82,
        "duration": 4.02,
        "text": "be in dynamodb where you you pay by"
      },
      {
        "start": 1760.009,
        "duration": 3.99,
        "text": "here's how many requests per second I"
      },
      {
        "start": 1761.84,
        "duration": 5.009,
        "text": "want cloud spanner actually charges you"
      },
      {
        "start": 1763.999,
        "duration": 4.471,
        "text": "by node so you can actually take the the"
      },
      {
        "start": 1766.849,
        "duration": 4.621,
        "text": "node pricing that Google gives you and"
      },
      {
        "start": 1768.47,
        "duration": 5.399,
        "text": "you can stand up a virtual machine with"
      },
      {
        "start": 1771.47,
        "duration": 4.379,
        "text": "similar specs and you can do a more or"
      },
      {
        "start": 1773.869,
        "duration": 4.02,
        "text": "less apples to apples comparison there"
      },
      {
        "start": 1775.849,
        "duration": 4.08,
        "text": "so that's that's really useful and very"
      },
      {
        "start": 1777.889,
        "duration": 3.96,
        "text": "kind of them the problem is that that"
      },
      {
        "start": 1779.929,
        "duration": 4.73,
        "text": "cloud standard doesn't come off looking"
      },
      {
        "start": 1781.849,
        "duration": 9.18,
        "text": "very good when you actually benchmark it"
      },
      {
        "start": 1784.659,
        "duration": 8.531,
        "text": "and my guess is that Cassandra is"
      },
      {
        "start": 1791.029,
        "duration": 6.15,
        "text": "probably around twice as fast as kudu"
      },
      {
        "start": 1793.19,
        "duration": 6.39,
        "text": "that would be my guess so you know we're"
      },
      {
        "start": 1797.179,
        "duration": 5.521,
        "text": "talking 50 times slower than Cassandra"
      },
      {
        "start": 1799.58,
        "duration": 5.669,
        "text": "and this this is a result so this is a"
      },
      {
        "start": 1802.7,
        "duration": 5.699,
        "text": "result of google promising magic and"
      },
      {
        "start": 1805.249,
        "duration": 5.28,
        "text": "delivering it in the sense that you know"
      },
      {
        "start": 1808.399,
        "duration": 4.13,
        "text": "they're saying if you want acid"
      },
      {
        "start": 1810.529,
        "duration": 5.52,
        "text": "transactions across multiple partitions"
      },
      {
        "start": 1812.529,
        "duration": 7.02,
        "text": "we will give that to you and they do the"
      },
      {
        "start": 1816.049,
        "duration": 8.43,
        "text": "problem is that the the price you pay is"
      },
      {
        "start": 1819.549,
        "duration": 7.901,
        "text": "unacceptable for most applications one"
      },
      {
        "start": 1824.479,
        "duration": 4.471,
        "text": "more one more bit of magic I'm going to"
      },
      {
        "start": 1827.45,
        "duration": 4.829,
        "text": "pick on the cloud vendors one more time"
      },
      {
        "start": 1828.95,
        "duration": 7.17,
        "text": "here with the auto scaling and dynamodb"
      },
      {
        "start": 1832.279,
        "duration": 5.701,
        "text": "and the way this works is you"
      },
      {
        "start": 1836.12,
        "duration": 3.72,
        "text": "when you say I need this many requests"
      },
      {
        "start": 1837.98,
        "duration": 6.45,
        "text": "per second and I need this much storage"
      },
      {
        "start": 1839.84,
        "duration": 6.72,
        "text": "then DynamoDB divides that up across"
      },
      {
        "start": 1844.43,
        "duration": 4.41,
        "text": "what it calls partitions I'm gonna call"
      },
      {
        "start": 1846.56,
        "duration": 4.08,
        "text": "call that P P here for physical"
      },
      {
        "start": 1848.84,
        "duration": 4.26,
        "text": "partition which is not the same as a"
      },
      {
        "start": 1850.64,
        "duration": 4.53,
        "text": "logical partition logical partition is"
      },
      {
        "start": 1853.1,
        "duration": 4.59,
        "text": "no that's my partition key on my table"
      },
      {
        "start": 1855.17,
        "duration": 4.59,
        "text": "this is this is like a shard a shard"
      },
      {
        "start": 1857.69,
        "duration": 4.62,
        "text": "might be a better word here and so"
      },
      {
        "start": 1859.76,
        "duration": 5.43,
        "text": "there's a formula for how you how many"
      },
      {
        "start": 1862.31,
        "duration": 4.5,
        "text": "shards it's going to create and then"
      },
      {
        "start": 1865.19,
        "duration": 8.1,
        "text": "there's there's two problems with this"
      },
      {
        "start": 1866.81,
        "duration": 8.37,
        "text": "one is that as you grow those shards as"
      },
      {
        "start": 1873.29,
        "duration": 4.02,
        "text": "they grow beyond 10 gigabytes that's the"
      },
      {
        "start": 1875.18,
        "duration": 4.62,
        "text": "limit then it's going to split into two"
      },
      {
        "start": 1877.31,
        "duration": 5.61,
        "text": "and each of those two shut to new shards"
      },
      {
        "start": 1879.8,
        "duration": 6.48,
        "text": "is going to have half the operations per"
      },
      {
        "start": 1882.92,
        "duration": 5.88,
        "text": "second that the parent shard had before"
      },
      {
        "start": 1886.28,
        "duration": 5.54,
        "text": "and so you can have this kind of instead"
      },
      {
        "start": 1888.8,
        "duration": 7.59,
        "text": "of all of my my shards have the same"
      },
      {
        "start": 1891.82,
        "duration": 6.61,
        "text": "request ceilings which is relatively"
      },
      {
        "start": 1896.39,
        "duration": 5.55,
        "text": "easy you're easy to understand you can"
      },
      {
        "start": 1898.43,
        "duration": 6.48,
        "text": "have some shards with a factor of two or"
      },
      {
        "start": 1901.94,
        "duration": 4.62,
        "text": "four or even eight times less which"
      },
      {
        "start": 1904.91,
        "duration": 3.48,
        "text": "which starts to get hard to understand"
      },
      {
        "start": 1906.56,
        "duration": 3.78,
        "text": "but there's there's another implication"
      },
      {
        "start": 1908.39,
        "duration": 5.18,
        "text": "here that's I think even more"
      },
      {
        "start": 1910.34,
        "duration": 8.94,
        "text": "problematic which is around bulk loads"
      },
      {
        "start": 1913.57,
        "duration": 7.75,
        "text": "so if you you can over provision for a"
      },
      {
        "start": 1919.28,
        "duration": 4.08,
        "text": "bulk load the problem is that when you"
      },
      {
        "start": 1921.32,
        "duration": 3.33,
        "text": "scale back that over-provisioning things"
      },
      {
        "start": 1923.36,
        "duration": 2.94,
        "text": "don't work the way you'd expect so"
      },
      {
        "start": 1924.65,
        "duration": 5.25,
        "text": "here's an example with a little bit of"
      },
      {
        "start": 1926.3,
        "duration": 7.38,
        "text": "math so I want to bulk load 200 million"
      },
      {
        "start": 1929.9,
        "duration": 7.1,
        "text": "one kilobyte items and I want to do that"
      },
      {
        "start": 1933.68,
        "duration": 7.47,
        "text": "in an hour so I need a write capacity of"
      },
      {
        "start": 1937.0,
        "duration": 6.04,
        "text": "55,000 requests per second and that and"
      },
      {
        "start": 1941.15,
        "duration": 4.98,
        "text": "that's going to translate into 55"
      },
      {
        "start": 1943.04,
        "duration": 5.19,
        "text": "physical partitions so I do my bulk load"
      },
      {
        "start": 1946.13,
        "duration": 4.56,
        "text": "it takes an hour I'm all good and now I"
      },
      {
        "start": 1948.23,
        "duration": 4.35,
        "text": "want to dial back my requests per second"
      },
      {
        "start": 1950.69,
        "duration": 3.96,
        "text": "to a thousand that's my steady state of"
      },
      {
        "start": 1952.58,
        "duration": 4.11,
        "text": "my application I don't want to be paying"
      },
      {
        "start": 1954.65,
        "duration": 3.96,
        "text": "for a lot more requests per second that"
      },
      {
        "start": 1956.69,
        "duration": 4.8,
        "text": "I'm not going to be using but that"
      },
      {
        "start": 1958.61,
        "duration": 5.7,
        "text": "translates to two requests per second"
      },
      {
        "start": 1961.49,
        "duration": 4.11,
        "text": "per physical partition or if you want to"
      },
      {
        "start": 1964.31,
        "duration": 3.99,
        "text": "think of it in terms of the number of"
      },
      {
        "start": 1965.6,
        "duration": 4.16,
        "text": "items that I loaded it's two requests"
      },
      {
        "start": 1968.3,
        "duration": 4.25,
        "text": "spread across three point"
      },
      {
        "start": 1969.76,
        "duration": 5.37,
        "text": "six million items so if you have any of"
      },
      {
        "start": 1972.55,
        "duration": 4.56,
        "text": "those groups of three million items that"
      },
      {
        "start": 1975.13,
        "duration": 3.93,
        "text": "have more than two requests per second"
      },
      {
        "start": 1977.11,
        "duration": 5.15,
        "text": "then Dinamo is going to say sorry you're"
      },
      {
        "start": 1979.06,
        "duration": 5.88,
        "text": "over over quota and so this is this is a"
      },
      {
        "start": 1982.26,
        "duration": 5.74,
        "text": "something that surprises people an"
      },
      {
        "start": 1984.94,
        "duration": 4.77,
        "text": "accompaniment called ravelin says you"
      },
      {
        "start": 1988.0,
        "duration": 3.51,
        "text": "know gave an example of where they ran"
      },
      {
        "start": 1989.71,
        "duration": 4.05,
        "text": "into this and said you know we've got"
      },
      {
        "start": 1991.51,
        "duration": 3.81,
        "text": "our partitioning scheme it works the way"
      },
      {
        "start": 1993.76,
        "duration": 5.28,
        "text": "it should there's no hot partitions"
      },
      {
        "start": 1995.32,
        "duration": 5.85,
        "text": "there's no you know there's you know"
      },
      {
        "start": 1999.04,
        "duration": 6.81,
        "text": "it's it's a very fine-grained partition"
      },
      {
        "start": 2001.17,
        "duration": 6.81,
        "text": "with high grade high cardinality but you"
      },
      {
        "start": 2005.85,
        "duration": 4.89,
        "text": "know we still run into this because of"
      },
      {
        "start": 2007.98,
        "duration": 6.21,
        "text": "this dynamic where the requests per"
      },
      {
        "start": 2010.74,
        "duration": 6.51,
        "text": "second are spread across these physical"
      },
      {
        "start": 2014.19,
        "duration": 5.16,
        "text": "partitions at a very low level and it's"
      },
      {
        "start": 2017.25,
        "duration": 4.65,
        "text": "really easy to exceed that just by you"
      },
      {
        "start": 2019.35,
        "duration": 4.89,
        "text": "know random osmosis through your"
      },
      {
        "start": 2021.9,
        "duration": 4.02,
        "text": "workload and not because they're what"
      },
      {
        "start": 2024.24,
        "duration": 5.61,
        "text": "you would think of as hot partitions in"
      },
      {
        "start": 2025.92,
        "duration": 5.34,
        "text": "a normal sense so and the question is"
      },
      {
        "start": 2029.85,
        "duration": 4.41,
        "text": "and I don't I don't have a good answer"
      },
      {
        "start": 2031.26,
        "duration": 5.28,
        "text": "so this is more of a question to to"
      },
      {
        "start": 2034.26,
        "duration": 4.59,
        "text": "think about than me standing up and"
      },
      {
        "start": 2036.54,
        "duration": 5.31,
        "text": "saying I've got the answers how much"
      },
      {
        "start": 2038.85,
        "duration": 5.94,
        "text": "magic is too much magic so apparently"
      },
      {
        "start": 2041.85,
        "duration": 5.58,
        "text": "people think that joins are a good level"
      },
      {
        "start": 2044.79,
        "duration": 5.76,
        "text": "of magic to have auto-scaling you know I"
      },
      {
        "start": 2047.43,
        "duration": 4.56,
        "text": "just dissed on it here but you know"
      },
      {
        "start": 2050.55,
        "duration": 3.629,
        "text": "people are voting with their feet and a"
      },
      {
        "start": 2051.99,
        "duration": 4.71,
        "text": "lot of people are running dynamodb and"
      },
      {
        "start": 2054.179,
        "duration": 4.411,
        "text": "you know they're unhappy when they run"
      },
      {
        "start": 2056.7,
        "duration": 3.75,
        "text": "into this surprise here but they get"
      },
      {
        "start": 2058.59,
        "duration": 5.7,
        "text": "over it and you know they they pay extra"
      },
      {
        "start": 2060.45,
        "duration": 6.209,
        "text": "whatever you know they're okay but"
      },
      {
        "start": 2064.29,
        "duration": 5.609,
        "text": "they're apparently okay with that not"
      },
      {
        "start": 2066.659,
        "duration": 6.631,
        "text": "okay with automatic partitioning not"
      },
      {
        "start": 2069.899,
        "duration": 7.23,
        "text": "okay with the performance penalty of"
      },
      {
        "start": 2073.29,
        "duration": 6.15,
        "text": "full asset transactions I'm putting a"
      },
      {
        "start": 2077.129,
        "duration": 3.091,
        "text": "question mark there but as near as I can"
      },
      {
        "start": 2079.44,
        "duration": 3.03,
        "text": "tell"
      },
      {
        "start": 2080.22,
        "duration": 4.949,
        "text": "cloud spanner has not taken the market"
      },
      {
        "start": 2082.47,
        "duration": 4.76,
        "text": "by storm so I'm gonna say that generally"
      },
      {
        "start": 2085.169,
        "duration": 5.811,
        "text": "speaking people are not okay with that"
      },
      {
        "start": 2087.23,
        "duration": 7.87,
        "text": "so so I think the the overarching"
      },
      {
        "start": 2090.98,
        "duration": 7.06,
        "text": "concern is how can we help people"
      },
      {
        "start": 2095.1,
        "duration": 4.44,
        "text": "understand what is going on inside the"
      },
      {
        "start": 2098.04,
        "duration": 3.48,
        "text": "system without overwhelming them with"
      },
      {
        "start": 2099.54,
        "duration": 4.59,
        "text": "details that they shouldn't have"
      },
      {
        "start": 2101.52,
        "duration": 6.0,
        "text": "to care about so that's that's something"
      },
      {
        "start": 2104.13,
        "duration": 8.55,
        "text": "to think about as you're you're building"
      },
      {
        "start": 2107.52,
        "duration": 11.1,
        "text": "a database now lesson number five it's"
      },
      {
        "start": 2112.68,
        "duration": 9.09,
        "text": "the cloud stupid so its 2018 you know at"
      },
      {
        "start": 2118.62,
        "duration": 5.13,
        "text": "at data stacks we see over seventy"
      },
      {
        "start": 2121.77,
        "duration": 5.79,
        "text": "percent of our customers with at least"
      },
      {
        "start": 2123.75,
        "duration": 6.42,
        "text": "some deployment footprint in the cloud"
      },
      {
        "start": 2127.56,
        "duration": 4.92,
        "text": "I'm sure Aaron from the last pickle has"
      },
      {
        "start": 2130.17,
        "duration": 5.13,
        "text": "has similar stories to tell that people"
      },
      {
        "start": 2132.48,
        "duration": 5.9,
        "text": "are overwhelmingly choosing the cloud as"
      },
      {
        "start": 2135.3,
        "duration": 6.39,
        "text": "my infrastructure environment of choice"
      },
      {
        "start": 2138.38,
        "duration": 5.08,
        "text": "so it Cassandra was was ahead of the"
      },
      {
        "start": 2141.69,
        "duration": 6.15,
        "text": "market in some ways for a number of"
      },
      {
        "start": 2143.46,
        "duration": 7.2,
        "text": "years so the 2011 cassandra summit was"
      },
      {
        "start": 2147.84,
        "duration": 5.07,
        "text": "actually held here at the the Mission"
      },
      {
        "start": 2150.66,
        "duration": 5.09,
        "text": "Bay conference center and one of the"
      },
      {
        "start": 2152.91,
        "duration": 7.35,
        "text": "slides we had was was this one that said"
      },
      {
        "start": 2155.75,
        "duration": 6.58,
        "text": "bla bla bla bla bla cloud and we're the"
      },
      {
        "start": 2160.26,
        "duration": 4.5,
        "text": "only database that's going to support"
      },
      {
        "start": 2162.33,
        "duration": 5.19,
        "text": "multi data center across cloud across"
      },
      {
        "start": 2164.76,
        "duration": 4.14,
        "text": "on-premises and the market kind of"
      },
      {
        "start": 2167.52,
        "duration": 4.62,
        "text": "looked at that and said yeah that's cool"
      },
      {
        "start": 2168.9,
        "duration": 6.33,
        "text": "but you know why do I need that and then"
      },
      {
        "start": 2172.14,
        "duration": 5.19,
        "text": "when we were you know in 2012 we were"
      },
      {
        "start": 2175.23,
        "duration": 4.14,
        "text": "expanding on that and saying hey with"
      },
      {
        "start": 2177.33,
        "duration": 3.96,
        "text": "Cassandra you know all the replicas are"
      },
      {
        "start": 2179.37,
        "duration": 3.72,
        "text": "equal there's no fail overs that need to"
      },
      {
        "start": 2181.29,
        "duration": 3.27,
        "text": "happen whether that's within a data"
      },
      {
        "start": 2183.09,
        "duration": 3.66,
        "text": "center whether it's across data centers"
      },
      {
        "start": 2184.56,
        "duration": 4.08,
        "text": "you know everything's active active"
      },
      {
        "start": 2186.75,
        "duration": 4.44,
        "text": "multiple data centers in the cloud and"
      },
      {
        "start": 2188.64,
        "duration": 4.95,
        "text": "it was really an uphill battle for us I"
      },
      {
        "start": 2191.19,
        "duration": 4.26,
        "text": "said at the beginning that you know we"
      },
      {
        "start": 2193.59,
        "duration": 4.44,
        "text": "had a lot of trouble raising our series"
      },
      {
        "start": 2195.45,
        "duration": 4.62,
        "text": "B and a lot of that was you know"
      },
      {
        "start": 2198.03,
        "duration": 3.51,
        "text": "investors were saying yeah but you know"
      },
      {
        "start": 2200.07,
        "duration": 4.8,
        "text": "who's gonna actually need this that's"
      },
      {
        "start": 2201.54,
        "duration": 5.52,
        "text": "really cool technology but you know you"
      },
      {
        "start": 2204.87,
        "duration": 4.14,
        "text": "know you know Amazon's got dynamo"
      },
      {
        "start": 2207.06,
        "duration": 5.4,
        "text": "Google's got you know BigTable at the"
      },
      {
        "start": 2209.01,
        "duration": 6.3,
        "text": "time you know Twitter's using Cassandra"
      },
      {
        "start": 2212.46,
        "duration": 4.08,
        "text": "but you know that's that's cool but how"
      },
      {
        "start": 2215.31,
        "duration": 3.3,
        "text": "many more Twitter's are there out there"
      },
      {
        "start": 2216.54,
        "duration": 3.92,
        "text": "and so there was a lot of a lot of"
      },
      {
        "start": 2218.61,
        "duration": 5.67,
        "text": "skepticism that this was something that"
      },
      {
        "start": 2220.46,
        "duration": 5.65,
        "text": "was going to go mainstream so you know"
      },
      {
        "start": 2224.28,
        "duration": 6.48,
        "text": "2018 like I said we've been vindicated"
      },
      {
        "start": 2226.11,
        "duration": 6.78,
        "text": "the cloud is here I the danger is that"
      },
      {
        "start": 2230.76,
        "duration": 3.18,
        "text": "we get complacent now and say hey you"
      },
      {
        "start": 2232.89,
        "duration": 2.52,
        "text": "know were the best data"
      },
      {
        "start": 2233.94,
        "duration": 6.169,
        "text": "for the clouds of course you should use"
      },
      {
        "start": 2235.41,
        "duration": 7.439,
        "text": "us so it's time to start thinking about"
      },
      {
        "start": 2240.109,
        "duration": 5.74,
        "text": "what do you do when your database not"
      },
      {
        "start": 2242.849,
        "duration": 4.98,
        "text": "only runs in the cloud but runs only in"
      },
      {
        "start": 2245.849,
        "duration": 4.141,
        "text": "the cloud or runs mostly in the cloud"
      },
      {
        "start": 2247.829,
        "duration": 5.101,
        "text": "what kind of optimizations can you start"
      },
      {
        "start": 2249.99,
        "duration": 6.3,
        "text": "making when you're designing for that"
      },
      {
        "start": 2252.93,
        "duration": 7.56,
        "text": "kind of world so at the Amazon Aurora"
      },
      {
        "start": 2256.29,
        "duration": 5.88,
        "text": "team so Amazon is doesn't give a whole"
      },
      {
        "start": 2260.49,
        "duration": 4.829,
        "text": "lot of details about how their stuff"
      },
      {
        "start": 2262.17,
        "duration": 5.49,
        "text": "works but this is an exception and it's"
      },
      {
        "start": 2265.319,
        "duration": 6.421,
        "text": "actually a really really good paper this"
      },
      {
        "start": 2267.66,
        "duration": 4.85,
        "text": "is the BigTable paper of of 2016 is what"
      },
      {
        "start": 2271.74,
        "duration": 2.609,
        "text": "it is"
      },
      {
        "start": 2272.51,
        "duration": 3.16,
        "text": "everyone should everyone who's"
      },
      {
        "start": 2274.349,
        "duration": 3.27,
        "text": "interested in distributed databases"
      },
      {
        "start": 2275.67,
        "duration": 4.409,
        "text": "should read it and basically what it"
      },
      {
        "start": 2277.619,
        "duration": 4.771,
        "text": "says is how Aurora says instead of"
      },
      {
        "start": 2280.079,
        "duration": 4.29,
        "text": "having it everywhere as a a my sequel"
      },
      {
        "start": 2282.39,
        "duration": 5.699,
        "text": "and PostgreSQL compatible relational"
      },
      {
        "start": 2284.369,
        "duration": 7.101,
        "text": "database and Amazon said hey we are"
      },
      {
        "start": 2288.089,
        "duration": 6.421,
        "text": "spending a whole ton of money on"
      },
      {
        "start": 2291.47,
        "duration": 4.869,
        "text": "networking and replicating between the"
      },
      {
        "start": 2294.51,
        "duration": 3.72,
        "text": "my sequel masters and the Mike sequel"
      },
      {
        "start": 2296.339,
        "duration": 4.351,
        "text": "slaves and it's really inefficient"
      },
      {
        "start": 2298.23,
        "duration": 4.32,
        "text": "because I've send a full I write a full"
      },
      {
        "start": 2300.69,
        "duration": 3.57,
        "text": "copy to disk on the master I send a full"
      },
      {
        "start": 2302.55,
        "duration": 3.93,
        "text": "cup copy over the network to each of the"
      },
      {
        "start": 2304.26,
        "duration": 4.65,
        "text": "slaves which each writes a full copy to"
      },
      {
        "start": 2306.48,
        "duration": 4.109,
        "text": "its disk all of those disks are network"
      },
      {
        "start": 2308.91,
        "duration": 3.84,
        "text": "attached storage that's the way Amazon"
      },
      {
        "start": 2310.589,
        "duration": 4.141,
        "text": "likes to run things so I'm sending if"
      },
      {
        "start": 2312.75,
        "duration": 4.829,
        "text": "I've got you know three replicas I'm"
      },
      {
        "start": 2314.73,
        "duration": 6.359,
        "text": "sending you know five or six copies over"
      },
      {
        "start": 2317.579,
        "duration": 6.721,
        "text": "the network to two discs and so they"
      },
      {
        "start": 2321.089,
        "duration": 6.02,
        "text": "said well what happens if we push that"
      },
      {
        "start": 2324.3,
        "duration": 4.83,
        "text": "replication down to the storage layer"
      },
      {
        "start": 2327.109,
        "duration": 5.051,
        "text": "instead of in and we're going to"
      },
      {
        "start": 2329.13,
        "duration": 6.449,
        "text": "separate out that storage from the you"
      },
      {
        "start": 2332.16,
        "duration": 6.959,
        "text": "know the compute and serving layer so"
      },
      {
        "start": 2335.579,
        "duration": 4.561,
        "text": "this is you know I think this is this is"
      },
      {
        "start": 2339.119,
        "duration": 2.97,
        "text": "something that we need to seriously"
      },
      {
        "start": 2340.14,
        "duration": 3.719,
        "text": "consider and this is a little bit of a"
      },
      {
        "start": 2342.089,
        "duration": 3.51,
        "text": "sacred cow in the cassandra community"
      },
      {
        "start": 2343.859,
        "duration": 3.271,
        "text": "because we're used to people coming from"
      },
      {
        "start": 2345.599,
        "duration": 3.421,
        "text": "the relational world running on big"
      },
      {
        "start": 2347.13,
        "duration": 4.8,
        "text": "sands and saying hey that sin is a big"
      },
      {
        "start": 2349.02,
        "duration": 5.52,
        "text": "single point source of failure you need"
      },
      {
        "start": 2351.93,
        "duration": 6.149,
        "text": "to be running against local storage on"
      },
      {
        "start": 2354.54,
        "duration": 5.34,
        "text": "lots of smallish nodes and that's going"
      },
      {
        "start": 2358.079,
        "duration": 4.731,
        "text": "to give you the best availability and"
      },
      {
        "start": 2359.88,
        "duration": 5.79,
        "text": "the best performance and the best cost"
      },
      {
        "start": 2362.81,
        "duration": 3.44,
        "text": "but in the cloud world I'm not sure that"
      },
      {
        "start": 2365.67,
        "duration": 3.28,
        "text": "that's"
      },
      {
        "start": 2366.25,
        "duration": 6.42,
        "text": "the best way to build a database anymore"
      },
      {
        "start": 2368.95,
        "duration": 7.14,
        "text": "this is nd pavlo he's a professor at CMU"
      },
      {
        "start": 2372.67,
        "duration": 5.04,
        "text": "and and he just did an interview with I"
      },
      {
        "start": 2376.09,
        "duration": 3.96,
        "text": "don't remember the publication but he"
      },
      {
        "start": 2377.71,
        "duration": 6.08,
        "text": "says one of the big trends I see in"
      },
      {
        "start": 2380.05,
        "duration": 6.87,
        "text": "databases is people are going to need to"
      },
      {
        "start": 2383.79,
        "duration": 5.53,
        "text": "separate storage from compute to get the"
      },
      {
        "start": 2386.92,
        "duration": 3.63,
        "text": "best performance and he didn't"
      },
      {
        "start": 2389.32,
        "duration": 2.67,
        "text": "specifically say in a cloud"
      },
      {
        "start": 2390.55,
        "duration": 5.58,
        "text": "infrastructure world but I think that"
      },
      {
        "start": 2391.99,
        "duration": 5.37,
        "text": "that emphasizes the point so again in"
      },
      {
        "start": 2396.13,
        "duration": 3.9,
        "text": "terms of I don't have all the answers"
      },
      {
        "start": 2397.36,
        "duration": 5.85,
        "text": "but here's some questions to think about"
      },
      {
        "start": 2400.03,
        "duration": 4.86,
        "text": "what kind of infrastructure assuming you"
      },
      {
        "start": 2403.21,
        "duration": 4.95,
        "text": "know there are a lot of people who want"
      },
      {
        "start": 2404.89,
        "duration": 5.22,
        "text": "to use Cassandra that do want to run"
      },
      {
        "start": 2408.16,
        "duration": 4.68,
        "text": "their own infrastructure so if we're"
      },
      {
        "start": 2410.11,
        "duration": 4.77,
        "text": "going to start adding cloud native"
      },
      {
        "start": 2412.84,
        "duration": 4.17,
        "text": "features how do we let people running"
      },
      {
        "start": 2414.88,
        "duration": 3.59,
        "text": "on-premises start to leverage those as"
      },
      {
        "start": 2417.01,
        "duration": 4.32,
        "text": "well"
      },
      {
        "start": 2418.47,
        "duration": 4.78,
        "text": "another question is is a yearly release"
      },
      {
        "start": 2421.33,
        "duration": 4.26,
        "text": "process or every two years release"
      },
      {
        "start": 2423.25,
        "duration": 6.63,
        "text": "process or every three years when is for"
      },
      {
        "start": 2425.59,
        "duration": 7.35,
        "text": "Dido going to be out in 8 but you know"
      },
      {
        "start": 2429.88,
        "duration": 6.77,
        "text": "is that the right process for for"
      },
      {
        "start": 2432.94,
        "duration": 6.66,
        "text": "someone building a cloud service or a"
      },
      {
        "start": 2436.65,
        "duration": 6.12,
        "text": "maybe even a bigger issue what does open"
      },
      {
        "start": 2439.6,
        "duration": 6.57,
        "text": "source look like in a cloud first world"
      },
      {
        "start": 2442.77,
        "duration": 8.26,
        "text": "so Redis Labs was in the news recently"
      },
      {
        "start": 2446.17,
        "duration": 8.19,
        "text": "they realize instead as core but some of"
      },
      {
        "start": 2451.03,
        "duration": 5.82,
        "text": "their enterprise modules with with"
      },
      {
        "start": 2454.36,
        "duration": 5.94,
        "text": "what's called the Commons clause and"
      },
      {
        "start": 2456.85,
        "duration": 8.04,
        "text": "that's and basically an attempt to let a"
      },
      {
        "start": 2460.3,
        "duration": 7.97,
        "text": "vendor like Redis Labs create a market"
      },
      {
        "start": 2464.89,
        "duration": 6.26,
        "text": "for their software that doesn't just get"
      },
      {
        "start": 2468.27,
        "duration": 5.71,
        "text": "cannibalized by Amazon and Microsoft"
      },
      {
        "start": 2471.15,
        "duration": 4.57,
        "text": "I've heard a factoid that Amazon makes"
      },
      {
        "start": 2473.98,
        "duration": 4.8,
        "text": "more money from my sequel than Oracle"
      },
      {
        "start": 2475.72,
        "duration": 7.05,
        "text": "does I don't know the source of that but"
      },
      {
        "start": 2478.78,
        "duration": 7.14,
        "text": "I believe that it's true so the Commons"
      },
      {
        "start": 2482.77,
        "duration": 5.46,
        "text": "Clause basically says you know this you"
      },
      {
        "start": 2485.92,
        "duration": 3.96,
        "text": "are allowed to use the source you are"
      },
      {
        "start": 2488.23,
        "duration": 2.73,
        "text": "allowed to deploy it locally you're"
      },
      {
        "start": 2489.88,
        "duration": 2.7,
        "text": "allowed to modify it"
      },
      {
        "start": 2490.96,
        "duration": 3.48,
        "text": "you're allowed to distribute your"
      },
      {
        "start": 2492.58,
        "duration": 5.0,
        "text": "modifications what you're not allowed to"
      },
      {
        "start": 2494.44,
        "duration": 6.8,
        "text": "do is sell it so it so it is a very"
      },
      {
        "start": 2497.58,
        "duration": 3.66,
        "text": "specific and target"
      },
      {
        "start": 2501.619,
        "duration": 6.781,
        "text": "addition to the BSD license that Redis"
      },
      {
        "start": 2505.49,
        "duration": 5.849,
        "text": "Labs runs on that's that's targeting the"
      },
      {
        "start": 2508.4,
        "duration": 4.77,
        "text": "the cloud vendors and then the question"
      },
      {
        "start": 2511.339,
        "duration": 3.871,
        "text": "that I've heard is well what about the a"
      },
      {
        "start": 2513.17,
        "duration": 4.5,
        "text": "GPL doesn't that do the same thing it's"
      },
      {
        "start": 2515.21,
        "duration": 5.039,
        "text": "it's different the main differences are"
      },
      {
        "start": 2517.67,
        "duration": 4.829,
        "text": "the a GPL just says if you deploy this"
      },
      {
        "start": 2520.249,
        "duration": 4.741,
        "text": "as a service you must distribute your"
      },
      {
        "start": 2522.499,
        "duration": 4.891,
        "text": "changes back to the community so that's"
      },
      {
        "start": 2524.99,
        "duration": 6.029,
        "text": "that would definitely make you know an"
      },
      {
        "start": 2527.39,
        "duration": 7.35,
        "text": "Amazon Cassandra service friendlier to"
      },
      {
        "start": 2531.019,
        "duration": 6.871,
        "text": "the community but for an Amazon Redis"
      },
      {
        "start": 2534.74,
        "duration": 4.98,
        "text": "service but that's you know that's that"
      },
      {
        "start": 2537.89,
        "duration": 4.859,
        "text": "still is not something that Redis labs"
      },
      {
        "start": 2539.72,
        "duration": 5.01,
        "text": "wants to see Amazon monetizing their"
      },
      {
        "start": 2542.749,
        "duration": 4.07,
        "text": "code Cassandra is in a different"
      },
      {
        "start": 2544.73,
        "duration": 4.319,
        "text": "situation with the the Apache foundation"
      },
      {
        "start": 2546.819,
        "duration": 5.98,
        "text": "the other the other difference is that"
      },
      {
        "start": 2549.049,
        "duration": 5.73,
        "text": "the a GPL has a patent clause that a lot"
      },
      {
        "start": 2552.799,
        "duration": 4.23,
        "text": "of companies aren't comfortable with and"
      },
      {
        "start": 2554.779,
        "duration": 5.22,
        "text": "the Commons Clause is basically"
      },
      {
        "start": 2557.029,
        "duration": 4.98,
        "text": "basically just it's like a writer that"
      },
      {
        "start": 2559.999,
        "duration": 5.731,
        "text": "you can attach to a BSD or an apache"
      },
      {
        "start": 2562.009,
        "duration": 6.0,
        "text": "license without invoking you know the"
      },
      {
        "start": 2565.73,
        "duration": 5.129,
        "text": "the provisions of the a GPL that"
      },
      {
        "start": 2568.009,
        "duration": 5.52,
        "text": "companies have problems with so I'm not"
      },
      {
        "start": 2570.859,
        "duration": 4.831,
        "text": "necessarily endorsing this commons"
      },
      {
        "start": 2573.529,
        "duration": 6.421,
        "text": "clause but it you know it's an example"
      },
      {
        "start": 2575.69,
        "duration": 6.69,
        "text": "of how companies are trying to wrestle"
      },
      {
        "start": 2579.95,
        "duration": 4.46,
        "text": "with and come up with solutions to you"
      },
      {
        "start": 2582.38,
        "duration": 7.739,
        "text": "know what does infrastructure look like"
      },
      {
        "start": 2584.41,
        "duration": 7.899,
        "text": "in a cloud first world so in summary if"
      },
      {
        "start": 2590.119,
        "duration": 4.531,
        "text": "it's not sequel it's not a database it"
      },
      {
        "start": 2592.309,
        "duration": 4.111,
        "text": "will take five years over five years to"
      },
      {
        "start": 2594.65,
        "duration": 3.839,
        "text": "build a production-ready database if"
      },
      {
        "start": 2596.42,
        "duration": 4.109,
        "text": "you're thinking of starting one do"
      },
      {
        "start": 2598.489,
        "duration": 4.201,
        "text": "listen to your users but when your users"
      },
      {
        "start": 2600.529,
        "duration": 4.53,
        "text": "ask for magic be careful because too"
      },
      {
        "start": 2602.69,
        "duration": 4.5,
        "text": "much magic is a bad thing and it's the"
      },
      {
        "start": 2605.059,
        "duration": 4.23,
        "text": "cloud and finally number six we're"
      },
      {
        "start": 2607.19,
        "duration": 4.109,
        "text": "hiring if you're interested in working"
      },
      {
        "start": 2609.289,
        "duration": 5.0,
        "text": "on this kind of problem then please come"
      },
      {
        "start": 2611.299,
        "duration": 5.05,
        "text": "and talk to me thank you"
      },
      {
        "start": 2614.289,
        "duration": 2.06,
        "text": "you"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T05:55:21.229170+00:00"
}