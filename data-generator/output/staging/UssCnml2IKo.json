{
  "video_id": "UssCnml2IKo",
  "title": "DS220.12 Counters | Data Modeling with Apache Cassandra",
  "description": "#DataStaxAcademy #DS220\nDS220.12 Counters\nIn this unit, we will be moving on to the counters data type. A counter is a data type where you can store a 64-bit signed integer that can be incremented or decremented. These could be useful, depending on your data model.\n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-14T09:24:10Z",
  "thumbnail": "https://i.ytimg.com/vi/UssCnml2IKo/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "data_modeling",
    "cassandra",
    "tutorial",
    "apache_cassandra",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=UssCnml2IKo",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] all right let's move on to counters this is another data type that might come in handy as you're considering your data model design so what is a counter seems self-explanatory huh well a counter is a data type where you can have a column that stores a 64-bit signed integer what else oh yes oh yes they could be incremented or decremented and the values are changed using the cql update command counters need to have a specially dedicated table however as the only thing allowed in the table with counters is the primary key columns which can't be counters themselves and the counter column or columns so let me just reiterate primary key columns and counter column or columns yep you can have more than one counter column in your table if you want to let's take a look at a little example shall we let's say we own a ranch that'd be cool we always cows and stuff anyway our ranch specializes in cows for whatever reason we are particularly interested in how many moos each of our cows make well for that we need some way to count up moves well for that we need some way to count up the moose so we're going to create a table we're going to call that moo counts we have a cow name column which is also going to be our primary key and the moo count counter column so far so good now to add to our moot count we will use the update command to update the moot counts table presumably every time we hear moo or moods in this example we updated the mooc count to increment the value whatever it happens to be at that time by 8 where the cow is named betsy got it okay some caveats you have to remember with counters cassandra is a distributed system if you haven't learned that by now we've got bigger problems than counters seeing as how it is a distributed system replication can sometimes cause consistency errors in your counter columns be aware that this can happen also you cannot insert or assign values to counters the default starting value of a counter is zero another thing counters must be the only non-primary key column or columns counters are not idempotent in datasets enterprise you cannot use using timestamp or using ttls to update the counter columns you must use the update command and finally counter columns cannot be indexed or deleted okay i think that's enough about counters to make you dangerous there's a small exercise you should do to enforce your understanding",
    "segments": [
      {
        "start": 1.47,
        "duration": 5.32,
        "text": "[Music]"
      },
      {
        "start": 7.279,
        "duration": 2.561,
        "text": "all right"
      },
      {
        "start": 7.919,
        "duration": 3.041,
        "text": "let's move on to counters this is"
      },
      {
        "start": 9.84,
        "duration": 2.4,
        "text": "another data type"
      },
      {
        "start": 10.96,
        "duration": 3.2,
        "text": "that might come in handy as you're"
      },
      {
        "start": 12.24,
        "duration": 3.68,
        "text": "considering your data model design"
      },
      {
        "start": 14.16,
        "duration": 3.36,
        "text": "so what is a counter seems"
      },
      {
        "start": 15.92,
        "duration": 4.0,
        "text": "self-explanatory huh"
      },
      {
        "start": 17.52,
        "duration": 4.8,
        "text": "well a counter is a data type where you"
      },
      {
        "start": 19.92,
        "duration": 5.519,
        "text": "can have a column that stores a 64-bit"
      },
      {
        "start": 22.32,
        "duration": 5.279,
        "text": "signed integer what else oh yes oh yes"
      },
      {
        "start": 25.439,
        "duration": 3.521,
        "text": "they could be incremented or decremented"
      },
      {
        "start": 27.599,
        "duration": 4.401,
        "text": "and the values are changed"
      },
      {
        "start": 28.96,
        "duration": 5.119,
        "text": "using the cql update command counters"
      },
      {
        "start": 32.0,
        "duration": 2.64,
        "text": "need to have a specially dedicated table"
      },
      {
        "start": 34.079,
        "duration": 2.401,
        "text": "however"
      },
      {
        "start": 34.64,
        "duration": 3.919,
        "text": "as the only thing allowed in the table"
      },
      {
        "start": 36.48,
        "duration": 4.079,
        "text": "with counters is the primary key columns"
      },
      {
        "start": 38.559,
        "duration": 4.0,
        "text": "which can't be counters themselves and"
      },
      {
        "start": 40.559,
        "duration": 4.16,
        "text": "the counter column or columns"
      },
      {
        "start": 42.559,
        "duration": 5.041,
        "text": "so let me just reiterate primary key"
      },
      {
        "start": 44.719,
        "duration": 4.641,
        "text": "columns and counter column or columns"
      },
      {
        "start": 47.6,
        "duration": 3.52,
        "text": "yep you can have more than one counter"
      },
      {
        "start": 49.36,
        "duration": 3.44,
        "text": "column in your table if you want to"
      },
      {
        "start": 51.12,
        "duration": 3.52,
        "text": "let's take a look at a little example"
      },
      {
        "start": 52.8,
        "duration": 3.2,
        "text": "shall we let's say we own a ranch"
      },
      {
        "start": 54.64,
        "duration": 3.36,
        "text": "that'd be cool we always cows and stuff"
      },
      {
        "start": 56.0,
        "duration": 4.719,
        "text": "anyway our ranch specializes"
      },
      {
        "start": 58.0,
        "duration": 5.12,
        "text": "in cows for whatever reason we are"
      },
      {
        "start": 60.719,
        "duration": 5.44,
        "text": "particularly interested in how many moos"
      },
      {
        "start": 63.12,
        "duration": 3.359,
        "text": "each of our cows make well for that we"
      },
      {
        "start": 66.159,
        "duration": 2.881,
        "text": "need"
      },
      {
        "start": 66.479,
        "duration": 4.96,
        "text": "some way to count up moves well for that"
      },
      {
        "start": 69.04,
        "duration": 4.0,
        "text": "we need some way to count up the moose"
      },
      {
        "start": 71.439,
        "duration": 3.04,
        "text": "so we're going to create a table we're"
      },
      {
        "start": 73.04,
        "duration": 3.92,
        "text": "going to call that moo counts"
      },
      {
        "start": 74.479,
        "duration": 4.0,
        "text": "we have a cow name column which is also"
      },
      {
        "start": 76.96,
        "duration": 4.32,
        "text": "going to be our primary key"
      },
      {
        "start": 78.479,
        "duration": 3.921,
        "text": "and the moo count counter column so far"
      },
      {
        "start": 81.28,
        "duration": 2.96,
        "text": "so good"
      },
      {
        "start": 82.4,
        "duration": 3.92,
        "text": "now to add to our moot count we will use"
      },
      {
        "start": 84.24,
        "duration": 3.04,
        "text": "the update command to update the moot"
      },
      {
        "start": 86.32,
        "duration": 3.119,
        "text": "counts table"
      },
      {
        "start": 87.28,
        "duration": 3.199,
        "text": "presumably every time we hear moo or"
      },
      {
        "start": 89.439,
        "duration": 3.121,
        "text": "moods"
      },
      {
        "start": 90.479,
        "duration": 3.761,
        "text": "in this example we updated the mooc"
      },
      {
        "start": 92.56,
        "duration": 3.519,
        "text": "count to increment the value"
      },
      {
        "start": 94.24,
        "duration": 4.0,
        "text": "whatever it happens to be at that time"
      },
      {
        "start": 96.079,
        "duration": 5.921,
        "text": "by 8 where the cow is named"
      },
      {
        "start": 98.24,
        "duration": 5.36,
        "text": "betsy got it okay some caveats you have"
      },
      {
        "start": 102.0,
        "duration": 3.759,
        "text": "to remember with counters"
      },
      {
        "start": 103.6,
        "duration": 3.28,
        "text": "cassandra is a distributed system if you"
      },
      {
        "start": 105.759,
        "duration": 3.761,
        "text": "haven't learned that by now"
      },
      {
        "start": 106.88,
        "duration": 4.8,
        "text": "we've got bigger problems than counters"
      },
      {
        "start": 109.52,
        "duration": 3.919,
        "text": "seeing as how it is a distributed system"
      },
      {
        "start": 111.68,
        "duration": 3.04,
        "text": "replication can sometimes cause"
      },
      {
        "start": 113.439,
        "duration": 3.441,
        "text": "consistency errors"
      },
      {
        "start": 114.72,
        "duration": 3.12,
        "text": "in your counter columns be aware that"
      },
      {
        "start": 116.88,
        "duration": 3.44,
        "text": "this can happen"
      },
      {
        "start": 117.84,
        "duration": 3.68,
        "text": "also you cannot insert or assign values"
      },
      {
        "start": 120.32,
        "duration": 3.52,
        "text": "to counters"
      },
      {
        "start": 121.52,
        "duration": 3.52,
        "text": "the default starting value of a counter"
      },
      {
        "start": 123.84,
        "duration": 4.08,
        "text": "is zero"
      },
      {
        "start": 125.04,
        "duration": 5.76,
        "text": "another thing counters must be the only"
      },
      {
        "start": 127.92,
        "duration": 5.679,
        "text": "non-primary key column or columns"
      },
      {
        "start": 130.8,
        "duration": 4.24,
        "text": "counters are not idempotent in datasets"
      },
      {
        "start": 133.599,
        "duration": 4.161,
        "text": "enterprise you cannot use"
      },
      {
        "start": 135.04,
        "duration": 4.08,
        "text": "using timestamp or using ttls to update"
      },
      {
        "start": 137.76,
        "duration": 4.0,
        "text": "the counter columns"
      },
      {
        "start": 139.12,
        "duration": 3.44,
        "text": "you must use the update command and"
      },
      {
        "start": 141.76,
        "duration": 2.96,
        "text": "finally"
      },
      {
        "start": 142.56,
        "duration": 3.44,
        "text": "counter columns cannot be indexed or"
      },
      {
        "start": 144.72,
        "duration": 2.8,
        "text": "deleted"
      },
      {
        "start": 146.0,
        "duration": 3.12,
        "text": "okay i think that's enough about"
      },
      {
        "start": 147.52,
        "duration": 3.52,
        "text": "counters to make you dangerous"
      },
      {
        "start": 149.12,
        "duration": 8.56,
        "text": "there's a small exercise you should do"
      },
      {
        "start": 151.04,
        "duration": 6.64,
        "text": "to enforce your understanding"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T00:52:06.158764+00:00"
}