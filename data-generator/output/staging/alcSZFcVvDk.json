{
  "video_id": "alcSZFcVvDk",
  "title": "Astra DB Plugin for HashiCorp Vault",
  "description": "Download: \nhttps://github.com/datastax/vault-plugin-secrets-datastax-astra\nDocs: https://github.com/datastax/vault-plugin-secrets-datastax-astra/blob/main/docs/index.md\n\nWith the Astra DB Plugin for HashiCorp Vault, application token management can be delegated to HashiCorp Vault, which allows associating metadata with tokens and helps track creation, rotation and revocation of the tokens, and logs token ownership and usage. It is also now possible to create dynamic tokens and lease them for a limited period of time. This allows additional security controls for Astra DB tokens and enhances the security posture for Astra DB.\n\nNote that to use the plugin, it is required to have a functional HashiCorp Vault deployment. The HashiCorp Vault plugin for Astra DB is offered as an open source plugin and can be downloaded from here. Please refer to the technical documentation to install and use the HashiCorp Vault Plugin for Astra DB. \n\n\nCONNECT WITH DATASTAX\nSubscribe: http://www.youtube.com/c/datastaxdevs?sub_confirmation=1 \nTwitter: https://twitter.com/datastaxdevs\nTwitch: https://www.twitch.tv/datastaxdevs\n\nAbout DataStax:\nDataStax is the company behind the massively scalable, highly available, cloud-native NoSQL database platform built on Apache Cassandra™. DataStax gives developers and enterprises the freedom to run data in any cloud, Kubernetes, hybrid or bare metal at global scale with zero downtime and zero lock-in. More than 450 of the world’s leading enterprises including Capital One, Cisco, Comcast, Delta Airlines, Macy’s, McDonald’s, Safeway, Sony, and Walmart use DataStax to build transformational data architectures for real-world outcomes. For more, visit DataStax.com and @DataStax.\n\nAbout DataStax Developer:\nOn the DataStax Developers YouTube channel, you can find tutorials, workshops and much more to help you learn and stay updated with the latest information on Apache Cassandra©.  Visit https://datastax.com/dev for more free learning resources.",
  "published_at": "2022-11-10T16:00:01Z",
  "thumbnail": "https://i.ytimg.com/vi/alcSZFcVvDk/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "scalable",
    "nosql_database",
    "workshop",
    "cassandra",
    "database",
    "apache_cassandra",
    "tutorial",
    "nosql",
    "astra",
    "architecture",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=alcSZFcVvDk",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "foreign we'll show you how to configure hashicorp Vault for use with datastax Astra how to utilize Vault to associate metadata with tokens and show you how to add additional security controls around Astra tokens by leveraging vaults Dynamic tokens for this demo we're going to start with an existing running instance of hashicorp Vault pre-configured with the datastax Astra plugin if you need details on how to get your Vault instance configured for use with Astra please see the documentation for the plugin first thing we need to do is to configure a bootstrap token for Astra within hashicorp vault this is the token that authorizes Vault to interact with the Astra apis to create application tokens as a best practice the bootstrap token should be the only token that is not generated by The Vault so that the vault is the authoritative source for application token management once the bootstrap token is configured all future token requests should be handled by vault let's get started configuring vault first go to the organization settings screen for the organization you want the Vault to manage tokens for then go to the Token management Tab and generate a token be sure to give this token enough permissions to issue new tokens we'll use the organization administrator default role for this example which will give the Vault the maximum permissions possible you'll also want to grab your organization uuid which can be found in the URL string once we have our token and the organization ID we can use the hashicorp Vault command lines Vault command to create a configuration which The Vault will use to manage tokens for the given Astra DB organization we can provide a logical name for this configuration so it will be easier to identify in the future we can also Define a maximum lease time for any token that gets created for this organization nobody generating a token will be able to create a token that lives longer than this maximum configurations for each organization can be listed or retrieved using the organization's uuid hashicorpvault uses a roles-based system to determine access rights to the vault if you are already using hashicorp Vault you likely already have some roles in place we've provided a script called update underscore roles.sh in the Astra DB plug-in source code that makes use of the configured bootstrap token to duplicate the roles in your Astra orgs to the vault you can optionally use it to integrate Astra roles into your existing Vault role hierarchy or to streamline role creation if this is a new deployment The Vault list command can be used to display the roles that are configured now we are ready to utilize The Vault to create new application or API tokens we'll use the vault-right command and Supply it with the organization ID and role we want the token to have we can specify the lease underscore time parameter to Define how long the token should exist if we don't provide one the lease will get the max time we specified earlier and finally we can also provide it with some key value pair metadata in this case we're providing owner and app values to help us identify who owns this token and what it is used for The Vault will then interact with Astra to generate a new token and store the token in the vault we can observe in the Astra portal that a token has indeed been created for this organization with the role we supplied note that in the Astra portal we can only see the client ID for a given token this token had a very short lease time so we can observe that it has expired and been removed from the Astra portal now we'll create another token with a longer lease time so we can further demonstrate how to use Astra tokens with vault we can easily consult Vault to recall the information about a token using the Vault read command and providing it the client ID found in the Astra portal if a token needs to be revoked before its lease expires it is possible to revoke the token early with the Vault lease revoke command using that command we can see that we've explicitly revoked the token in question and it is no longer an Astra if you are looking for an additional layer of security for your Astra DB application tokens please check out the Astra DB documentation for more information on the hashicorp Vault Astra plugin",
    "segments": [
      {
        "start": 0.06,
        "duration": 3.0,
        "text": "foreign"
      },
      {
        "start": 8.42,
        "duration": 4.299,
        "text": "we'll show you how to configure"
      },
      {
        "start": 10.44,
        "duration": 4.92,
        "text": "hashicorp Vault for use with datastax"
      },
      {
        "start": 12.719,
        "duration": 4.921,
        "text": "Astra how to utilize Vault to associate"
      },
      {
        "start": 15.36,
        "duration": 4.2,
        "text": "metadata with tokens and show you how to"
      },
      {
        "start": 17.64,
        "duration": 4.139,
        "text": "add additional security controls around"
      },
      {
        "start": 19.56,
        "duration": 3.78,
        "text": "Astra tokens by leveraging vaults"
      },
      {
        "start": 21.779,
        "duration": 3.601,
        "text": "Dynamic tokens"
      },
      {
        "start": 23.34,
        "duration": 3.54,
        "text": "for this demo we're going to start with"
      },
      {
        "start": 25.38,
        "duration": 3.78,
        "text": "an existing running instance of"
      },
      {
        "start": 26.88,
        "duration": 5.04,
        "text": "hashicorp Vault pre-configured with the"
      },
      {
        "start": 29.16,
        "duration": 4.2,
        "text": "datastax Astra plugin if you need"
      },
      {
        "start": 31.92,
        "duration": 3.42,
        "text": "details on how to get your Vault"
      },
      {
        "start": 33.36,
        "duration": 3.9,
        "text": "instance configured for use with Astra"
      },
      {
        "start": 35.34,
        "duration": 2.82,
        "text": "please see the documentation for the"
      },
      {
        "start": 37.26,
        "duration": 2.7,
        "text": "plugin"
      },
      {
        "start": 38.16,
        "duration": 3.899,
        "text": "first thing we need to do is to"
      },
      {
        "start": 39.96,
        "duration": 3.96,
        "text": "configure a bootstrap token for Astra"
      },
      {
        "start": 42.059,
        "duration": 4.02,
        "text": "within hashicorp vault"
      },
      {
        "start": 43.92,
        "duration": 4.5,
        "text": "this is the token that authorizes Vault"
      },
      {
        "start": 46.079,
        "duration": 4.261,
        "text": "to interact with the Astra apis to"
      },
      {
        "start": 48.42,
        "duration": 4.56,
        "text": "create application tokens"
      },
      {
        "start": 50.34,
        "duration": 4.379,
        "text": "as a best practice the bootstrap token"
      },
      {
        "start": 52.98,
        "duration": 3.84,
        "text": "should be the only token that is not"
      },
      {
        "start": 54.719,
        "duration": 3.721,
        "text": "generated by The Vault so that the vault"
      },
      {
        "start": 56.82,
        "duration": 3.66,
        "text": "is the authoritative source for"
      },
      {
        "start": 58.44,
        "duration": 4.38,
        "text": "application token management"
      },
      {
        "start": 60.48,
        "duration": 4.499,
        "text": "once the bootstrap token is configured"
      },
      {
        "start": 62.82,
        "duration": 4.56,
        "text": "all future token requests should be"
      },
      {
        "start": 64.979,
        "duration": 4.021,
        "text": "handled by vault let's get started"
      },
      {
        "start": 67.38,
        "duration": 3.84,
        "text": "configuring vault"
      },
      {
        "start": 69.0,
        "duration": 4.2,
        "text": "first go to the organization settings"
      },
      {
        "start": 71.22,
        "duration": 4.2,
        "text": "screen for the organization you want the"
      },
      {
        "start": 73.2,
        "duration": 4.26,
        "text": "Vault to manage tokens for then go to"
      },
      {
        "start": 75.42,
        "duration": 4.559,
        "text": "the Token management Tab and generate a"
      },
      {
        "start": 77.46,
        "duration": 4.92,
        "text": "token be sure to give this token enough"
      },
      {
        "start": 79.979,
        "duration": 4.561,
        "text": "permissions to issue new tokens"
      },
      {
        "start": 82.38,
        "duration": 4.379,
        "text": "we'll use the organization administrator"
      },
      {
        "start": 84.54,
        "duration": 3.96,
        "text": "default role for this example which will"
      },
      {
        "start": 86.759,
        "duration": 2.821,
        "text": "give the Vault the maximum permissions"
      },
      {
        "start": 88.5,
        "duration": 2.64,
        "text": "possible"
      },
      {
        "start": 89.58,
        "duration": 3.96,
        "text": "you'll also want to grab your"
      },
      {
        "start": 91.14,
        "duration": 5.339,
        "text": "organization uuid which can be found in"
      },
      {
        "start": 93.54,
        "duration": 5.219,
        "text": "the URL string once we have our token"
      },
      {
        "start": 96.479,
        "duration": 4.261,
        "text": "and the organization ID we can use the"
      },
      {
        "start": 98.759,
        "duration": 4.021,
        "text": "hashicorp Vault command lines Vault"
      },
      {
        "start": 100.74,
        "duration": 3.9,
        "text": "command to create a configuration which"
      },
      {
        "start": 102.78,
        "duration": 4.26,
        "text": "The Vault will use to manage tokens for"
      },
      {
        "start": 104.64,
        "duration": 4.619,
        "text": "the given Astra DB organization"
      },
      {
        "start": 107.04,
        "duration": 4.2,
        "text": "we can provide a logical name for this"
      },
      {
        "start": 109.259,
        "duration": 3.601,
        "text": "configuration so it will be easier to"
      },
      {
        "start": 111.24,
        "duration": 4.019,
        "text": "identify in the future"
      },
      {
        "start": 112.86,
        "duration": 4.38,
        "text": "we can also Define a maximum lease time"
      },
      {
        "start": 115.259,
        "duration": 3.121,
        "text": "for any token that gets created for this"
      },
      {
        "start": 117.24,
        "duration": 3.36,
        "text": "organization"
      },
      {
        "start": 118.38,
        "duration": 4.14,
        "text": "nobody generating a token will be able"
      },
      {
        "start": 120.6,
        "duration": 3.72,
        "text": "to create a token that lives longer than"
      },
      {
        "start": 122.52,
        "duration": 4.32,
        "text": "this maximum"
      },
      {
        "start": 124.32,
        "duration": 4.38,
        "text": "configurations for each organization can"
      },
      {
        "start": 126.84,
        "duration": 5.0,
        "text": "be listed or retrieved using the"
      },
      {
        "start": 128.7,
        "duration": 5.58,
        "text": "organization's uuid"
      },
      {
        "start": 131.84,
        "duration": 5.08,
        "text": "hashicorpvault uses a roles-based system"
      },
      {
        "start": 134.28,
        "duration": 5.099,
        "text": "to determine access rights to the vault"
      },
      {
        "start": 136.92,
        "duration": 4.38,
        "text": "if you are already using hashicorp Vault"
      },
      {
        "start": 139.379,
        "duration": 2.761,
        "text": "you likely already have some roles in"
      },
      {
        "start": 141.3,
        "duration": 3.0,
        "text": "place"
      },
      {
        "start": 142.14,
        "duration": 4.98,
        "text": "we've provided a script called update"
      },
      {
        "start": 144.3,
        "duration": 4.74,
        "text": "underscore roles.sh in the Astra DB"
      },
      {
        "start": 147.12,
        "duration": 3.839,
        "text": "plug-in source code that makes use of"
      },
      {
        "start": 149.04,
        "duration": 3.839,
        "text": "the configured bootstrap token to"
      },
      {
        "start": 150.959,
        "duration": 3.0,
        "text": "duplicate the roles in your Astra orgs"
      },
      {
        "start": 152.879,
        "duration": 3.181,
        "text": "to the vault"
      },
      {
        "start": 153.959,
        "duration": 4.14,
        "text": "you can optionally use it to integrate"
      },
      {
        "start": 156.06,
        "duration": 4.44,
        "text": "Astra roles into your existing Vault"
      },
      {
        "start": 158.099,
        "duration": 5.341,
        "text": "role hierarchy or to streamline role"
      },
      {
        "start": 160.5,
        "duration": 5.22,
        "text": "creation if this is a new deployment"
      },
      {
        "start": 163.44,
        "duration": 5.1,
        "text": "The Vault list command can be used to"
      },
      {
        "start": 165.72,
        "duration": 5.22,
        "text": "display the roles that are configured"
      },
      {
        "start": 168.54,
        "duration": 5.16,
        "text": "now we are ready to utilize The Vault to"
      },
      {
        "start": 170.94,
        "duration": 5.04,
        "text": "create new application or API tokens"
      },
      {
        "start": 173.7,
        "duration": 4.319,
        "text": "we'll use the vault-right command and"
      },
      {
        "start": 175.98,
        "duration": 4.56,
        "text": "Supply it with the organization ID and"
      },
      {
        "start": 178.019,
        "duration": 4.321,
        "text": "role we want the token to have we can"
      },
      {
        "start": 180.54,
        "duration": 3.9,
        "text": "specify the lease underscore time"
      },
      {
        "start": 182.34,
        "duration": 3.179,
        "text": "parameter to Define how long the token"
      },
      {
        "start": 184.44,
        "duration": 3.18,
        "text": "should exist"
      },
      {
        "start": 185.519,
        "duration": 4.681,
        "text": "if we don't provide one the lease will"
      },
      {
        "start": 187.62,
        "duration": 4.86,
        "text": "get the max time we specified earlier"
      },
      {
        "start": 190.2,
        "duration": 4.98,
        "text": "and finally we can also provide it with"
      },
      {
        "start": 192.48,
        "duration": 4.32,
        "text": "some key value pair metadata in this"
      },
      {
        "start": 195.18,
        "duration": 3.9,
        "text": "case we're providing owner and app"
      },
      {
        "start": 196.8,
        "duration": 5.1,
        "text": "values to help us identify who owns this"
      },
      {
        "start": 199.08,
        "duration": 4.98,
        "text": "token and what it is used for"
      },
      {
        "start": 201.9,
        "duration": 4.199,
        "text": "The Vault will then interact with Astra"
      },
      {
        "start": 204.06,
        "duration": 3.36,
        "text": "to generate a new token and store the"
      },
      {
        "start": 206.099,
        "duration": 3.601,
        "text": "token in the vault"
      },
      {
        "start": 207.42,
        "duration": 4.38,
        "text": "we can observe in the Astra portal that"
      },
      {
        "start": 209.7,
        "duration": 4.38,
        "text": "a token has indeed been created for this"
      },
      {
        "start": 211.8,
        "duration": 4.38,
        "text": "organization with the role we supplied"
      },
      {
        "start": 214.08,
        "duration": 5.1,
        "text": "note that in the Astra portal we can"
      },
      {
        "start": 216.18,
        "duration": 5.22,
        "text": "only see the client ID for a given token"
      },
      {
        "start": 219.18,
        "duration": 4.26,
        "text": "this token had a very short lease time"
      },
      {
        "start": 221.4,
        "duration": 4.8,
        "text": "so we can observe that it has expired"
      },
      {
        "start": 223.44,
        "duration": 4.92,
        "text": "and been removed from the Astra portal"
      },
      {
        "start": 226.2,
        "duration": 3.78,
        "text": "now we'll create another token with a"
      },
      {
        "start": 228.36,
        "duration": 3.659,
        "text": "longer lease time so we can further"
      },
      {
        "start": 229.98,
        "duration": 4.399,
        "text": "demonstrate how to use Astra tokens with"
      },
      {
        "start": 232.019,
        "duration": 2.36,
        "text": "vault"
      },
      {
        "start": 237.06,
        "duration": 4.319,
        "text": "we can easily consult Vault to recall"
      },
      {
        "start": 239.4,
        "duration": 3.78,
        "text": "the information about a token using the"
      },
      {
        "start": 241.379,
        "duration": 5.041,
        "text": "Vault read command and providing it the"
      },
      {
        "start": 243.18,
        "duration": 5.4,
        "text": "client ID found in the Astra portal"
      },
      {
        "start": 246.42,
        "duration": 4.44,
        "text": "if a token needs to be revoked before"
      },
      {
        "start": 248.58,
        "duration": 4.019,
        "text": "its lease expires it is possible to"
      },
      {
        "start": 250.86,
        "duration": 4.439,
        "text": "revoke the token early with the Vault"
      },
      {
        "start": 252.599,
        "duration": 4.98,
        "text": "lease revoke command using that command"
      },
      {
        "start": 255.299,
        "duration": 4.021,
        "text": "we can see that we've explicitly revoked"
      },
      {
        "start": 257.579,
        "duration": 3.481,
        "text": "the token in question and it is no"
      },
      {
        "start": 259.32,
        "duration": 3.3,
        "text": "longer an Astra"
      },
      {
        "start": 261.06,
        "duration": 3.72,
        "text": "if you are looking for an additional"
      },
      {
        "start": 262.62,
        "duration": 4.56,
        "text": "layer of security for your Astra DB"
      },
      {
        "start": 264.78,
        "duration": 4.44,
        "text": "application tokens please check out the"
      },
      {
        "start": 267.18,
        "duration": 4.2,
        "text": "Astra DB documentation for more"
      },
      {
        "start": 269.22,
        "duration": 4.58,
        "text": "information on the hashicorp Vault Astra"
      },
      {
        "start": 271.38,
        "duration": 2.42,
        "text": "plugin"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-15T18:30:04.159651+00:00"
}