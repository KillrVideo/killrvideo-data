{
  "video_id": "sAKnFb9myd4",
  "title": "Document API in Astra DB - Paging and subdocuments",
  "description": "CONNECT WITH DATASTAX\nSubscribe: http://www.youtube.com/c/datastaxdevs?sub_confirmation=1 \nTwitter: https://twitter.com/datastaxdevs\nTwitch: https://www.twitch.tv/datastaxdevs\n\nAbout DataStax:\nDataStax is the company behind the massively scalable, highly available, cloud-native NoSQL data platform built on Apache Cassandra™. DataStax gives developers and enterprises the freedom to run data in any cloud, Kubernetes, hybrid or bare metal at global scale with zero downtime and zero lock-in. More than 450 of the world’s leading enterprises including Capital One, Cisco, Comcast, Delta Airlines, Macy’s, McDonald’s, Safeway, Sony, and Walmart use DataStax to build transformational data architectures for real-world outcomes. For more, visit DataStax.com and @DataStax.\n\nAbout DataStax Developer:\nOn the DataStax Developers YouTube channel, you can find tutorials, workshops and much more to help you learn and stay updated with the latest information on Apache Cassandra©.  Visit https://datastax.com/dev for more free learning resources.",
  "published_at": "2021-10-08T09:47:23Z",
  "thumbnail": "https://i.ytimg.com/vi/sAKnFb9myd4/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "scalable",
    "workshop",
    "cassandra",
    "tutorial",
    "apache_cassandra",
    "nosql",
    "astra",
    "architecture",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=sAKnFb9myd4",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "hello and welcome to datastax developers my name is ranjeet and i'm a data architect with datastax today we're here to discover the power of document api by performing queries and passing field parameters in the request to retrieve sub-documents or fragments of documents efficiently the database in use is astrodb which is a serverless database offering by datastax in the interest of time we already have loaded over a hundred thousand json documents in the astra database for the purpose of demonstration today i will use postman which is a third party api testing tool here is a document retrieved from astra database using document api get request against an id this document contains 360 degree view of an airline customer the full json document has several sub-documents such as contact sub-document containing address and contact information fields flight history sub-document which is further split into domestic and international sub-document objects let's begin by querying for all customer documents in a collection notice the get request and it has no document id in its path now in order to search the entire collection but fetch just a fragment of all documents such as email address fields then we simply modify the get request path using fields parameter and here is the get request to do that let's try the get request in postman notice the fields parameter has been added and we are making an api call to retrieve just the email fields from the contacts of documents if you're interested likewise if you are interested in retrieving just the contact address and the field history uh the fight history fields my apologies in a single get request in other words fields from two sub-documents at different levels then we could modify to what's seen in the slide right now let's switch to postman to quickly view this using document api here's the api call that we just saw in the slide that we added into our get request which allows us to now make a call to two sub-documents and retrieve fields at different levels and here is the result as expected notice that this is obviously producing or providing all the documents from within this collection in all the queries we see the number of results are based on a page size document api supports pagination using a page state as a query parameter you can advance the cursor by one page simply use the current page state value in the get request and it automatically takes you to the next page of results let's take a look at it how this works let's use the same example we know that we are limited by a page size in the query so in order for us to look at the next page of results we now introduce a page state and we copy the value of the current paid state to get to the next page so here is the next page of results and likewise we can use the new paid state or the new current paid states to continue navigating through the entire result set all right let's look at some specific airline customer related or airline industry related examples or scenarios assuming as an airline company you're looking for a specific fragment of documents based on the filter criteria then this can also be achieved let's say we were looking to collect feedback from customers about a new baggage checking experience we can start by fetching just the email address fields for all customers in a collection that checked in at least one bag you can see the get request with the where query parameter on your screen for reference let's try this query real quick using document api so we are looking for looking to retrieve email addresses based on a filter criteria and here we go so the filter criteria is all the customers that checked in at least one back so this is greater than zero so anything greater than zero we're definitely interested in all those customer email addresses for our survey in a case where an airline customer decides to change the destination of the flight booked assuming the airline policy could offer the flexibility to make the changes on the same ticket we can quickly update the miles accrued based on the new destination without having to update the entire document the patch request allows for making a change to a specific sub-document fields or a document field directly the example is provided on your screen let's take a working let's take a look at a working example using document api notice that in this case if when i retrieve the document i know that my miles earned for this customer where the customer has taken a domestic flight is 700 assuming the same customer makes a change to their trip and based on the new destination if the miles accrued were 880 miles then we go ahead and update just the miles earned fields uh from within the flight history followed by the domestic sub-document and by making this api patch call or patch api call which is part of the document api we can now update the same customer or a field from the same customer let's go back and perform a quick get request on the same customer to verify the change there we go the change has now been confirmed let's take another example in a case where an airline customer decides to cancel a ticket the airline can remove a specific flight from the history of the customer document this can be done by specifying the index value or the position value in a sub document array the delete call is presented on your screen let's take a look at a working example using document api i'll use a different customer for this example and this is a customer that i'll be using and we know that this customer has multiple domestic flights that they've taken which is why you're seeing multiple uh entries or elements under the domestic sub document array and now if the customer has canceled the latest flight which was taken on the 30th of september and if the airline would like to remove this flight from history for obvious reasons then we can now perform a delete action onto a specific index value at the sub document level so in this case we are providing the id of the document followed by the uh the flight history and the domestic sub document object name and then in the end we provide the index value of the element that we would like to get rid of so by making this call and going back to the same uh going back to the same document and doing a refresh on the get request we now see just one single domestic entry under the flight history for the customer thank you please subscribe to datastax developers for more such content and regular updates",
    "segments": [
      {
        "start": 2.32,
        "duration": 5.12,
        "text": "hello"
      },
      {
        "start": 3.439,
        "duration": 4.001,
        "text": "and welcome to datastax developers"
      },
      {
        "start": 8.08,
        "duration": 5.599,
        "text": "my name is ranjeet and i'm a data"
      },
      {
        "start": 10.4,
        "duration": 3.279,
        "text": "architect with datastax"
      },
      {
        "start": 14.24,
        "duration": 6.24,
        "text": "today we're here to discover the power"
      },
      {
        "start": 16.96,
        "duration": 6.079,
        "text": "of document api by performing queries"
      },
      {
        "start": 20.48,
        "duration": 3.68,
        "text": "and passing field parameters in the"
      },
      {
        "start": 23.039,
        "duration": 2.48,
        "text": "request"
      },
      {
        "start": 24.16,
        "duration": 4.959,
        "text": "to retrieve"
      },
      {
        "start": 25.519,
        "duration": 5.76,
        "text": "sub-documents or fragments of documents"
      },
      {
        "start": 29.119,
        "duration": 5.921,
        "text": "efficiently"
      },
      {
        "start": 31.279,
        "duration": 7.28,
        "text": "the database in use is astrodb"
      },
      {
        "start": 35.04,
        "duration": 5.679,
        "text": "which is a serverless database offering"
      },
      {
        "start": 38.559,
        "duration": 4.16,
        "text": "by datastax"
      },
      {
        "start": 40.719,
        "duration": 4.641,
        "text": "in the interest of time"
      },
      {
        "start": 42.719,
        "duration": 5.52,
        "text": "we already have loaded"
      },
      {
        "start": 45.36,
        "duration": 6.16,
        "text": "over a hundred thousand json documents"
      },
      {
        "start": 48.239,
        "duration": 6.16,
        "text": "in the astra database"
      },
      {
        "start": 51.52,
        "duration": 4.24,
        "text": "for the purpose of demonstration today"
      },
      {
        "start": 54.399,
        "duration": 4.48,
        "text": "i will use"
      },
      {
        "start": 55.76,
        "duration": 5.84,
        "text": "postman which is a third party api"
      },
      {
        "start": 58.879,
        "duration": 2.721,
        "text": "testing tool"
      },
      {
        "start": 63.039,
        "duration": 5.041,
        "text": "here is a document"
      },
      {
        "start": 64.799,
        "duration": 6.241,
        "text": "retrieved from astra database"
      },
      {
        "start": 68.08,
        "duration": 5.359,
        "text": "using document api"
      },
      {
        "start": 71.04,
        "duration": 5.119,
        "text": "get request"
      },
      {
        "start": 73.439,
        "duration": 5.601,
        "text": "against an id"
      },
      {
        "start": 76.159,
        "duration": 6.481,
        "text": "this document"
      },
      {
        "start": 79.04,
        "duration": 5.36,
        "text": "contains 360 degree view of an airline"
      },
      {
        "start": 82.64,
        "duration": 5.44,
        "text": "customer"
      },
      {
        "start": 84.4,
        "duration": 5.359,
        "text": "the full json document has several"
      },
      {
        "start": 88.08,
        "duration": 5.52,
        "text": "sub-documents"
      },
      {
        "start": 89.759,
        "duration": 5.68,
        "text": "such as contact sub-document containing"
      },
      {
        "start": 93.6,
        "duration": 5.44,
        "text": "address and"
      },
      {
        "start": 95.439,
        "duration": 3.601,
        "text": "contact information fields"
      },
      {
        "start": 99.759,
        "duration": 7.201,
        "text": "flight history sub-document"
      },
      {
        "start": 103.439,
        "duration": 5.601,
        "text": "which is further split into domestic and"
      },
      {
        "start": 106.96,
        "duration": 5.28,
        "text": "international"
      },
      {
        "start": 109.04,
        "duration": 3.2,
        "text": "sub-document objects"
      },
      {
        "start": 112.96,
        "duration": 3.119,
        "text": "let's begin"
      },
      {
        "start": 115.2,
        "duration": 2.08,
        "text": "by"
      },
      {
        "start": 116.079,
        "duration": 3.121,
        "text": "querying"
      },
      {
        "start": 117.28,
        "duration": 4.4,
        "text": "for all customer documents in a"
      },
      {
        "start": 119.2,
        "duration": 2.48,
        "text": "collection"
      },
      {
        "start": 124.24,
        "duration": 2.96,
        "text": "notice"
      },
      {
        "start": 125.2,
        "duration": 6.88,
        "text": "the get request"
      },
      {
        "start": 127.2,
        "duration": 4.88,
        "text": "and it has no document id in its path"
      },
      {
        "start": 138.48,
        "duration": 5.28,
        "text": "now in order to search the entire"
      },
      {
        "start": 141.36,
        "duration": 5.92,
        "text": "collection"
      },
      {
        "start": 143.76,
        "duration": 6.8,
        "text": "but fetch just a fragment of all"
      },
      {
        "start": 147.28,
        "duration": 5.679,
        "text": "documents such as email address fields"
      },
      {
        "start": 150.56,
        "duration": 6.16,
        "text": "then we simply modify the get request"
      },
      {
        "start": 152.959,
        "duration": 7.841,
        "text": "path using fields parameter"
      },
      {
        "start": 156.72,
        "duration": 6.56,
        "text": "and here is the get request to do that"
      },
      {
        "start": 160.8,
        "duration": 5.64,
        "text": "let's try the get request"
      },
      {
        "start": 163.28,
        "duration": 3.16,
        "text": "in postman"
      },
      {
        "start": 171.2,
        "duration": 5.759,
        "text": "notice"
      },
      {
        "start": 173.2,
        "duration": 7.2,
        "text": "the fields parameter has been added"
      },
      {
        "start": 176.959,
        "duration": 4.56,
        "text": "and we are making an api call to"
      },
      {
        "start": 180.4,
        "duration": 4.16,
        "text": "retrieve"
      },
      {
        "start": 181.519,
        "duration": 6.561,
        "text": "just the email fields from the contacts"
      },
      {
        "start": 184.56,
        "duration": 3.52,
        "text": "of documents if you're interested"
      },
      {
        "start": 195.04,
        "duration": 3.44,
        "text": "likewise if you are interested in"
      },
      {
        "start": 197.28,
        "duration": 3.76,
        "text": "retrieving"
      },
      {
        "start": 198.48,
        "duration": 5.039,
        "text": "just the contact address"
      },
      {
        "start": 201.04,
        "duration": 5.52,
        "text": "and the field history"
      },
      {
        "start": 203.519,
        "duration": 4.8,
        "text": "uh the fight history fields my apologies"
      },
      {
        "start": 206.56,
        "duration": 3.52,
        "text": "in a single"
      },
      {
        "start": 208.319,
        "duration": 5.041,
        "text": "get request"
      },
      {
        "start": 210.08,
        "duration": 6.799,
        "text": "in other words fields from two"
      },
      {
        "start": 213.36,
        "duration": 6.959,
        "text": "sub-documents at different levels"
      },
      {
        "start": 216.879,
        "duration": 6.0,
        "text": "then we could modify to what's seen"
      },
      {
        "start": 220.319,
        "duration": 6.0,
        "text": "in the slide right now"
      },
      {
        "start": 222.879,
        "duration": 5.28,
        "text": "let's switch to postman to quickly view"
      },
      {
        "start": 226.319,
        "duration": 5.121,
        "text": "this"
      },
      {
        "start": 228.159,
        "duration": 3.281,
        "text": "using document api"
      },
      {
        "start": 233.12,
        "duration": 4.96,
        "text": "here's the api call that we just saw in"
      },
      {
        "start": 235.28,
        "duration": 5.92,
        "text": "the slide that we added into our get"
      },
      {
        "start": 238.08,
        "duration": 4.799,
        "text": "request which allows us to now"
      },
      {
        "start": 241.2,
        "duration": 3.84,
        "text": "make a call"
      },
      {
        "start": 242.879,
        "duration": 6.401,
        "text": "to two sub-documents"
      },
      {
        "start": 245.04,
        "duration": 4.24,
        "text": "and retrieve fields at different levels"
      },
      {
        "start": 251.36,
        "duration": 6.559,
        "text": "and here is the result as expected"
      },
      {
        "start": 254.4,
        "duration": 4.799,
        "text": "notice that this is obviously producing"
      },
      {
        "start": 257.919,
        "duration": 2.481,
        "text": "or"
      },
      {
        "start": 259.199,
        "duration": 3.041,
        "text": "providing"
      },
      {
        "start": 260.4,
        "duration": 4.84,
        "text": "all the documents from within this"
      },
      {
        "start": 262.24,
        "duration": 3.0,
        "text": "collection"
      },
      {
        "start": 270.24,
        "duration": 7.6,
        "text": "in all the queries we see the number of"
      },
      {
        "start": 273.36,
        "duration": 6.32,
        "text": "results are based on a page size"
      },
      {
        "start": 277.84,
        "duration": 5.639,
        "text": "document api"
      },
      {
        "start": 279.68,
        "duration": 3.799,
        "text": "supports pagination"
      },
      {
        "start": 283.6,
        "duration": 3.84,
        "text": "using a page"
      },
      {
        "start": 286.08,
        "duration": 3.6,
        "text": "state"
      },
      {
        "start": 287.44,
        "duration": 7.759,
        "text": "as a query parameter"
      },
      {
        "start": 289.68,
        "duration": 7.04,
        "text": "you can advance the cursor by one page"
      },
      {
        "start": 295.199,
        "duration": 4.56,
        "text": "simply use"
      },
      {
        "start": 296.72,
        "duration": 4.72,
        "text": "the current page state value"
      },
      {
        "start": 299.759,
        "duration": 3.681,
        "text": "in the get request"
      },
      {
        "start": 301.44,
        "duration": 4.319,
        "text": "and it automatically takes you to the"
      },
      {
        "start": 303.44,
        "duration": 6.72,
        "text": "next page of results"
      },
      {
        "start": 305.759,
        "duration": 6.961,
        "text": "let's take a look at it how this works"
      },
      {
        "start": 310.16,
        "duration": 4.72,
        "text": "let's use the same example"
      },
      {
        "start": 312.72,
        "duration": 4.96,
        "text": "we know that we are limited by"
      },
      {
        "start": 314.88,
        "duration": 2.8,
        "text": "a page size"
      },
      {
        "start": 318.32,
        "duration": 2.64,
        "text": "in the query"
      },
      {
        "start": 321.44,
        "duration": 4.72,
        "text": "so in order for us to look at the next"
      },
      {
        "start": 323.919,
        "duration": 3.361,
        "text": "page of results"
      },
      {
        "start": 326.16,
        "duration": 3.68,
        "text": "we now"
      },
      {
        "start": 327.28,
        "duration": 5.199,
        "text": "introduce a page state"
      },
      {
        "start": 329.84,
        "duration": 4.72,
        "text": "and we copy the value of the current"
      },
      {
        "start": 332.479,
        "duration": 5.961,
        "text": "paid state"
      },
      {
        "start": 334.56,
        "duration": 3.88,
        "text": "to get to the next page"
      },
      {
        "start": 341.52,
        "duration": 5.04,
        "text": "so here is the next page of results"
      },
      {
        "start": 350.32,
        "duration": 6.56,
        "text": "and likewise we can use the new paid"
      },
      {
        "start": 353.039,
        "duration": 6.481,
        "text": "state or the new current paid states"
      },
      {
        "start": 356.88,
        "duration": 6.599,
        "text": "to continue navigating through the"
      },
      {
        "start": 359.52,
        "duration": 3.959,
        "text": "entire result set"
      },
      {
        "start": 369.52,
        "duration": 5.44,
        "text": "all right let's look at some specific"
      },
      {
        "start": 372.56,
        "duration": 7.199,
        "text": "airline customer related or airline"
      },
      {
        "start": 374.96,
        "duration": 7.2,
        "text": "industry related examples or scenarios"
      },
      {
        "start": 379.759,
        "duration": 3.761,
        "text": "assuming as an airline company you're"
      },
      {
        "start": 382.16,
        "duration": 2.56,
        "text": "looking for a"
      },
      {
        "start": 383.52,
        "duration": 3.04,
        "text": "specific"
      },
      {
        "start": 384.72,
        "duration": 4.319,
        "text": "fragment of documents"
      },
      {
        "start": 386.56,
        "duration": 5.52,
        "text": "based on the filter criteria"
      },
      {
        "start": 389.039,
        "duration": 5.201,
        "text": "then this can also be achieved"
      },
      {
        "start": 392.08,
        "duration": 5.04,
        "text": "let's say we were looking to collect"
      },
      {
        "start": 394.24,
        "duration": 5.36,
        "text": "feedback from customers about a new"
      },
      {
        "start": 397.12,
        "duration": 5.04,
        "text": "baggage checking experience"
      },
      {
        "start": 399.6,
        "duration": 4.8,
        "text": "we can start by fetching just the email"
      },
      {
        "start": 402.16,
        "duration": 4.479,
        "text": "address fields for all customers in a"
      },
      {
        "start": 404.4,
        "duration": 5.6,
        "text": "collection"
      },
      {
        "start": 406.639,
        "duration": 5.921,
        "text": "that checked in at least one bag"
      },
      {
        "start": 410.0,
        "duration": 4.0,
        "text": "you can see the get request"
      },
      {
        "start": 412.56,
        "duration": 3.359,
        "text": "with the where"
      },
      {
        "start": 414.0,
        "duration": 5.44,
        "text": "query parameter"
      },
      {
        "start": 415.919,
        "duration": 3.521,
        "text": "on your screen for reference"
      },
      {
        "start": 421.12,
        "duration": 6.32,
        "text": "let's try this query real quick"
      },
      {
        "start": 424.24,
        "duration": 3.2,
        "text": "using document api"
      },
      {
        "start": 431.599,
        "duration": 4.88,
        "text": "so we are looking for"
      },
      {
        "start": 433.68,
        "duration": 7.04,
        "text": "looking to retrieve email addresses"
      },
      {
        "start": 436.479,
        "duration": 4.241,
        "text": "based on a filter criteria"
      },
      {
        "start": 443.36,
        "duration": 3.44,
        "text": "and here we go"
      },
      {
        "start": 444.8,
        "duration": 4.239,
        "text": "so the filter criteria"
      },
      {
        "start": 446.8,
        "duration": 2.239,
        "text": "is"
      },
      {
        "start": 449.68,
        "duration": 4.799,
        "text": "all the customers"
      },
      {
        "start": 451.919,
        "duration": 5.041,
        "text": "that checked in at least one back so"
      },
      {
        "start": 454.479,
        "duration": 4.081,
        "text": "this is greater than zero so anything"
      },
      {
        "start": 456.96,
        "duration": 3.519,
        "text": "greater than zero we're definitely"
      },
      {
        "start": 458.56,
        "duration": 3.12,
        "text": "interested in all those customer email"
      },
      {
        "start": 460.479,
        "duration": 4.681,
        "text": "addresses"
      },
      {
        "start": 461.68,
        "duration": 3.48,
        "text": "for our survey"
      },
      {
        "start": 469.199,
        "duration": 5.84,
        "text": "in a case where an airline customer"
      },
      {
        "start": 472.16,
        "duration": 6.96,
        "text": "decides to change the destination"
      },
      {
        "start": 475.039,
        "duration": 7.121,
        "text": "of the flight booked"
      },
      {
        "start": 479.12,
        "duration": 6.16,
        "text": "assuming the airline policy could offer"
      },
      {
        "start": 482.16,
        "duration": 4.719,
        "text": "the flexibility to make the changes on"
      },
      {
        "start": 485.28,
        "duration": 4.56,
        "text": "the same ticket"
      },
      {
        "start": 486.879,
        "duration": 5.44,
        "text": "we can quickly update the miles accrued"
      },
      {
        "start": 489.84,
        "duration": 6.799,
        "text": "based on the new destination without"
      },
      {
        "start": 492.319,
        "duration": 4.32,
        "text": "having to update the entire document"
      },
      {
        "start": 497.28,
        "duration": 6.72,
        "text": "the patch request"
      },
      {
        "start": 499.759,
        "duration": 7.681,
        "text": "allows for making a change to a specific"
      },
      {
        "start": 504.0,
        "duration": 6.08,
        "text": "sub-document fields or a document field"
      },
      {
        "start": 507.44,
        "duration": 2.64,
        "text": "directly"
      },
      {
        "start": 510.24,
        "duration": 4.88,
        "text": "the example is provided on your screen"
      },
      {
        "start": 516.08,
        "duration": 2.48,
        "text": "let's take a"
      },
      {
        "start": 517.36,
        "duration": 3.44,
        "text": "working"
      },
      {
        "start": 518.56,
        "duration": 5.44,
        "text": "let's take a look at a working example"
      },
      {
        "start": 520.8,
        "duration": 6.479,
        "text": "using document api"
      },
      {
        "start": 524.0,
        "duration": 5.04,
        "text": "notice that in this case if when i"
      },
      {
        "start": 527.279,
        "duration": 4.56,
        "text": "retrieve the document"
      },
      {
        "start": 529.04,
        "duration": 4.239,
        "text": "i know that my miles earned for this"
      },
      {
        "start": 531.839,
        "duration": 3.201,
        "text": "customer"
      },
      {
        "start": 533.279,
        "duration": 2.801,
        "text": "where the customer has taken a domestic"
      },
      {
        "start": 535.04,
        "duration": 3.919,
        "text": "flight"
      },
      {
        "start": 536.08,
        "duration": 4.8,
        "text": "is 700"
      },
      {
        "start": 538.959,
        "duration": 2.88,
        "text": "assuming the same customer makes a"
      },
      {
        "start": 540.88,
        "duration": 2.8,
        "text": "change"
      },
      {
        "start": 541.839,
        "duration": 5.041,
        "text": "to their trip"
      },
      {
        "start": 543.68,
        "duration": 5.2,
        "text": "and based on the new destination if the"
      },
      {
        "start": 546.88,
        "duration": 3.24,
        "text": "miles accrued"
      },
      {
        "start": 548.88,
        "duration": 3.28,
        "text": "were"
      },
      {
        "start": 550.12,
        "duration": 4.92,
        "text": "880 miles"
      },
      {
        "start": 552.16,
        "duration": 5.359,
        "text": "then we go ahead and update"
      },
      {
        "start": 555.04,
        "duration": 3.6,
        "text": "just the miles earned"
      },
      {
        "start": 557.519,
        "duration": 3.201,
        "text": "fields"
      },
      {
        "start": 558.64,
        "duration": 6.0,
        "text": "uh from within the flight history"
      },
      {
        "start": 560.72,
        "duration": 3.92,
        "text": "followed by the domestic sub-document"
      },
      {
        "start": 565.12,
        "duration": 5.36,
        "text": "and by making this api"
      },
      {
        "start": 567.6,
        "duration": 5.28,
        "text": "patch call or patch api call which is"
      },
      {
        "start": 570.48,
        "duration": 6.64,
        "text": "part of the document api"
      },
      {
        "start": 572.88,
        "duration": 8.079,
        "text": "we can now update the same customer or a"
      },
      {
        "start": 577.12,
        "duration": 3.839,
        "text": "field from the same customer"
      },
      {
        "start": 581.279,
        "duration": 4.481,
        "text": "let's go back and perform a quick get"
      },
      {
        "start": 583.76,
        "duration": 3.759,
        "text": "request on the same customer to verify"
      },
      {
        "start": 585.76,
        "duration": 2.96,
        "text": "the change"
      },
      {
        "start": 587.519,
        "duration": 5.041,
        "text": "there we go"
      },
      {
        "start": 588.72,
        "duration": 3.84,
        "text": "the change has now been confirmed"
      },
      {
        "start": 594.72,
        "duration": 6.239,
        "text": "let's take another example"
      },
      {
        "start": 597.519,
        "duration": 5.041,
        "text": "in a case where an airline"
      },
      {
        "start": 600.959,
        "duration": 3.761,
        "text": "customer"
      },
      {
        "start": 602.56,
        "duration": 4.8,
        "text": "decides to cancel"
      },
      {
        "start": 604.72,
        "duration": 2.64,
        "text": "a ticket"
      },
      {
        "start": 607.6,
        "duration": 5.28,
        "text": "the airline can remove a specific flight"
      },
      {
        "start": 610.8,
        "duration": 4.24,
        "text": "from the history of the customer"
      },
      {
        "start": 612.88,
        "duration": 4.8,
        "text": "document"
      },
      {
        "start": 615.04,
        "duration": 5.359,
        "text": "this can be done by specifying the index"
      },
      {
        "start": 617.68,
        "duration": 4.159,
        "text": "value or the position value"
      },
      {
        "start": 620.399,
        "duration": 4.641,
        "text": "in a"
      },
      {
        "start": 621.839,
        "duration": 3.201,
        "text": "sub document array"
      },
      {
        "start": 625.36,
        "duration": 3.52,
        "text": "the delete"
      },
      {
        "start": 627.92,
        "duration": 4.96,
        "text": "call"
      },
      {
        "start": 628.88,
        "duration": 7.36,
        "text": "is presented on your screen"
      },
      {
        "start": 632.88,
        "duration": 6.48,
        "text": "let's take a look at a working example"
      },
      {
        "start": 636.24,
        "duration": 6.08,
        "text": "using document api"
      },
      {
        "start": 639.36,
        "duration": 4.96,
        "text": "i'll use a different customer"
      },
      {
        "start": 642.32,
        "duration": 3.44,
        "text": "for this example"
      },
      {
        "start": 644.32,
        "duration": 2.72,
        "text": "and this is a customer that i'll be"
      },
      {
        "start": 645.76,
        "duration": 3.84,
        "text": "using"
      },
      {
        "start": 647.04,
        "duration": 4.799,
        "text": "and we know that this customer has"
      },
      {
        "start": 649.6,
        "duration": 3.84,
        "text": "multiple domestic flights that they've"
      },
      {
        "start": 651.839,
        "duration": 4.56,
        "text": "taken"
      },
      {
        "start": 653.44,
        "duration": 5.6,
        "text": "which is why you're seeing multiple"
      },
      {
        "start": 656.399,
        "duration": 4.161,
        "text": "uh entries"
      },
      {
        "start": 659.04,
        "duration": 3.039,
        "text": "or elements"
      },
      {
        "start": 660.56,
        "duration": 3.76,
        "text": "under the"
      },
      {
        "start": 662.079,
        "duration": 5.921,
        "text": "domestic"
      },
      {
        "start": 664.32,
        "duration": 3.68,
        "text": "sub document array"
      },
      {
        "start": 668.48,
        "duration": 4.799,
        "text": "and now"
      },
      {
        "start": 670.079,
        "duration": 5.44,
        "text": "if the customer has canceled the latest"
      },
      {
        "start": 673.279,
        "duration": 4.881,
        "text": "flight which was taken on the 30th of"
      },
      {
        "start": 675.519,
        "duration": 2.641,
        "text": "september"
      },
      {
        "start": 678.32,
        "duration": 4.959,
        "text": "and"
      },
      {
        "start": 679.68,
        "duration": 6.64,
        "text": "if the airline would like to remove this"
      },
      {
        "start": 683.279,
        "duration": 6.8,
        "text": "flight from history for"
      },
      {
        "start": 686.32,
        "duration": 5.04,
        "text": "obvious reasons then we can now"
      },
      {
        "start": 690.079,
        "duration": 3.2,
        "text": "perform"
      },
      {
        "start": 691.36,
        "duration": 4.56,
        "text": "a delete action"
      },
      {
        "start": 693.279,
        "duration": 2.641,
        "text": "onto"
      },
      {
        "start": 696.16,
        "duration": 4.0,
        "text": "a specific"
      },
      {
        "start": 698.399,
        "duration": 4.801,
        "text": "index value"
      },
      {
        "start": 700.16,
        "duration": 4.72,
        "text": "at the sub document level"
      },
      {
        "start": 703.2,
        "duration": 3.92,
        "text": "so in this case we are"
      },
      {
        "start": 704.88,
        "duration": 3.44,
        "text": "providing the id of the document"
      },
      {
        "start": 707.12,
        "duration": 2.56,
        "text": "followed by"
      },
      {
        "start": 708.32,
        "duration": 2.56,
        "text": "the"
      },
      {
        "start": 709.68,
        "duration": 3.04,
        "text": "uh"
      },
      {
        "start": 710.88,
        "duration": 4.639,
        "text": "the flight history"
      },
      {
        "start": 712.72,
        "duration": 6.08,
        "text": "and the domestic"
      },
      {
        "start": 715.519,
        "duration": 5.601,
        "text": "sub document object name"
      },
      {
        "start": 718.8,
        "duration": 3.52,
        "text": "and then in the end we provide the index"
      },
      {
        "start": 721.12,
        "duration": 2.8,
        "text": "value"
      },
      {
        "start": 722.32,
        "duration": 4.48,
        "text": "of the"
      },
      {
        "start": 723.92,
        "duration": 5.52,
        "text": "element that we would like to get rid of"
      },
      {
        "start": 726.8,
        "duration": 4.64,
        "text": "so by making this call"
      },
      {
        "start": 729.44,
        "duration": 3.68,
        "text": "and going back"
      },
      {
        "start": 731.44,
        "duration": 2.72,
        "text": "to the same"
      },
      {
        "start": 733.12,
        "duration": 3.36,
        "text": "uh"
      },
      {
        "start": 734.16,
        "duration": 5.44,
        "text": "going back to the same document"
      },
      {
        "start": 736.48,
        "duration": 6.08,
        "text": "and doing a refresh on the get request"
      },
      {
        "start": 739.6,
        "duration": 4.96,
        "text": "we now see just one single"
      },
      {
        "start": 742.56,
        "duration": 4.0,
        "text": "domestic entry"
      },
      {
        "start": 744.56,
        "duration": 4.399,
        "text": "under the flight history for the"
      },
      {
        "start": 746.56,
        "duration": 2.399,
        "text": "customer"
      },
      {
        "start": 752.32,
        "duration": 4.24,
        "text": "thank you"
      },
      {
        "start": 753.36,
        "duration": 5.2,
        "text": "please subscribe to datastax developers"
      },
      {
        "start": 756.56,
        "duration": 5.0,
        "text": "for more such content and regular"
      },
      {
        "start": 758.56,
        "duration": 3.0,
        "text": "updates"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-15T19:52:44.051943+00:00"
}