{
  "video_id": "mgl693bMIm0",
  "title": "DataStax Distribution of Apache Cassandra™ on Google Cloud Platform - Creating Your Data Model",
  "description": "In this video you’ll see the process of creating a data model with DataStax Distribution of Apache Cassandra on the Google Cloud Platform (GCP) and cover some of the important commands you’ll need to know. Take advantage of this production-ready database supported by DataStax, the Apache Cassandra experts, that is 100% open source compatible. Your cluster will also include a development virtual machine allowing users to quickly realize the benefits and power of running and managing your data on GCP.\n\n \n\nGet started with DataStax Distribution of Apache Cassandra on GCP:\n\n8x5 Support: http://bit.ly/ddac_on_gcp_8x5\n\n24x7 Support: http://bit.ly/ddac_on_gcp_24x7\n\n \n\nCheck out our docs for more detailed information: http://bit.ly/ddac_on_gcp_docs",
  "published_at": "2019-10-08T21:21:43Z",
  "thumbnail": "https://i.ytimg.com/vi/mgl693bMIm0/hqdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "cassandra",
    "datastax",
    "database",
    "apache_cassandra"
  ],
  "url": "https://www.youtube.com/watch?v=mgl693bMIm0",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "hello welcome to the getting started series for the data stacks distribution of Apache Cassandra in this tutorial we'll show you how to connect to your cluster and we'll give you some basic data modeling skills let's start by using your browser to connect to the deployment manager in the Google Cloud console locate your Cassandra cluster deployment and click on the link to see the details of your deployment in the right side of your deployment window there are two links the top link takes you to a command shell on the DevOps server the second link takes you to a command shell on one of the seed nodes for the cluster let's take a look at what these instances are click here to open the DevOps VM web portal link in a new tab go to the new browser tab and click on the getting started section the image shows you that your deployment has several machine instances the yellow box on the Left represents your DevOps machine the other blue boxes represent the node instances of your Cassandra cluster where Cassandra stores your data if you created your cluster with private IPS the devops machine acts as a security gateway to your cluster let's go back to the deployment manager browser tab and launch a command shell for the seed node now that we are connected to a node in the cluster we can check the status of the cluster great the node tool status command tells us all the nodes in the cluster are up and normal as the UN on the Left indicates let's use CQ LSH to connect to the cluster we need to specify the name of the node we are connecting to let's use a here document to do that by placing the hostname command inside backticks cool we have a cql prom let's poke around just to see that our CQ all works finally we can exit the CQ l shell and the command shell takes care of connecting your cluster now let's turn to data modelling we will use Cassandra query language or cql within the cql shell to create our data model for this getting started video let's use the killer video application as the target for our data model killer video is an application that lets users upload share browse view videos and their associated metadata so our data model needs to store this video metadata let's start by creating a key space for our app a key space is a top-level namespace that contains other database objects like tables indexes user-defined types and so forth one other important thing about key spaces they control how cassandra replicates the data let's look at a create key space command the command syntax starts with the keywords create key space followed by the name of the key space in our example we'll use the key space named killer video next we specify the replication settings these include the replication strategy which determines how cassandra replicates the data and the replication factor which tells Cassandra how many copies of the data there should be in the cluster there are only two replication strategies that come with Cassandra but the network topology strategy is the only one we recommend using in production so that's the strategy we'll use in our key space we specify the strategy here in the create key space command when we use the network topology strategy we also specify a replication factor for each data center in our example we only have one data center named DC 0 so we'll set its replication factor to 3 a replication factor of 3 means Cassandra can still retrieve the data even if the nodes containing two of the copies are offline be careful when you set up the replication factor since Cassandra does not catch typos in the data center name mistakes can cause reads and writes to fail since Cassandra looks for nodes in a non-existent data center cassandra also doesn't check if you set the replication factor higher than the number of nodes in your data center and that can potentially cause reads and writes to fail as well you might have noticed that I pressed entered and continued typing the command pressing enter is just a continuation of the command that I type and it doesn't get executed until I add the semicolon at the end and press Enter that's all it takes to create a killer video keyspace now that we have a key space we can create tables within the key space as you might imagine a table is a database object that stores data in rows and columns each column has a different name and a declared type we'll start by creating a videos table for our application which will store information and metadata about the videos that users upload note that we also add the key space name in front of the table name divided by a period this avoids any ambiguity about which key space we are using for this table we won't be getting into what each column does but take note that we are declaring the name and a type for each column as well as a primary key for the table there are all the standard types that you would expect to see in a database such as int text timestamp and so forth however I do want to call out one of the more obscure types that you see here which is UUID cql does not have a serial or sequence type which is commonly used in relational databases for row IDs therefore we replace these with a UUID type and it's cousin time UUID the difference between the two is that UUID is a randomly generated value and time UUID is generated based on the current time and some other unique variables finally we get to the primary key of the table which is probably the most important aspect of data modelling for Cassandra just like in a relational database the primary key determines uniqueness of each row in the table and determines how you can retrieve row data from tables however the primary key in a cql table also contains another important key which is called the partition key in our example here since the primary key only contains one column video ID this is also the partition key the partition key is extremely important because it identifies partitions partitions are the smallest unit of storage that Cassandra uses to distribute and to replicate data the partition key controls how Cassandra organizes rows into partitions and indirectly how large the partitions may become in our example the primary key and the partition key are both the video ID therefore we can only retrieve a row if we know the unique UUID value for that row also since the partition key is also the complete primary key I would only be able to query one row at a time of course it is also possible to run a full table scan to retrieve all rows for a table but this is an expensive operation for large tables generally full table scan queries are not queries that we want our application to perform so what this means is that you can query rows by the video ID but generally not by any other columns that you have for the table such as user ID name and so forth for Cassandra data modeling if we want to have a different way to query our video data we need to create another table let's create another table to illustrate this point I will also introduce another command here the use keyword will set the default key space for any subsequent commands or queries that we run so that we do not need to add that to the database object names such as your table of course you can still add the key space name in front and it will identify properly even if the default key space is different here we'll create another table called latest videos which will contain some of the same video data note that I do not have a key space name in front since we set the default key space we also have a new column called ýÿ ýÿ mmdd whose data we extract from our added date column here when you have multiple columns for the primary key the first column of the primary key will always be the partition key which is YY YY mmdd in this case in case you're wondering it is possible to have multiple columns as a partition key but I won't get into that in this video with the partition key of YY YY mmdd I can query rows in this table as long as I provide the YY YY M deedy value in the query this query returns the partition for the ýÿ ýÿ mmdd value which can be 0 or more rows if the partition key is only the first column in the primary key what is the purpose for the remaining columns added date and video ID we call these clustering columns the clustering columns you add to a primary key have a special purpose which is to determine how cassandra orders rows within the partition for this table it means that Cassandra sorts the rows in the partition by the first clustering column and then the second clustering column and so forth this can be useful so that the resulting rows you get back for a query are sorted in a particular order which in this case would be by added date and then by video ID the default sort Direction is ascending order but this can be changed in the table definition although we won't do that here note that it doesn't make sense for rows to be sorted by video ID since that should be unique for each video however it's added to the primary key precisely because we want a video to correspond with a row in the table in the next video we'll see how to write and query data to these tables and see some of the pitfalls that can occur when the primary key is not set up correctly if you're interested in learning more about any of the topics that we've covered briefly in this video I'd recommend that you take a look at the content we have on data Stax Academy at Academy data stacks com you'll find free courses there that cover the foundations of Apache Cassandra as well as an entire course dedicated just to data modeling",
    "segments": [
      {
        "start": 3.79,
        "duration": 5.01,
        "text": "hello welcome to the getting started"
      },
      {
        "start": 6.52,
        "duration": 4.26,
        "text": "series for the data stacks distribution"
      },
      {
        "start": 8.8,
        "duration": 3.75,
        "text": "of Apache Cassandra in this tutorial"
      },
      {
        "start": 10.78,
        "duration": 3.39,
        "text": "we'll show you how to connect to your"
      },
      {
        "start": 12.55,
        "duration": 4.38,
        "text": "cluster and we'll give you some basic"
      },
      {
        "start": 14.17,
        "duration": 4.47,
        "text": "data modeling skills let's start by"
      },
      {
        "start": 16.93,
        "duration": 3.54,
        "text": "using your browser to connect to the"
      },
      {
        "start": 18.64,
        "duration": 4.5,
        "text": "deployment manager in the Google Cloud"
      },
      {
        "start": 20.47,
        "duration": 4.86,
        "text": "console locate your Cassandra cluster"
      },
      {
        "start": 23.14,
        "duration": 3.809,
        "text": "deployment and click on the link to see"
      },
      {
        "start": 25.33,
        "duration": 3.57,
        "text": "the details of your deployment in the"
      },
      {
        "start": 26.949,
        "duration": 4.771,
        "text": "right side of your deployment window"
      },
      {
        "start": 28.9,
        "duration": 4.589,
        "text": "there are two links the top link takes"
      },
      {
        "start": 31.72,
        "duration": 4.17,
        "text": "you to a command shell on the DevOps"
      },
      {
        "start": 33.489,
        "duration": 4.471,
        "text": "server the second link takes you to a"
      },
      {
        "start": 35.89,
        "duration": 4.469,
        "text": "command shell on one of the seed nodes"
      },
      {
        "start": 37.96,
        "duration": 4.919,
        "text": "for the cluster let's take a look at"
      },
      {
        "start": 40.359,
        "duration": 4.921,
        "text": "what these instances are click here to"
      },
      {
        "start": 42.879,
        "duration": 5.1,
        "text": "open the DevOps VM web portal link in a"
      },
      {
        "start": 45.28,
        "duration": 5.129,
        "text": "new tab go to the new browser tab and"
      },
      {
        "start": 47.979,
        "duration": 4.141,
        "text": "click on the getting started section the"
      },
      {
        "start": 50.409,
        "duration": 4.441,
        "text": "image shows you that your deployment has"
      },
      {
        "start": 52.12,
        "duration": 4.379,
        "text": "several machine instances the yellow box"
      },
      {
        "start": 54.85,
        "duration": 4.439,
        "text": "on the Left represents your DevOps"
      },
      {
        "start": 56.499,
        "duration": 4.41,
        "text": "machine the other blue boxes represent"
      },
      {
        "start": 59.289,
        "duration": 3.36,
        "text": "the node instances of your Cassandra"
      },
      {
        "start": 60.909,
        "duration": 4.351,
        "text": "cluster where Cassandra stores your data"
      },
      {
        "start": 62.649,
        "duration": 5.01,
        "text": "if you created your cluster with private"
      },
      {
        "start": 65.26,
        "duration": 4.86,
        "text": "IPS the devops machine acts as a"
      },
      {
        "start": 67.659,
        "duration": 3.991,
        "text": "security gateway to your cluster let's"
      },
      {
        "start": 70.12,
        "duration": 3.48,
        "text": "go back to the deployment manager"
      },
      {
        "start": 71.65,
        "duration": 3.75,
        "text": "browser tab and launch a command shell"
      },
      {
        "start": 73.6,
        "duration": 3.81,
        "text": "for the seed node"
      },
      {
        "start": 75.4,
        "duration": 4.14,
        "text": "now that we are connected to a node in"
      },
      {
        "start": 77.41,
        "duration": 4.71,
        "text": "the cluster we can check the status of"
      },
      {
        "start": 79.54,
        "duration": 4.14,
        "text": "the cluster great the node tool status"
      },
      {
        "start": 82.12,
        "duration": 4.35,
        "text": "command tells us all the nodes in the"
      },
      {
        "start": 83.68,
        "duration": 5.85,
        "text": "cluster are up and normal as the UN on"
      },
      {
        "start": 86.47,
        "duration": 5.01,
        "text": "the Left indicates let's use CQ LSH to"
      },
      {
        "start": 89.53,
        "duration": 3.36,
        "text": "connect to the cluster we need to"
      },
      {
        "start": 91.48,
        "duration": 4.35,
        "text": "specify the name of the node we are"
      },
      {
        "start": 92.89,
        "duration": 5.04,
        "text": "connecting to let's use a here document"
      },
      {
        "start": 95.83,
        "duration": 5.61,
        "text": "to do that by placing the hostname"
      },
      {
        "start": 97.93,
        "duration": 6.27,
        "text": "command inside backticks cool we have a"
      },
      {
        "start": 101.44,
        "duration": 5.4,
        "text": "cql prom let's poke around just to see"
      },
      {
        "start": 104.2,
        "duration": 4.62,
        "text": "that our CQ all works finally we can"
      },
      {
        "start": 106.84,
        "duration": 4.22,
        "text": "exit the CQ l shell and the command"
      },
      {
        "start": 108.82,
        "duration": 2.24,
        "text": "shell"
      },
      {
        "start": 111.32,
        "duration": 4.74,
        "text": "takes care of connecting your cluster"
      },
      {
        "start": 113.0,
        "duration": 5.159,
        "text": "now let's turn to data modelling we will"
      },
      {
        "start": 116.06,
        "duration": 5.34,
        "text": "use Cassandra query language or cql"
      },
      {
        "start": 118.159,
        "duration": 5.311,
        "text": "within the cql shell to create our data"
      },
      {
        "start": 121.4,
        "duration": 4.5,
        "text": "model for this getting started video"
      },
      {
        "start": 123.47,
        "duration": 4.83,
        "text": "let's use the killer video application"
      },
      {
        "start": 125.9,
        "duration": 4.74,
        "text": "as the target for our data model killer"
      },
      {
        "start": 128.3,
        "duration": 6.24,
        "text": "video is an application that lets users"
      },
      {
        "start": 130.64,
        "duration": 6.36,
        "text": "upload share browse view videos and"
      },
      {
        "start": 134.54,
        "duration": 4.5,
        "text": "their associated metadata so our data"
      },
      {
        "start": 137.0,
        "duration": 4.62,
        "text": "model needs to store this video metadata"
      },
      {
        "start": 139.04,
        "duration": 4.62,
        "text": "let's start by creating a key space for"
      },
      {
        "start": 141.62,
        "duration": 3.96,
        "text": "our app a key space is a top-level"
      },
      {
        "start": 143.66,
        "duration": 4.98,
        "text": "namespace that contains other database"
      },
      {
        "start": 145.58,
        "duration": 5.31,
        "text": "objects like tables indexes user-defined"
      },
      {
        "start": 148.64,
        "duration": 4.41,
        "text": "types and so forth one other important"
      },
      {
        "start": 150.89,
        "duration": 4.56,
        "text": "thing about key spaces they control how"
      },
      {
        "start": 153.05,
        "duration": 4.47,
        "text": "cassandra replicates the data let's look"
      },
      {
        "start": 155.45,
        "duration": 4.08,
        "text": "at a create key space command the"
      },
      {
        "start": 157.52,
        "duration": 4.59,
        "text": "command syntax starts with the keywords"
      },
      {
        "start": 159.53,
        "duration": 5.61,
        "text": "create key space followed by the name of"
      },
      {
        "start": 162.11,
        "duration": 6.03,
        "text": "the key space in our example we'll use"
      },
      {
        "start": 165.14,
        "duration": 5.61,
        "text": "the key space named killer video next we"
      },
      {
        "start": 168.14,
        "duration": 4.74,
        "text": "specify the replication settings these"
      },
      {
        "start": 170.75,
        "duration": 4.08,
        "text": "include the replication strategy which"
      },
      {
        "start": 172.88,
        "duration": 4.74,
        "text": "determines how cassandra replicates the"
      },
      {
        "start": 174.83,
        "duration": 4.86,
        "text": "data and the replication factor which"
      },
      {
        "start": 177.62,
        "duration": 3.72,
        "text": "tells Cassandra how many copies of the"
      },
      {
        "start": 179.69,
        "duration": 3.87,
        "text": "data there should be in the cluster"
      },
      {
        "start": 181.34,
        "duration": 4.41,
        "text": "there are only two replication"
      },
      {
        "start": 183.56,
        "duration": 4.2,
        "text": "strategies that come with Cassandra but"
      },
      {
        "start": 185.75,
        "duration": 3.54,
        "text": "the network topology strategy is the"
      },
      {
        "start": 187.76,
        "duration": 4.14,
        "text": "only one we recommend using in"
      },
      {
        "start": 189.29,
        "duration": 4.89,
        "text": "production so that's the strategy we'll"
      },
      {
        "start": 191.9,
        "duration": 4.29,
        "text": "use in our key space we specify the"
      },
      {
        "start": 194.18,
        "duration": 4.02,
        "text": "strategy here in the create key space"
      },
      {
        "start": 196.19,
        "duration": 4.53,
        "text": "command when we use the network topology"
      },
      {
        "start": 198.2,
        "duration": 5.039,
        "text": "strategy we also specify a replication"
      },
      {
        "start": 200.72,
        "duration": 5.01,
        "text": "factor for each data center in our"
      },
      {
        "start": 203.239,
        "duration": 6.871,
        "text": "example we only have one data center"
      },
      {
        "start": 205.73,
        "duration": 7.77,
        "text": "named DC 0 so we'll set its replication"
      },
      {
        "start": 210.11,
        "duration": 5.189,
        "text": "factor to 3 a replication factor of 3"
      },
      {
        "start": 213.5,
        "duration": 3.959,
        "text": "means Cassandra can still retrieve the"
      },
      {
        "start": 215.299,
        "duration": 4.41,
        "text": "data even if the nodes containing two of"
      },
      {
        "start": 217.459,
        "duration": 4.231,
        "text": "the copies are offline be careful when"
      },
      {
        "start": 219.709,
        "duration": 3.901,
        "text": "you set up the replication factor since"
      },
      {
        "start": 221.69,
        "duration": 3.87,
        "text": "Cassandra does not catch typos in the"
      },
      {
        "start": 223.61,
        "duration": 4.17,
        "text": "data center name mistakes can cause"
      },
      {
        "start": 225.56,
        "duration": 4.08,
        "text": "reads and writes to fail since Cassandra"
      },
      {
        "start": 227.78,
        "duration": 4.019,
        "text": "looks for nodes in a non-existent data"
      },
      {
        "start": 229.64,
        "duration": 3.87,
        "text": "center cassandra also doesn't check if"
      },
      {
        "start": 231.799,
        "duration": 3.301,
        "text": "you set the replication factor higher"
      },
      {
        "start": 233.51,
        "duration": 3.42,
        "text": "than the number of nodes in your data"
      },
      {
        "start": 235.1,
        "duration": 4.319,
        "text": "center and that can potentially cause"
      },
      {
        "start": 236.93,
        "duration": 3.6,
        "text": "reads and writes to fail as well you"
      },
      {
        "start": 239.419,
        "duration": 3.711,
        "text": "might have noticed that I pressed"
      },
      {
        "start": 240.53,
        "duration": 4.4,
        "text": "entered and continued typing the command"
      },
      {
        "start": 243.13,
        "duration": 3.78,
        "text": "pressing enter is just a continuation of"
      },
      {
        "start": 244.93,
        "duration": 3.96,
        "text": "the command that I type and it doesn't"
      },
      {
        "start": 246.91,
        "duration": 3.42,
        "text": "get executed until I add the semicolon"
      },
      {
        "start": 248.89,
        "duration": 3.33,
        "text": "at the end and press Enter"
      },
      {
        "start": 250.33,
        "duration": 4.26,
        "text": "that's all it takes to create a killer"
      },
      {
        "start": 252.22,
        "duration": 4.47,
        "text": "video keyspace now that we have a key"
      },
      {
        "start": 254.59,
        "duration": 4.86,
        "text": "space we can create tables within the"
      },
      {
        "start": 256.69,
        "duration": 4.65,
        "text": "key space as you might imagine a table"
      },
      {
        "start": 259.45,
        "duration": 2.94,
        "text": "is a database object that stores data in"
      },
      {
        "start": 261.34,
        "duration": 3.75,
        "text": "rows and columns"
      },
      {
        "start": 262.39,
        "duration": 5.13,
        "text": "each column has a different name and a"
      },
      {
        "start": 265.09,
        "duration": 4.68,
        "text": "declared type we'll start by creating a"
      },
      {
        "start": 267.52,
        "duration": 3.78,
        "text": "videos table for our application which"
      },
      {
        "start": 269.77,
        "duration": 4.32,
        "text": "will store information and metadata"
      },
      {
        "start": 271.3,
        "duration": 4.62,
        "text": "about the videos that users upload note"
      },
      {
        "start": 274.09,
        "duration": 3.69,
        "text": "that we also add the key space name in"
      },
      {
        "start": 275.92,
        "duration": 4.5,
        "text": "front of the table name divided by a"
      },
      {
        "start": 277.78,
        "duration": 4.35,
        "text": "period this avoids any ambiguity about"
      },
      {
        "start": 280.42,
        "duration": 4.11,
        "text": "which key space we are using for this"
      },
      {
        "start": 282.13,
        "duration": 4.89,
        "text": "table we won't be getting into what each"
      },
      {
        "start": 284.53,
        "duration": 4.26,
        "text": "column does but take note that we are"
      },
      {
        "start": 287.02,
        "duration": 4.02,
        "text": "declaring the name and a type for each"
      },
      {
        "start": 288.79,
        "duration": 4.41,
        "text": "column as well as a primary key for the"
      },
      {
        "start": 291.04,
        "duration": 3.36,
        "text": "table there are all the standard types"
      },
      {
        "start": 293.2,
        "duration": 3.99,
        "text": "that you would expect to see in a"
      },
      {
        "start": 294.4,
        "duration": 5.28,
        "text": "database such as int text timestamp and"
      },
      {
        "start": 297.19,
        "duration": 4.41,
        "text": "so forth however I do want to call out"
      },
      {
        "start": 299.68,
        "duration": 5.34,
        "text": "one of the more obscure types that you"
      },
      {
        "start": 301.6,
        "duration": 5.16,
        "text": "see here which is UUID cql does not have"
      },
      {
        "start": 305.02,
        "duration": 3.3,
        "text": "a serial or sequence type which is"
      },
      {
        "start": 306.76,
        "duration": 4.92,
        "text": "commonly used in relational databases"
      },
      {
        "start": 308.32,
        "duration": 6.42,
        "text": "for row IDs therefore we replace these"
      },
      {
        "start": 311.68,
        "duration": 5.79,
        "text": "with a UUID type and it's cousin time"
      },
      {
        "start": 314.74,
        "duration": 5.46,
        "text": "UUID the difference between the two is"
      },
      {
        "start": 317.47,
        "duration": 4.11,
        "text": "that UUID is a randomly generated value"
      },
      {
        "start": 320.2,
        "duration": 3.69,
        "text": "and time UUID"
      },
      {
        "start": 321.58,
        "duration": 4.89,
        "text": "is generated based on the current time"
      },
      {
        "start": 323.89,
        "duration": 4.53,
        "text": "and some other unique variables finally"
      },
      {
        "start": 326.47,
        "duration": 4.23,
        "text": "we get to the primary key of the table"
      },
      {
        "start": 328.42,
        "duration": 4.17,
        "text": "which is probably the most important"
      },
      {
        "start": 330.7,
        "duration": 4.26,
        "text": "aspect of data modelling for Cassandra"
      },
      {
        "start": 332.59,
        "duration": 4.26,
        "text": "just like in a relational database the"
      },
      {
        "start": 334.96,
        "duration": 4.17,
        "text": "primary key determines uniqueness of"
      },
      {
        "start": 336.85,
        "duration": 4.55,
        "text": "each row in the table and determines how"
      },
      {
        "start": 339.13,
        "duration": 5.64,
        "text": "you can retrieve row data from tables"
      },
      {
        "start": 341.4,
        "duration": 5.77,
        "text": "however the primary key in a cql table"
      },
      {
        "start": 344.77,
        "duration": 5.52,
        "text": "also contains another important key"
      },
      {
        "start": 347.17,
        "duration": 5.25,
        "text": "which is called the partition key in our"
      },
      {
        "start": 350.29,
        "duration": 4.98,
        "text": "example here since the primary key only"
      },
      {
        "start": 352.42,
        "duration": 5.35,
        "text": "contains one column video ID this is"
      },
      {
        "start": 355.27,
        "duration": 4.899,
        "text": "also the partition key"
      },
      {
        "start": 357.77,
        "duration": 4.04,
        "text": "the partition key is extremely important"
      },
      {
        "start": 360.169,
        "duration": 3.72,
        "text": "because it identifies partitions"
      },
      {
        "start": 361.81,
        "duration": 3.91,
        "text": "partitions are the smallest unit of"
      },
      {
        "start": 363.889,
        "duration": 4.801,
        "text": "storage that Cassandra uses to"
      },
      {
        "start": 365.72,
        "duration": 5.009,
        "text": "distribute and to replicate data the"
      },
      {
        "start": 368.69,
        "duration": 3.9,
        "text": "partition key controls how Cassandra"
      },
      {
        "start": 370.729,
        "duration": 4.261,
        "text": "organizes rows into partitions and"
      },
      {
        "start": 372.59,
        "duration": 6.15,
        "text": "indirectly how large the partitions may"
      },
      {
        "start": 374.99,
        "duration": 5.88,
        "text": "become in our example the primary key"
      },
      {
        "start": 378.74,
        "duration": 5.16,
        "text": "and the partition key are both the video"
      },
      {
        "start": 380.87,
        "duration": 5.669,
        "text": "ID therefore we can only retrieve a row"
      },
      {
        "start": 383.9,
        "duration": 5.37,
        "text": "if we know the unique UUID value for"
      },
      {
        "start": 386.539,
        "duration": 5.071,
        "text": "that row also since the partition key is"
      },
      {
        "start": 389.27,
        "duration": 4.399,
        "text": "also the complete primary key I would"
      },
      {
        "start": 391.61,
        "duration": 4.92,
        "text": "only be able to query one row at a time"
      },
      {
        "start": 393.669,
        "duration": 5.111,
        "text": "of course it is also possible to run a"
      },
      {
        "start": 396.53,
        "duration": 4.289,
        "text": "full table scan to retrieve all rows for"
      },
      {
        "start": 398.78,
        "duration": 4.74,
        "text": "a table but this is an expensive"
      },
      {
        "start": 400.819,
        "duration": 4.831,
        "text": "operation for large tables generally"
      },
      {
        "start": 403.52,
        "duration": 3.769,
        "text": "full table scan queries are not queries"
      },
      {
        "start": 405.65,
        "duration": 4.049,
        "text": "that we want our application to perform"
      },
      {
        "start": 407.289,
        "duration": 5.111,
        "text": "so what this means is that you can query"
      },
      {
        "start": 409.699,
        "duration": 4.53,
        "text": "rows by the video ID but generally not"
      },
      {
        "start": 412.4,
        "duration": 4.23,
        "text": "by any other columns that you have for"
      },
      {
        "start": 414.229,
        "duration": 5.16,
        "text": "the table such as user ID name and so"
      },
      {
        "start": 416.63,
        "duration": 4.11,
        "text": "forth for Cassandra data modeling if we"
      },
      {
        "start": 419.389,
        "duration": 3.601,
        "text": "want to have a different way to query"
      },
      {
        "start": 420.74,
        "duration": 4.83,
        "text": "our video data we need to create another"
      },
      {
        "start": 422.99,
        "duration": 4.859,
        "text": "table let's create another table to"
      },
      {
        "start": 425.57,
        "duration": 4.74,
        "text": "illustrate this point I will also"
      },
      {
        "start": 427.849,
        "duration": 4.62,
        "text": "introduce another command here the use"
      },
      {
        "start": 430.31,
        "duration": 4.139,
        "text": "keyword will set the default key space"
      },
      {
        "start": 432.469,
        "duration": 4.561,
        "text": "for any subsequent commands or queries"
      },
      {
        "start": 434.449,
        "duration": 4.291,
        "text": "that we run so that we do not need to"
      },
      {
        "start": 437.03,
        "duration": 4.199,
        "text": "add that to the database object names"
      },
      {
        "start": 438.74,
        "duration": 4.35,
        "text": "such as your table of course you can"
      },
      {
        "start": 441.229,
        "duration": 4.171,
        "text": "still add the key space name in front"
      },
      {
        "start": 443.09,
        "duration": 4.979,
        "text": "and it will identify properly even if"
      },
      {
        "start": 445.4,
        "duration": 4.38,
        "text": "the default key space is different here"
      },
      {
        "start": 448.069,
        "duration": 3.75,
        "text": "we'll create another table called latest"
      },
      {
        "start": 449.78,
        "duration": 4.53,
        "text": "videos which will contain some of the"
      },
      {
        "start": 451.819,
        "duration": 4.59,
        "text": "same video data note that I do not have"
      },
      {
        "start": 454.31,
        "duration": 5.13,
        "text": "a key space name in front since we set"
      },
      {
        "start": 456.409,
        "duration": 6.391,
        "text": "the default key space we also have a new"
      },
      {
        "start": 459.44,
        "duration": 6.36,
        "text": "column called ýÿ ýÿ mmdd whose data we"
      },
      {
        "start": 462.8,
        "duration": 4.47,
        "text": "extract from our added date column here"
      },
      {
        "start": 465.8,
        "duration": 3.119,
        "text": "when you have multiple columns for the"
      },
      {
        "start": 467.27,
        "duration": 3.959,
        "text": "primary key the first column of the"
      },
      {
        "start": 468.919,
        "duration": 7.05,
        "text": "primary key will always be the partition"
      },
      {
        "start": 471.229,
        "duration": 7.141,
        "text": "key which is YY YY mmdd in this case in"
      },
      {
        "start": 475.969,
        "duration": 4.26,
        "text": "case you're wondering it is possible to"
      },
      {
        "start": 478.37,
        "duration": 3.74,
        "text": "have multiple columns as a partition key"
      },
      {
        "start": 480.229,
        "duration": 5.94,
        "text": "but I won't get into that in this video"
      },
      {
        "start": 482.11,
        "duration": 6.88,
        "text": "with the partition key of YY YY mmdd I"
      },
      {
        "start": 486.169,
        "duration": 4.581,
        "text": "can query rows in this table as long as"
      },
      {
        "start": 488.99,
        "duration": 4.91,
        "text": "I provide the YY YY M"
      },
      {
        "start": 490.75,
        "duration": 6.36,
        "text": "deedy value in the query this query"
      },
      {
        "start": 493.9,
        "duration": 7.02,
        "text": "returns the partition for the ýÿ ýÿ mmdd"
      },
      {
        "start": 497.11,
        "duration": 5.61,
        "text": "value which can be 0 or more rows if the"
      },
      {
        "start": 500.92,
        "duration": 3.69,
        "text": "partition key is only the first column"
      },
      {
        "start": 502.72,
        "duration": 4.02,
        "text": "in the primary key what is the purpose"
      },
      {
        "start": 504.61,
        "duration": 2.88,
        "text": "for the remaining columns added date and"
      },
      {
        "start": 506.74,
        "duration": 4.17,
        "text": "video ID"
      },
      {
        "start": 507.49,
        "duration": 5.1,
        "text": "we call these clustering columns the"
      },
      {
        "start": 510.91,
        "duration": 3.6,
        "text": "clustering columns you add to a primary"
      },
      {
        "start": 512.59,
        "duration": 3.78,
        "text": "key have a special purpose which is to"
      },
      {
        "start": 514.51,
        "duration": 4.649,
        "text": "determine how cassandra orders rows"
      },
      {
        "start": 516.37,
        "duration": 4.41,
        "text": "within the partition for this table it"
      },
      {
        "start": 519.159,
        "duration": 3.781,
        "text": "means that Cassandra sorts the rows in"
      },
      {
        "start": 520.78,
        "duration": 4.02,
        "text": "the partition by the first clustering"
      },
      {
        "start": 522.94,
        "duration": 2.88,
        "text": "column and then the second clustering"
      },
      {
        "start": 524.8,
        "duration": 3.54,
        "text": "column and so forth"
      },
      {
        "start": 525.82,
        "duration": 4.44,
        "text": "this can be useful so that the resulting"
      },
      {
        "start": 528.34,
        "duration": 4.2,
        "text": "rows you get back for a query are sorted"
      },
      {
        "start": 530.26,
        "duration": 5.76,
        "text": "in a particular order which in this case"
      },
      {
        "start": 532.54,
        "duration": 6.24,
        "text": "would be by added date and then by video"
      },
      {
        "start": 536.02,
        "duration": 4.5,
        "text": "ID the default sort Direction is"
      },
      {
        "start": 538.78,
        "duration": 3.6,
        "text": "ascending order but this can be changed"
      },
      {
        "start": 540.52,
        "duration": 4.32,
        "text": "in the table definition although we"
      },
      {
        "start": 542.38,
        "duration": 3.84,
        "text": "won't do that here note that it doesn't"
      },
      {
        "start": 544.84,
        "duration": 3.84,
        "text": "make sense for rows to be sorted by"
      },
      {
        "start": 546.22,
        "duration": 3.05,
        "text": "video ID since that should be unique for"
      },
      {
        "start": 548.68,
        "duration": 3.15,
        "text": "each video"
      },
      {
        "start": 549.27,
        "duration": 4.54,
        "text": "however it's added to the primary key"
      },
      {
        "start": 551.83,
        "duration": 4.8,
        "text": "precisely because we want a video to"
      },
      {
        "start": 553.81,
        "duration": 4.38,
        "text": "correspond with a row in the table in"
      },
      {
        "start": 556.63,
        "duration": 3.69,
        "text": "the next video we'll see how to write"
      },
      {
        "start": 558.19,
        "duration": 4.32,
        "text": "and query data to these tables and see"
      },
      {
        "start": 560.32,
        "duration": 3.93,
        "text": "some of the pitfalls that can occur when"
      },
      {
        "start": 562.51,
        "duration": 3.81,
        "text": "the primary key is not set up correctly"
      },
      {
        "start": 564.25,
        "duration": 3.48,
        "text": "if you're interested in learning more"
      },
      {
        "start": 566.32,
        "duration": 3.33,
        "text": "about any of the topics that we've"
      },
      {
        "start": 567.73,
        "duration": 3.39,
        "text": "covered briefly in this video I'd"
      },
      {
        "start": 569.65,
        "duration": 4.14,
        "text": "recommend that you take a look at the"
      },
      {
        "start": 571.12,
        "duration": 6.18,
        "text": "content we have on data Stax Academy at"
      },
      {
        "start": 573.79,
        "duration": 5.52,
        "text": "Academy data stacks com you'll find free"
      },
      {
        "start": 577.3,
        "duration": 4.44,
        "text": "courses there that cover the foundations"
      },
      {
        "start": 579.31,
        "duration": 6.65,
        "text": "of Apache Cassandra as well as an entire"
      },
      {
        "start": 581.74,
        "duration": 4.22,
        "text": "course dedicated just to data modeling"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T04:25:38.895863+00:00"
}