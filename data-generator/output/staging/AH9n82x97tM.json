{
  "video_id": "AH9n82x97tM",
  "title": "DS210.29 JVM Settings | Operations with Apache Cassandra",
  "description": "#DataStaxAcademy #DS210\nDS210.29 JVM SETTINGS\nApache Cassandra is a Java application, hence it runs on the Java Virtual Machine, or JVM. There for it is important to know how to configure the JVM. You will learn about that in this unit.\n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-12T01:42:44Z",
  "thumbnail": "https://i.ytimg.com/vi/AH9n82x97tM/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "cassandra",
    "datastax",
    "tutorial",
    "apache_cassandra"
  ],
  "url": "https://www.youtube.com/watch?v=AH9n82x97tM",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] hi i'm jamie king let's talk about jvm settings any application you execute runs on top of layers of architecture apache cassandra is a java application hence it runs on the java virtual machine or better known affectionately as the beloved jvm the jvm runs on top of your operating system which further runs on top of your hardware so how many overall layers does this give us well there's the application which is apache cassandra most configuration you'll do for cassandra is in the cassandra yaml file you tune the jvm and the jvm.options file depending on your operating system you may have several possibilities there as well and last but probably most fun is upgrading your hardware most likely the first tuning parameter you'll work with deals with how much memory you give apache cassandra the java virtual machine divides memory into logical sections one for code one for the stack and most notable is the transient area we know as the heap the heap is where most of the action happens as cassandra serves requests compacts data and pretty much does everything it does it mostly utilizes the heap as cassandra releases memory it has used the garbage collector reclaims all the space for future use the jvm.options file is where you tune how your virtual machine behaves it's basically a set of default command line options for when data stacks enterprise begins execution when you start data stacks enterprise the cassandra environment shell file includes all these options for you obviously don't tweak these values if you're unfamiliar with what they do the default values are a safe place to start if you are unsure of what values you should use max heap size determines how large your jvm heap will be eight gigabytes is a good baseline be careful not to tune this value up too high as the operating system still needs enough room to operate as well now one disadvantage to large heaps is garbage collection pauses the larger the heap the less often the garbage collector has to kick in but when it kicks in it kicks in and it will take much longer to complete depending on the type of garbage collection you're using heap new size determines how much of the heap apache cassandra will use for creating objects we'll get into this more soon but for now think of this as the area for new generational objects that is the young and hip crowd in town don't worry usually new objects are collected sooner rather than later because they are generally temporary instances by default you got 100 megabytes per core for this new area again don't make your heaps too large the os needs room to operate and large heap size leads to large garbage collection times 8 gigabytes is a good starting point java 9 recently changed the default garbage collector algorithm to g1 which stands for garbage first we'll get into the details shortly the previous collector was concurrent mark and sweep or cms for short the main difference is that g1 breaks the heap into smaller sections and targets those sections that may have the most garbage in them we'll get into this more soon jmx is a java technology that allows you to communicate and manage your java application think of it as a way to hook into your java application and tweak some runtime values here are a few of the settings you can tune with jmx take a moment pause the video look them over perhaps go get a snack while you're at it",
    "segments": [
      {
        "start": 1.47,
        "duration": 5.31,
        "text": "[Music]"
      },
      {
        "start": 7.359,
        "duration": 3.681,
        "text": "hi"
      },
      {
        "start": 8.0,
        "duration": 3.92,
        "text": "i'm jamie king let's talk about jvm"
      },
      {
        "start": 11.04,
        "duration": 3.12,
        "text": "settings"
      },
      {
        "start": 11.92,
        "duration": 4.56,
        "text": "any application you execute runs on top"
      },
      {
        "start": 14.16,
        "duration": 4.72,
        "text": "of layers of architecture apache"
      },
      {
        "start": 16.48,
        "duration": 4.4,
        "text": "cassandra is a java application"
      },
      {
        "start": 18.88,
        "duration": 4.559,
        "text": "hence it runs on the java virtual"
      },
      {
        "start": 20.88,
        "duration": 3.6,
        "text": "machine or better known affectionately"
      },
      {
        "start": 23.439,
        "duration": 4.16,
        "text": "as the beloved"
      },
      {
        "start": 24.48,
        "duration": 4.32,
        "text": "jvm the jvm runs on top of your"
      },
      {
        "start": 27.599,
        "duration": 2.881,
        "text": "operating system"
      },
      {
        "start": 28.8,
        "duration": 4.08,
        "text": "which further runs on top of your"
      },
      {
        "start": 30.48,
        "duration": 3.2,
        "text": "hardware so how many overall layers does"
      },
      {
        "start": 32.88,
        "duration": 2.88,
        "text": "this give us"
      },
      {
        "start": 33.68,
        "duration": 3.6,
        "text": "well there's the application which is"
      },
      {
        "start": 35.76,
        "duration": 3.04,
        "text": "apache cassandra"
      },
      {
        "start": 37.28,
        "duration": 4.24,
        "text": "most configuration you'll do for"
      },
      {
        "start": 38.8,
        "duration": 5.52,
        "text": "cassandra is in the cassandra yaml file"
      },
      {
        "start": 41.52,
        "duration": 3.6,
        "text": "you tune the jvm and the jvm.options"
      },
      {
        "start": 44.32,
        "duration": 2.96,
        "text": "file"
      },
      {
        "start": 45.12,
        "duration": 4.16,
        "text": "depending on your operating system you"
      },
      {
        "start": 47.28,
        "duration": 3.04,
        "text": "may have several possibilities there as"
      },
      {
        "start": 49.28,
        "duration": 3.439,
        "text": "well"
      },
      {
        "start": 50.32,
        "duration": 3.84,
        "text": "and last but probably most fun is"
      },
      {
        "start": 52.719,
        "duration": 3.52,
        "text": "upgrading your hardware"
      },
      {
        "start": 54.16,
        "duration": 3.919,
        "text": "most likely the first tuning parameter"
      },
      {
        "start": 56.239,
        "duration": 4.401,
        "text": "you'll work with deals with how much"
      },
      {
        "start": 58.079,
        "duration": 4.881,
        "text": "memory you give apache cassandra the"
      },
      {
        "start": 60.64,
        "duration": 3.919,
        "text": "java virtual machine divides memory into"
      },
      {
        "start": 62.96,
        "duration": 4.72,
        "text": "logical sections"
      },
      {
        "start": 64.559,
        "duration": 3.761,
        "text": "one for code one for the stack and most"
      },
      {
        "start": 67.68,
        "duration": 3.36,
        "text": "notable"
      },
      {
        "start": 68.32,
        "duration": 3.76,
        "text": "is the transient area we know as the"
      },
      {
        "start": 71.04,
        "duration": 2.64,
        "text": "heap"
      },
      {
        "start": 72.08,
        "duration": 4.56,
        "text": "the heap is where most of the action"
      },
      {
        "start": 73.68,
        "duration": 4.799,
        "text": "happens as cassandra serves requests"
      },
      {
        "start": 76.64,
        "duration": 3.2,
        "text": "compacts data and pretty much does"
      },
      {
        "start": 78.479,
        "duration": 4.241,
        "text": "everything it does"
      },
      {
        "start": 79.84,
        "duration": 4.959,
        "text": "it mostly utilizes the heap as cassandra"
      },
      {
        "start": 82.72,
        "duration": 3.84,
        "text": "releases memory it has used the garbage"
      },
      {
        "start": 84.799,
        "duration": 3.041,
        "text": "collector reclaims all the space for"
      },
      {
        "start": 86.56,
        "duration": 3.76,
        "text": "future use"
      },
      {
        "start": 87.84,
        "duration": 4.48,
        "text": "the jvm.options file is where you tune"
      },
      {
        "start": 90.32,
        "duration": 4.159,
        "text": "how your virtual machine behaves"
      },
      {
        "start": 92.32,
        "duration": 3.839,
        "text": "it's basically a set of default command"
      },
      {
        "start": 94.479,
        "duration": 4.0,
        "text": "line options for when data stacks"
      },
      {
        "start": 96.159,
        "duration": 4.081,
        "text": "enterprise begins execution"
      },
      {
        "start": 98.479,
        "duration": 3.841,
        "text": "when you start data stacks enterprise"
      },
      {
        "start": 100.24,
        "duration": 4.239,
        "text": "the cassandra environment shell file"
      },
      {
        "start": 102.32,
        "duration": 3.92,
        "text": "includes all these options for you"
      },
      {
        "start": 104.479,
        "duration": 4.0,
        "text": "obviously don't tweak these values if"
      },
      {
        "start": 106.24,
        "duration": 4.159,
        "text": "you're unfamiliar with what they do"
      },
      {
        "start": 108.479,
        "duration": 4.081,
        "text": "the default values are a safe place to"
      },
      {
        "start": 110.399,
        "duration": 3.76,
        "text": "start if you are unsure of what values"
      },
      {
        "start": 112.56,
        "duration": 3.68,
        "text": "you should use"
      },
      {
        "start": 114.159,
        "duration": 3.841,
        "text": "max heap size determines how large your"
      },
      {
        "start": 116.24,
        "duration": 4.239,
        "text": "jvm heap will be"
      },
      {
        "start": 118.0,
        "duration": 4.159,
        "text": "eight gigabytes is a good baseline be"
      },
      {
        "start": 120.479,
        "duration": 3.841,
        "text": "careful not to tune this value up too"
      },
      {
        "start": 122.159,
        "duration": 4.081,
        "text": "high as the operating system still needs"
      },
      {
        "start": 124.32,
        "duration": 3.999,
        "text": "enough room to operate as well"
      },
      {
        "start": 126.24,
        "duration": 3.76,
        "text": "now one disadvantage to large heaps is"
      },
      {
        "start": 128.319,
        "duration": 3.761,
        "text": "garbage collection pauses"
      },
      {
        "start": 130.0,
        "duration": 3.44,
        "text": "the larger the heap the less often the"
      },
      {
        "start": 132.08,
        "duration": 4.56,
        "text": "garbage collector has to kick"
      },
      {
        "start": 133.44,
        "duration": 5.28,
        "text": "in but when it kicks in it kicks in"
      },
      {
        "start": 136.64,
        "duration": 3.44,
        "text": "and it will take much longer to complete"
      },
      {
        "start": 138.72,
        "duration": 3.519,
        "text": "depending on the type of garbage"
      },
      {
        "start": 140.08,
        "duration": 4.0,
        "text": "collection you're using"
      },
      {
        "start": 142.239,
        "duration": 3.761,
        "text": "heap new size determines how much of the"
      },
      {
        "start": 144.08,
        "duration": 3.2,
        "text": "heap apache cassandra will use for"
      },
      {
        "start": 146.0,
        "duration": 2.959,
        "text": "creating objects"
      },
      {
        "start": 147.28,
        "duration": 3.92,
        "text": "we'll get into this more soon but for"
      },
      {
        "start": 148.959,
        "duration": 3.601,
        "text": "now think of this as the area for new"
      },
      {
        "start": 151.2,
        "duration": 3.6,
        "text": "generational objects"
      },
      {
        "start": 152.56,
        "duration": 4.0,
        "text": "that is the young and hip crowd in town"
      },
      {
        "start": 154.8,
        "duration": 3.439,
        "text": "don't worry usually new objects are"
      },
      {
        "start": 156.56,
        "duration": 3.28,
        "text": "collected sooner rather than later"
      },
      {
        "start": 158.239,
        "duration": 2.801,
        "text": "because they are generally temporary"
      },
      {
        "start": 159.84,
        "duration": 3.52,
        "text": "instances"
      },
      {
        "start": 161.04,
        "duration": 4.479,
        "text": "by default you got 100 megabytes per"
      },
      {
        "start": 163.36,
        "duration": 4.239,
        "text": "core for this new area"
      },
      {
        "start": 165.519,
        "duration": 4.401,
        "text": "again don't make your heaps too large"
      },
      {
        "start": 167.599,
        "duration": 3.121,
        "text": "the os needs room to operate and large"
      },
      {
        "start": 169.92,
        "duration": 3.52,
        "text": "heap size"
      },
      {
        "start": 170.72,
        "duration": 5.2,
        "text": "leads to large garbage collection times"
      },
      {
        "start": 173.44,
        "duration": 4.56,
        "text": "8 gigabytes is a good starting point"
      },
      {
        "start": 175.92,
        "duration": 4.399,
        "text": "java 9 recently changed the default"
      },
      {
        "start": 178.0,
        "duration": 4.48,
        "text": "garbage collector algorithm to g1"
      },
      {
        "start": 180.319,
        "duration": 4.161,
        "text": "which stands for garbage first we'll get"
      },
      {
        "start": 182.48,
        "duration": 4.16,
        "text": "into the details shortly the previous"
      },
      {
        "start": 184.48,
        "duration": 4.8,
        "text": "collector was concurrent mark and sweep"
      },
      {
        "start": 186.64,
        "duration": 4.72,
        "text": "or cms for short the main difference is"
      },
      {
        "start": 189.28,
        "duration": 3.84,
        "text": "that g1 breaks the heap into smaller"
      },
      {
        "start": 191.36,
        "duration": 3.84,
        "text": "sections and targets those sections that"
      },
      {
        "start": 193.12,
        "duration": 5.36,
        "text": "may have the most garbage in them"
      },
      {
        "start": 195.2,
        "duration": 5.039,
        "text": "we'll get into this more soon jmx is a"
      },
      {
        "start": 198.48,
        "duration": 3.36,
        "text": "java technology that allows you to"
      },
      {
        "start": 200.239,
        "duration": 2.881,
        "text": "communicate and manage your java"
      },
      {
        "start": 201.84,
        "duration": 2.88,
        "text": "application"
      },
      {
        "start": 203.12,
        "duration": 3.839,
        "text": "think of it as a way to hook into your"
      },
      {
        "start": 204.72,
        "duration": 3.04,
        "text": "java application and tweak some runtime"
      },
      {
        "start": 206.959,
        "duration": 2.241,
        "text": "values"
      },
      {
        "start": 207.76,
        "duration": 3.039,
        "text": "here are a few of the settings you can"
      },
      {
        "start": 209.2,
        "duration": 4.319,
        "text": "tune with jmx"
      },
      {
        "start": 210.799,
        "duration": 5.041,
        "text": "take a moment pause the video look them"
      },
      {
        "start": 213.519,
        "duration": 5.72,
        "text": "over"
      },
      {
        "start": 215.84,
        "duration": 6.399,
        "text": "perhaps go get a snack while you're at"
      },
      {
        "start": 219.239,
        "duration": 3.0,
        "text": "it"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T01:16:19.216054+00:00"
}