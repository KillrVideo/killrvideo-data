{
  "video_id": "iZs00po5gRY",
  "title": "DS310.32 Using Dsetool | DataStax Enterprise 6 Search",
  "description": "#DataStaxAcademy #DS310\nDS310.32 Using Dsetool\nDsetool mirrors functionality provided by the CQL index management commands. Learn more about this command-line tool in this video.\n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-15T20:55:21Z",
  "thumbnail": "https://i.ytimg.com/vi/iZs00po5gRY/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "cql",
    "cassandra",
    "search",
    "tutorial",
    "apache_cassandra",
    "dse",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=iZs00po5gRY",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] hi i'm joe chu and welcome to using dse tool in this video we'll be taking a look at one of the most important command line tools in dlc and what it can do with dlc search dse tool actually mirrors a lot of the same functions that we've seen earlier with cql index management commands well actually it's more accurate to say that the cql commands duplicate dlc tool since the uc tool has been around and used since the early days of dlc while i will admit that cql is in many ways much more convenient to use there are still plenty of things that only dsc tool can do aside from managing your search index schema and config in fact dse tool is the only way that you can run certain operations on individual nodes something that you wouldn't be able to do with the cql commands which work on all of the nodes in a data center if you are restoring data on a node and need to rebuild indexes do you want to do so on all of your nodes or just the one that needs it and that's where dsc tool comes in so here's a table with all the dlc tool commands that are related to dlc search there are quite a few of them but let's take a look at them one by one to see how they work the classic way to create a search index is by using the create core command this method for creating your search index can still automatically generate your schema and config for you if you set the generate resources flag to true otherwise you can provide your own resource files and set the path to those files with the schema and solar config flags running the command will automatically update and store those files into dsc and create the search index with them that's it really you really just need to set the flag to automatically create the schema and config or to provide your own dsc tool will create the search index and re-index existing data in all the search nodes in the current data center in special cases when you don't want to re-index right away or if you only want to re-index on the node you're running dsc tool on you can use the re-index and the distributed flag to change the behavior here are some examples of using the create core command the first example is one of the simplest which is just to create a search index on the killer video videos table and automatically generate the schema and config the command will also re-index data across all search nodes in the cluster the second example can be used in a situation where you don't want to re-index the existing data it will just create the search index for killer video videos using the automatically generated resource files the third example uses the distributed flag to only re-index data on the local node and the last example uses the schema and solar config flags to specify which files to use for the two search index resources since only a file name is provided and not the absolute path dlc tool will expect those files to be in the current working directory the next command that we'll take a look at is the reload core command which tells dse to reload the requested search index reload core doesn't require any parameters but usually a modified schema and or config is provided which will automatically be used following the reload use the schema and solar config flag that we've seen previously to set the path to the modified files reload core still has the re-index and distributed flags which works the same wave as we've seen before there is also a new flag delete all that can delete the previous index prior to reindexing if set to true this would cause search queries to possibly return no or partial results while table data is re-indexing the default behavior though would be to continue to use the previous index after the reload which should be based on the schema used previously this could potentially return incorrect results depending on how the schema was changed of course if the schema has not changed at all there would be no need to re-index or to delete the previous index the first example here shows the killervideo.videos index being reloaded using a new schema and solar config the data for the table will be re-indexed but will continue to use the old indexes while it is doing so the second example reloads the search index using only a new config file no re-indexing is needed finally the last example shows a situation where a new schema is provided and will be used following the reload the search index will also drop the previous indexes and re-index data again using this new schema the last command when it comes to modifying the search index is the unload core command the command will effectively delete the search index remove the solar query pseudo column and disable search queries on the specified table however the resource files that you have saved for the search index are still kept unless you use the flag delete resources likewise the existing index segment files are saved as well by default but can be deleted automatically with the delete data flag if for some reason you only want to delete the index segments on the local node you can add the distributed parameter and set it to false to do so we'll only show one quick example here to delete a search index here the killervideo.videos search index is being removed with both the resource files and index segments being deleted across all search nodes in the local data center another useful command is the write resource command which will upload a file and save it into the solar admin.solar resources table in the database afterwards the file can be referenced by name in the specified search index these resource files can be used in different search components such as the text analysis filters for example the stop filter which prevents certain words from being indexed actually requires a list of stop words to ignore that list can be uploaded as a resource file and then used to set up the stop filter in the schema in fact our example at the bottom here is doing exactly that it is uploading a file determined by the file parameter located in the home directory under resources words.txt and will be given the name stopwords.txt in the database due to the name parameter afterwards you can then set up the stopwords list for a stop filter using the schema for the killervideo.videos table but using that name stopwords.txt the search index schema and config are also resources and you can technically upload these as well however the naming of these files can be confusing since the database keeps two versions one for the active schema config and one for the pending that will be applied after a reload to avoid using the wrong name it is better to just upload them when running the reload core command the read resource command is our way to retrieve the contents of a resource from the database you can specify the search index name and name of the resource you want to read in the name parameter and the contents will be displayed to the standard output like the first example that you see here you can also save the contents of the resource into a file by piping the output to a file like in the second example the commands here shows ways to review the search index schema and config with get core config you can read the contents of the pending configuration and with get core schema you read the contents of the pending schema the current parameter can be used to read the active resource instead if set to true like the command read resource these two commands will display the contents to a standard output but can be piped to a file as needed finally there is a command infer solar schema that will display what the automatically generated schema would look like for a table of course the table needs to be defined but the command will work regardless of whether the table currently has a search index or not some useful commands when it comes to indexing existing data are the stop core reindex and rebuild indexes commands the stop core re-index will stop any re-indexing that is currently taking place for the specified search index on the local node however this will cause the indexing status to switch to failed and the table data will need to be re-indexed again from the beginning you would need to run this on each node that you would want to stop re-indexing on the rebuild indexes is more of a general dsc command that rebuilds all defined secondary indexes for a cql table since the search index is technically a secondary index you can use this command to initiate re-indexing for a table on the local node note that if for some reason you have multiple secondary index defined for a table all of them will be re-indexed if that's the case using the cql rebuild search index command would be a better solution the examples here are fairly straightforward the first example stops the re-indexing for the killervideo.videos search index on the local node and the second example starts a reindex for the killervideo.video's search index on the local node as well the examples will also show what sort of response to expect when these commands are executed the step core re-index does return a message indicating that the re-index was stopped however the rebuild index command only returns a prompt and does not respond with any useful messages talking about re-indexing it would also be useful to know if a search index on a node is currently re-indexing and what the progress is this is what the core indexing status command is for the output of the command will indicate that the search index is currently indexing or that it has failed or has been successfully completed normally the command will also show the progress of the re-index scene as a percentage as well as an estimated time before completion by default the status of the local node is shown but the all command can be used to check the status across all search nodes in our first example the command here is checking the status of the killervideo.video search index which happens to return a response saying that the re-indexing is finished and means that it has successfully completed the second command uses the progress flag to also return the percent completed and the estimated time left if the search index happens to be currently re-indexing the response here shows that the killer video.video search index is indexing at 21 complete and there is still about seven minutes before this nba next scene is done the final example shows the all flag being used and the command returns a list of nodes identified by ip address and a re-indexing status for each one index checks is a pretty interesting command as it returns statistics and diagnostic information about a search index this may help to answer certain burning questions like whether data for a particular search index and node has been re-indexed before or how many documents are currently indexed locally for a search index however most of the statistics provided may not be particularly useful for anyone but an advanced user of dlc search or solar the example here shows the index checks command running on the colorvideo.video search index with the following example output here the docs statistics shows the current number of documents indexed for the search index on the node all-time max number of documents and the count of deleted documents the version starts out at 2 if there is existing data that has not been indexed yet however the version number will increase while indexing either from re-indexing or with cql writes this value is not synced across search nodes so eventually you'll start to see different versions on different nodes finally the last statistic that i'll should describe here is the current which will be false while re-indexing is taking place or has failed and true when finished the list index files command is a handy way to see the current index segment files written to disk for a search index without having to navigate for the file system to see it in addition the command will also display the disk usage and encryption statistics for each of the index segments files as well last but not least is the perf command which actually has quite a lot of sub commands and options i'm going to defer explaining this command for now and do so in another video we are finally done going over all the great useful dsc tool commands how much of them do you remember right now don't worry go do this exercise and you'll definitely be able to remember more of dlc tool",
    "segments": [
      {
        "start": 2.13,
        "duration": 2.27,
        "text": "[Music]"
      },
      {
        "start": 4.08,
        "duration": 2.239,
        "text": "hi"
      },
      {
        "start": 4.4,
        "duration": 4.0,
        "text": "i'm joe chu and welcome to using dse"
      },
      {
        "start": 6.319,
        "duration": 3.2,
        "text": "tool in this video we'll be taking a"
      },
      {
        "start": 8.4,
        "duration": 2.8,
        "text": "look at one of the most important"
      },
      {
        "start": 9.519,
        "duration": 4.0,
        "text": "command line tools in dlc"
      },
      {
        "start": 11.2,
        "duration": 4.0,
        "text": "and what it can do with dlc search dse"
      },
      {
        "start": 13.519,
        "duration": 3.041,
        "text": "tool actually mirrors a lot of the same"
      },
      {
        "start": 15.2,
        "duration": 3.36,
        "text": "functions that we've seen earlier with"
      },
      {
        "start": 16.56,
        "duration": 3.68,
        "text": "cql index management commands"
      },
      {
        "start": 18.56,
        "duration": 4.559,
        "text": "well actually it's more accurate to say"
      },
      {
        "start": 20.24,
        "duration": 4.48,
        "text": "that the cql commands duplicate dlc tool"
      },
      {
        "start": 23.119,
        "duration": 3.601,
        "text": "since the uc tool has been around and"
      },
      {
        "start": 24.72,
        "duration": 4.24,
        "text": "used since the early days of dlc"
      },
      {
        "start": 26.72,
        "duration": 4.319,
        "text": "while i will admit that cql is in many"
      },
      {
        "start": 28.96,
        "duration": 3.599,
        "text": "ways much more convenient to use"
      },
      {
        "start": 31.039,
        "duration": 3.281,
        "text": "there are still plenty of things that"
      },
      {
        "start": 32.559,
        "duration": 3.281,
        "text": "only dsc tool can do"
      },
      {
        "start": 34.32,
        "duration": 4.239,
        "text": "aside from managing your search index"
      },
      {
        "start": 35.84,
        "duration": 4.239,
        "text": "schema and config in fact dse tool is"
      },
      {
        "start": 38.559,
        "duration": 2.481,
        "text": "the only way that you can run certain"
      },
      {
        "start": 40.079,
        "duration": 2.881,
        "text": "operations on"
      },
      {
        "start": 41.04,
        "duration": 3.28,
        "text": "individual nodes something that you"
      },
      {
        "start": 42.96,
        "duration": 3.119,
        "text": "wouldn't be able to do with the cql"
      },
      {
        "start": 44.32,
        "duration": 2.719,
        "text": "commands which work on all of the nodes"
      },
      {
        "start": 46.079,
        "duration": 2.96,
        "text": "in a data center"
      },
      {
        "start": 47.039,
        "duration": 3.601,
        "text": "if you are restoring data on a node and"
      },
      {
        "start": 49.039,
        "duration": 3.04,
        "text": "need to rebuild indexes"
      },
      {
        "start": 50.64,
        "duration": 3.439,
        "text": "do you want to do so on all of your"
      },
      {
        "start": 52.079,
        "duration": 4.0,
        "text": "nodes or just the one that needs it"
      },
      {
        "start": 54.079,
        "duration": 3.841,
        "text": "and that's where dsc tool comes in so"
      },
      {
        "start": 56.079,
        "duration": 3.921,
        "text": "here's a table with all the dlc tool"
      },
      {
        "start": 57.92,
        "duration": 3.76,
        "text": "commands that are related to dlc search"
      },
      {
        "start": 60.0,
        "duration": 3.28,
        "text": "there are quite a few of them but let's"
      },
      {
        "start": 61.68,
        "duration": 2.4,
        "text": "take a look at them one by one to see"
      },
      {
        "start": 63.28,
        "duration": 2.879,
        "text": "how they work"
      },
      {
        "start": 64.08,
        "duration": 4.079,
        "text": "the classic way to create a search index"
      },
      {
        "start": 66.159,
        "duration": 3.841,
        "text": "is by using the create core command"
      },
      {
        "start": 68.159,
        "duration": 3.681,
        "text": "this method for creating your search"
      },
      {
        "start": 70.0,
        "duration": 3.439,
        "text": "index can still automatically generate"
      },
      {
        "start": 71.84,
        "duration": 3.44,
        "text": "your schema and config for you"
      },
      {
        "start": 73.439,
        "duration": 3.841,
        "text": "if you set the generate resources flag"
      },
      {
        "start": 75.28,
        "duration": 3.12,
        "text": "to true otherwise you can provide your"
      },
      {
        "start": 77.28,
        "duration": 2.72,
        "text": "own resource files"
      },
      {
        "start": 78.4,
        "duration": 3.359,
        "text": "and set the path to those files with the"
      },
      {
        "start": 80.0,
        "duration": 3.28,
        "text": "schema and solar config flags"
      },
      {
        "start": 81.759,
        "duration": 3.761,
        "text": "running the command will automatically"
      },
      {
        "start": 83.28,
        "duration": 4.24,
        "text": "update and store those files into dsc"
      },
      {
        "start": 85.52,
        "duration": 3.04,
        "text": "and create the search index with them"
      },
      {
        "start": 87.52,
        "duration": 2.72,
        "text": "that's it really"
      },
      {
        "start": 88.56,
        "duration": 3.199,
        "text": "you really just need to set the flag to"
      },
      {
        "start": 90.24,
        "duration": 2.239,
        "text": "automatically create the schema and"
      },
      {
        "start": 91.759,
        "duration": 2.72,
        "text": "config"
      },
      {
        "start": 92.479,
        "duration": 3.201,
        "text": "or to provide your own dsc tool will"
      },
      {
        "start": 94.479,
        "duration": 3.441,
        "text": "create the search index"
      },
      {
        "start": 95.68,
        "duration": 4.24,
        "text": "and re-index existing data in all the"
      },
      {
        "start": 97.92,
        "duration": 3.68,
        "text": "search nodes in the current data center"
      },
      {
        "start": 99.92,
        "duration": 2.879,
        "text": "in special cases when you don't want to"
      },
      {
        "start": 101.6,
        "duration": 2.879,
        "text": "re-index right away"
      },
      {
        "start": 102.799,
        "duration": 3.68,
        "text": "or if you only want to re-index on the"
      },
      {
        "start": 104.479,
        "duration": 3.68,
        "text": "node you're running dsc tool on"
      },
      {
        "start": 106.479,
        "duration": 4.0,
        "text": "you can use the re-index and the"
      },
      {
        "start": 108.159,
        "duration": 4.081,
        "text": "distributed flag to change the behavior"
      },
      {
        "start": 110.479,
        "duration": 3.761,
        "text": "here are some examples of using the"
      },
      {
        "start": 112.24,
        "duration": 3.6,
        "text": "create core command the first example is"
      },
      {
        "start": 114.24,
        "duration": 2.72,
        "text": "one of the simplest which is just to"
      },
      {
        "start": 115.84,
        "duration": 3.44,
        "text": "create a search index"
      },
      {
        "start": 116.96,
        "duration": 3.92,
        "text": "on the killer video videos table and"
      },
      {
        "start": 119.28,
        "duration": 2.24,
        "text": "automatically generate the schema and"
      },
      {
        "start": 120.88,
        "duration": 2.32,
        "text": "config"
      },
      {
        "start": 121.52,
        "duration": 3.52,
        "text": "the command will also re-index data"
      },
      {
        "start": 123.2,
        "duration": 3.519,
        "text": "across all search nodes in the cluster"
      },
      {
        "start": 125.04,
        "duration": 2.88,
        "text": "the second example can be used in a"
      },
      {
        "start": 126.719,
        "duration": 2.641,
        "text": "situation where you don't want to"
      },
      {
        "start": 127.92,
        "duration": 2.88,
        "text": "re-index the existing data"
      },
      {
        "start": 129.36,
        "duration": 3.36,
        "text": "it will just create the search index for"
      },
      {
        "start": 130.8,
        "duration": 3.92,
        "text": "killer video videos using the"
      },
      {
        "start": 132.72,
        "duration": 3.92,
        "text": "automatically generated resource files"
      },
      {
        "start": 134.72,
        "duration": 4.239,
        "text": "the third example uses the distributed"
      },
      {
        "start": 136.64,
        "duration": 2.88,
        "text": "flag to only re-index data on the local"
      },
      {
        "start": 138.959,
        "duration": 2.881,
        "text": "node"
      },
      {
        "start": 139.52,
        "duration": 3.6,
        "text": "and the last example uses the schema and"
      },
      {
        "start": 141.84,
        "duration": 3.119,
        "text": "solar config flags"
      },
      {
        "start": 143.12,
        "duration": 3.68,
        "text": "to specify which files to use for the"
      },
      {
        "start": 144.959,
        "duration": 3.601,
        "text": "two search index resources"
      },
      {
        "start": 146.8,
        "duration": 3.12,
        "text": "since only a file name is provided and"
      },
      {
        "start": 148.56,
        "duration": 3.36,
        "text": "not the absolute path"
      },
      {
        "start": 149.92,
        "duration": 3.52,
        "text": "dlc tool will expect those files to be"
      },
      {
        "start": 151.92,
        "duration": 3.12,
        "text": "in the current working directory the"
      },
      {
        "start": 153.44,
        "duration": 3.04,
        "text": "next command that we'll take a look at"
      },
      {
        "start": 155.04,
        "duration": 3.52,
        "text": "is the reload core command"
      },
      {
        "start": 156.48,
        "duration": 3.28,
        "text": "which tells dse to reload the requested"
      },
      {
        "start": 158.56,
        "duration": 2.88,
        "text": "search index"
      },
      {
        "start": 159.76,
        "duration": 4.24,
        "text": "reload core doesn't require any"
      },
      {
        "start": 161.44,
        "duration": 3.519,
        "text": "parameters but usually a modified schema"
      },
      {
        "start": 164.0,
        "duration": 2.879,
        "text": "and or config"
      },
      {
        "start": 164.959,
        "duration": 3.36,
        "text": "is provided which will automatically be"
      },
      {
        "start": 166.879,
        "duration": 3.36,
        "text": "used following the reload"
      },
      {
        "start": 168.319,
        "duration": 3.441,
        "text": "use the schema and solar config flag"
      },
      {
        "start": 170.239,
        "duration": 4.0,
        "text": "that we've seen previously"
      },
      {
        "start": 171.76,
        "duration": 4.72,
        "text": "to set the path to the modified files"
      },
      {
        "start": 174.239,
        "duration": 3.36,
        "text": "reload core still has the re-index and"
      },
      {
        "start": 176.48,
        "duration": 2.8,
        "text": "distributed flags"
      },
      {
        "start": 177.599,
        "duration": 4.0,
        "text": "which works the same wave as we've seen"
      },
      {
        "start": 179.28,
        "duration": 2.8,
        "text": "before there is also a new flag delete"
      },
      {
        "start": 181.599,
        "duration": 2.321,
        "text": "all"
      },
      {
        "start": 182.08,
        "duration": 3.2,
        "text": "that can delete the previous index prior"
      },
      {
        "start": 183.92,
        "duration": 3.28,
        "text": "to reindexing"
      },
      {
        "start": 185.28,
        "duration": 3.52,
        "text": "if set to true this would cause search"
      },
      {
        "start": 187.2,
        "duration": 3.92,
        "text": "queries to possibly return no"
      },
      {
        "start": 188.8,
        "duration": 3.2,
        "text": "or partial results while table data is"
      },
      {
        "start": 191.12,
        "duration": 2.8,
        "text": "re-indexing"
      },
      {
        "start": 192.0,
        "duration": 3.76,
        "text": "the default behavior though would be to"
      },
      {
        "start": 193.92,
        "duration": 3.84,
        "text": "continue to use the previous index"
      },
      {
        "start": 195.76,
        "duration": 3.68,
        "text": "after the reload which should be based"
      },
      {
        "start": 197.76,
        "duration": 3.52,
        "text": "on the schema used previously"
      },
      {
        "start": 199.44,
        "duration": 3.76,
        "text": "this could potentially return incorrect"
      },
      {
        "start": 201.28,
        "duration": 2.64,
        "text": "results depending on how the schema was"
      },
      {
        "start": 203.2,
        "duration": 2.64,
        "text": "changed"
      },
      {
        "start": 203.92,
        "duration": 3.28,
        "text": "of course if the schema has not changed"
      },
      {
        "start": 205.84,
        "duration": 3.759,
        "text": "at all there would be no need to"
      },
      {
        "start": 207.2,
        "duration": 4.2,
        "text": "re-index or to delete the previous index"
      },
      {
        "start": 209.599,
        "duration": 4.081,
        "text": "the first example here shows the"
      },
      {
        "start": 211.4,
        "duration": 4.6,
        "text": "killervideo.videos index being reloaded"
      },
      {
        "start": 213.68,
        "duration": 3.76,
        "text": "using a new schema and solar config"
      },
      {
        "start": 216.0,
        "duration": 3.44,
        "text": "the data for the table will be"
      },
      {
        "start": 217.44,
        "duration": 4.24,
        "text": "re-indexed but will continue to use the"
      },
      {
        "start": 219.44,
        "duration": 4.0,
        "text": "old indexes while it is doing so"
      },
      {
        "start": 221.68,
        "duration": 4.08,
        "text": "the second example reloads the search"
      },
      {
        "start": 223.44,
        "duration": 4.32,
        "text": "index using only a new config file"
      },
      {
        "start": 225.76,
        "duration": 4.0,
        "text": "no re-indexing is needed finally the"
      },
      {
        "start": 227.76,
        "duration": 3.44,
        "text": "last example shows a situation where a"
      },
      {
        "start": 229.76,
        "duration": 3.52,
        "text": "new schema is provided"
      },
      {
        "start": 231.2,
        "duration": 3.759,
        "text": "and will be used following the reload"
      },
      {
        "start": 233.28,
        "duration": 2.879,
        "text": "the search index will also drop the"
      },
      {
        "start": 234.959,
        "duration": 3.28,
        "text": "previous indexes"
      },
      {
        "start": 236.159,
        "duration": 4.16,
        "text": "and re-index data again using this new"
      },
      {
        "start": 238.239,
        "duration": 3.521,
        "text": "schema the last command when it comes to"
      },
      {
        "start": 240.319,
        "duration": 4.0,
        "text": "modifying the search index"
      },
      {
        "start": 241.76,
        "duration": 4.64,
        "text": "is the unload core command the command"
      },
      {
        "start": 244.319,
        "duration": 4.321,
        "text": "will effectively delete the search index"
      },
      {
        "start": 246.4,
        "duration": 4.08,
        "text": "remove the solar query pseudo column and"
      },
      {
        "start": 248.64,
        "duration": 2.4,
        "text": "disable search queries on the specified"
      },
      {
        "start": 250.48,
        "duration": 2.319,
        "text": "table"
      },
      {
        "start": 251.04,
        "duration": 3.199,
        "text": "however the resource files that you have"
      },
      {
        "start": 252.799,
        "duration": 2.08,
        "text": "saved for the search index are still"
      },
      {
        "start": 254.239,
        "duration": 3.12,
        "text": "kept"
      },
      {
        "start": 254.879,
        "duration": 3.281,
        "text": "unless you use the flag delete resources"
      },
      {
        "start": 257.359,
        "duration": 2.641,
        "text": "likewise"
      },
      {
        "start": 258.16,
        "duration": 3.199,
        "text": "the existing index segment files are"
      },
      {
        "start": 260.0,
        "duration": 3.12,
        "text": "saved as well by default"
      },
      {
        "start": 261.359,
        "duration": 3.441,
        "text": "but can be deleted automatically with"
      },
      {
        "start": 263.12,
        "duration": 3.2,
        "text": "the delete data flag"
      },
      {
        "start": 264.8,
        "duration": 3.36,
        "text": "if for some reason you only want to"
      },
      {
        "start": 266.32,
        "duration": 2.4,
        "text": "delete the index segments on the local"
      },
      {
        "start": 268.16,
        "duration": 2.56,
        "text": "node"
      },
      {
        "start": 268.72,
        "duration": 3.68,
        "text": "you can add the distributed parameter"
      },
      {
        "start": 270.72,
        "duration": 3.52,
        "text": "and set it to false to do so"
      },
      {
        "start": 272.4,
        "duration": 3.519,
        "text": "we'll only show one quick example here"
      },
      {
        "start": 274.24,
        "duration": 4.08,
        "text": "to delete a search index"
      },
      {
        "start": 275.919,
        "duration": 4.241,
        "text": "here the killervideo.videos search index"
      },
      {
        "start": 278.32,
        "duration": 4.159,
        "text": "is being removed with both the resource"
      },
      {
        "start": 280.16,
        "duration": 4.16,
        "text": "files and index segments being deleted"
      },
      {
        "start": 282.479,
        "duration": 4.0,
        "text": "across all search nodes in the local"
      },
      {
        "start": 284.32,
        "duration": 3.52,
        "text": "data center another useful command is"
      },
      {
        "start": 286.479,
        "duration": 3.121,
        "text": "the write resource command"
      },
      {
        "start": 287.84,
        "duration": 4.079,
        "text": "which will upload a file and save it"
      },
      {
        "start": 289.6,
        "duration": 3.039,
        "text": "into the solar admin.solar resources"
      },
      {
        "start": 291.919,
        "duration": 3.041,
        "text": "table"
      },
      {
        "start": 292.639,
        "duration": 3.361,
        "text": "in the database afterwards the file can"
      },
      {
        "start": 294.96,
        "duration": 3.28,
        "text": "be referenced by name"
      },
      {
        "start": 296.0,
        "duration": 3.759,
        "text": "in the specified search index these"
      },
      {
        "start": 298.24,
        "duration": 2.399,
        "text": "resource files can be used in different"
      },
      {
        "start": 299.759,
        "duration": 2.961,
        "text": "search components"
      },
      {
        "start": 300.639,
        "duration": 4.081,
        "text": "such as the text analysis filters for"
      },
      {
        "start": 302.72,
        "duration": 3.919,
        "text": "example the stop filter which prevents"
      },
      {
        "start": 304.72,
        "duration": 3.6,
        "text": "certain words from being indexed"
      },
      {
        "start": 306.639,
        "duration": 4.0,
        "text": "actually requires a list of stop words"
      },
      {
        "start": 308.32,
        "duration": 2.8,
        "text": "to ignore that list can be uploaded as a"
      },
      {
        "start": 310.639,
        "duration": 2.481,
        "text": "resource"
      },
      {
        "start": 311.12,
        "duration": 3.44,
        "text": "file and then used to set up the stop"
      },
      {
        "start": 313.12,
        "duration": 3.44,
        "text": "filter in the schema"
      },
      {
        "start": 314.56,
        "duration": 3.359,
        "text": "in fact our example at the bottom here"
      },
      {
        "start": 316.56,
        "duration": 3.199,
        "text": "is doing exactly that"
      },
      {
        "start": 317.919,
        "duration": 3.601,
        "text": "it is uploading a file determined by the"
      },
      {
        "start": 319.759,
        "duration": 2.481,
        "text": "file parameter located in the home"
      },
      {
        "start": 321.52,
        "duration": 4.0,
        "text": "directory"
      },
      {
        "start": 322.24,
        "duration": 5.84,
        "text": "under resources words.txt"
      },
      {
        "start": 325.52,
        "duration": 3.519,
        "text": "and will be given the name stopwords.txt"
      },
      {
        "start": 328.08,
        "duration": 3.119,
        "text": "in the database"
      },
      {
        "start": 329.039,
        "duration": 3.921,
        "text": "due to the name parameter afterwards you"
      },
      {
        "start": 331.199,
        "duration": 2.56,
        "text": "can then set up the stopwords list for a"
      },
      {
        "start": 332.96,
        "duration": 2.04,
        "text": "stop filter"
      },
      {
        "start": 333.759,
        "duration": 3.601,
        "text": "using the schema for the"
      },
      {
        "start": 335.0,
        "duration": 4.12,
        "text": "killervideo.videos table but using that"
      },
      {
        "start": 337.36,
        "duration": 3.6,
        "text": "name stopwords.txt"
      },
      {
        "start": 339.12,
        "duration": 3.84,
        "text": "the search index schema and config are"
      },
      {
        "start": 340.96,
        "duration": 3.519,
        "text": "also resources and you can technically"
      },
      {
        "start": 342.96,
        "duration": 3.44,
        "text": "upload these as well"
      },
      {
        "start": 344.479,
        "duration": 3.841,
        "text": "however the naming of these files can be"
      },
      {
        "start": 346.4,
        "duration": 2.639,
        "text": "confusing since the database keeps two"
      },
      {
        "start": 348.32,
        "duration": 3.04,
        "text": "versions"
      },
      {
        "start": 349.039,
        "duration": 4.081,
        "text": "one for the active schema config and one"
      },
      {
        "start": 351.36,
        "duration": 3.04,
        "text": "for the pending that will be applied"
      },
      {
        "start": 353.12,
        "duration": 3.12,
        "text": "after a reload"
      },
      {
        "start": 354.4,
        "duration": 3.6,
        "text": "to avoid using the wrong name it is"
      },
      {
        "start": 356.24,
        "duration": 2.959,
        "text": "better to just upload them when running"
      },
      {
        "start": 358.0,
        "duration": 3.12,
        "text": "the reload core command"
      },
      {
        "start": 359.199,
        "duration": 3.681,
        "text": "the read resource command is our way to"
      },
      {
        "start": 361.12,
        "duration": 2.88,
        "text": "retrieve the contents of a resource from"
      },
      {
        "start": 362.88,
        "duration": 3.2,
        "text": "the database"
      },
      {
        "start": 364.0,
        "duration": 3.36,
        "text": "you can specify the search index name"
      },
      {
        "start": 366.08,
        "duration": 3.04,
        "text": "and name of the resource you want to"
      },
      {
        "start": 367.36,
        "duration": 3.2,
        "text": "read in the name parameter"
      },
      {
        "start": 369.12,
        "duration": 2.96,
        "text": "and the contents will be displayed to"
      },
      {
        "start": 370.56,
        "duration": 2.72,
        "text": "the standard output like the first"
      },
      {
        "start": 372.08,
        "duration": 2.72,
        "text": "example that you see here"
      },
      {
        "start": 373.28,
        "duration": 3.6,
        "text": "you can also save the contents of the"
      },
      {
        "start": 374.8,
        "duration": 3.839,
        "text": "resource into a file by piping the"
      },
      {
        "start": 376.88,
        "duration": 2.4,
        "text": "output to a file like in the second"
      },
      {
        "start": 378.639,
        "duration": 2.881,
        "text": "example"
      },
      {
        "start": 379.28,
        "duration": 4.479,
        "text": "the commands here shows ways to review"
      },
      {
        "start": 381.52,
        "duration": 4.32,
        "text": "the search index schema and config"
      },
      {
        "start": 383.759,
        "duration": 4.0,
        "text": "with get core config you can read the"
      },
      {
        "start": 385.84,
        "duration": 3.6,
        "text": "contents of the pending configuration"
      },
      {
        "start": 387.759,
        "duration": 3.361,
        "text": "and with get core schema you read the"
      },
      {
        "start": 389.44,
        "duration": 4.0,
        "text": "contents of the pending schema"
      },
      {
        "start": 391.12,
        "duration": 4.24,
        "text": "the current parameter can be used to"
      },
      {
        "start": 393.44,
        "duration": 2.56,
        "text": "read the active resource instead if set"
      },
      {
        "start": 395.36,
        "duration": 2.8,
        "text": "to true"
      },
      {
        "start": 396.0,
        "duration": 3.84,
        "text": "like the command read resource these two"
      },
      {
        "start": 398.16,
        "duration": 2.72,
        "text": "commands will display the contents to a"
      },
      {
        "start": 399.84,
        "duration": 2.96,
        "text": "standard output"
      },
      {
        "start": 400.88,
        "duration": 3.28,
        "text": "but can be piped to a file as needed"
      },
      {
        "start": 402.8,
        "duration": 3.679,
        "text": "finally there is a command"
      },
      {
        "start": 404.16,
        "duration": 4.0,
        "text": "infer solar schema that will display"
      },
      {
        "start": 406.479,
        "duration": 3.12,
        "text": "what the automatically generated schema"
      },
      {
        "start": 408.16,
        "duration": 3.439,
        "text": "would look like for a table"
      },
      {
        "start": 409.599,
        "duration": 3.521,
        "text": "of course the table needs to be defined"
      },
      {
        "start": 411.599,
        "duration": 3.281,
        "text": "but the command will work regardless of"
      },
      {
        "start": 413.12,
        "duration": 2.96,
        "text": "whether the table currently has a search"
      },
      {
        "start": 414.88,
        "duration": 2.8,
        "text": "index or not"
      },
      {
        "start": 416.08,
        "duration": 3.36,
        "text": "some useful commands when it comes to"
      },
      {
        "start": 417.68,
        "duration": 4.32,
        "text": "indexing existing data"
      },
      {
        "start": 419.44,
        "duration": 3.68,
        "text": "are the stop core reindex and rebuild"
      },
      {
        "start": 422.0,
        "duration": 3.199,
        "text": "indexes commands"
      },
      {
        "start": 423.12,
        "duration": 3.76,
        "text": "the stop core re-index will stop any"
      },
      {
        "start": 425.199,
        "duration": 3.521,
        "text": "re-indexing that is currently taking"
      },
      {
        "start": 426.88,
        "duration": 2.64,
        "text": "place for the specified search index on"
      },
      {
        "start": 428.72,
        "duration": 2.479,
        "text": "the local node"
      },
      {
        "start": 429.52,
        "duration": 3.119,
        "text": "however this will cause the indexing"
      },
      {
        "start": 431.199,
        "duration": 2.881,
        "text": "status to switch to failed"
      },
      {
        "start": 432.639,
        "duration": 3.201,
        "text": "and the table data will need to be"
      },
      {
        "start": 434.08,
        "duration": 2.72,
        "text": "re-indexed again from the beginning you"
      },
      {
        "start": 435.84,
        "duration": 2.56,
        "text": "would need to run this"
      },
      {
        "start": 436.8,
        "duration": 4.0,
        "text": "on each node that you would want to stop"
      },
      {
        "start": 438.4,
        "duration": 4.56,
        "text": "re-indexing on the rebuild indexes"
      },
      {
        "start": 440.8,
        "duration": 4.48,
        "text": "is more of a general dsc command that"
      },
      {
        "start": 442.96,
        "duration": 3.6,
        "text": "rebuilds all defined secondary indexes"
      },
      {
        "start": 445.28,
        "duration": 2.88,
        "text": "for a cql table"
      },
      {
        "start": 446.56,
        "duration": 3.84,
        "text": "since the search index is technically a"
      },
      {
        "start": 448.16,
        "duration": 4.4,
        "text": "secondary index you can use this command"
      },
      {
        "start": 450.4,
        "duration": 3.04,
        "text": "to initiate re-indexing for a table on"
      },
      {
        "start": 452.56,
        "duration": 2.4,
        "text": "the local node"
      },
      {
        "start": 453.44,
        "duration": 3.36,
        "text": "note that if for some reason you have"
      },
      {
        "start": 454.96,
        "duration": 2.639,
        "text": "multiple secondary index defined for a"
      },
      {
        "start": 456.8,
        "duration": 2.799,
        "text": "table"
      },
      {
        "start": 457.599,
        "duration": 4.401,
        "text": "all of them will be re-indexed if that's"
      },
      {
        "start": 459.599,
        "duration": 3.361,
        "text": "the case using the cql rebuild search"
      },
      {
        "start": 462.0,
        "duration": 3.039,
        "text": "index command"
      },
      {
        "start": 462.96,
        "duration": 3.76,
        "text": "would be a better solution the examples"
      },
      {
        "start": 465.039,
        "duration": 3.521,
        "text": "here are fairly straightforward"
      },
      {
        "start": 466.72,
        "duration": 4.159,
        "text": "the first example stops the re-indexing"
      },
      {
        "start": 468.56,
        "duration": 4.319,
        "text": "for the killervideo.videos search index"
      },
      {
        "start": 470.879,
        "duration": 3.241,
        "text": "on the local node and the second example"
      },
      {
        "start": 472.879,
        "duration": 2.961,
        "text": "starts a reindex for the"
      },
      {
        "start": 474.12,
        "duration": 2.759,
        "text": "killervideo.video's search index on the"
      },
      {
        "start": 475.84,
        "duration": 2.88,
        "text": "local node as well"
      },
      {
        "start": 476.879,
        "duration": 3.521,
        "text": "the examples will also show what sort of"
      },
      {
        "start": 478.72,
        "duration": 4.0,
        "text": "response to expect when these commands"
      },
      {
        "start": 480.4,
        "duration": 3.359,
        "text": "are executed the step core re-index does"
      },
      {
        "start": 482.72,
        "duration": 2.96,
        "text": "return a message"
      },
      {
        "start": 483.759,
        "duration": 3.921,
        "text": "indicating that the re-index was stopped"
      },
      {
        "start": 485.68,
        "duration": 3.12,
        "text": "however the rebuild index command only"
      },
      {
        "start": 487.68,
        "duration": 2.799,
        "text": "returns a prompt"
      },
      {
        "start": 488.8,
        "duration": 3.839,
        "text": "and does not respond with any useful"
      },
      {
        "start": 490.479,
        "duration": 3.761,
        "text": "messages talking about re-indexing"
      },
      {
        "start": 492.639,
        "duration": 3.201,
        "text": "it would also be useful to know if a"
      },
      {
        "start": 494.24,
        "duration": 2.72,
        "text": "search index on a node is currently"
      },
      {
        "start": 495.84,
        "duration": 2.799,
        "text": "re-indexing"
      },
      {
        "start": 496.96,
        "duration": 3.919,
        "text": "and what the progress is this is what"
      },
      {
        "start": 498.639,
        "duration": 3.921,
        "text": "the core indexing status command is for"
      },
      {
        "start": 500.879,
        "duration": 3.121,
        "text": "the output of the command will indicate"
      },
      {
        "start": 502.56,
        "duration": 2.319,
        "text": "that the search index is currently"
      },
      {
        "start": 504.0,
        "duration": 2.96,
        "text": "indexing"
      },
      {
        "start": 504.879,
        "duration": 3.281,
        "text": "or that it has failed or has been"
      },
      {
        "start": 506.96,
        "duration": 2.88,
        "text": "successfully completed"
      },
      {
        "start": 508.16,
        "duration": 3.28,
        "text": "normally the command will also show the"
      },
      {
        "start": 509.84,
        "duration": 3.6,
        "text": "progress of the re-index scene"
      },
      {
        "start": 511.44,
        "duration": 3.279,
        "text": "as a percentage as well as an estimated"
      },
      {
        "start": 513.44,
        "duration": 3.36,
        "text": "time before completion"
      },
      {
        "start": 514.719,
        "duration": 4.401,
        "text": "by default the status of the local node"
      },
      {
        "start": 516.8,
        "duration": 3.2,
        "text": "is shown but the all command can be used"
      },
      {
        "start": 519.12,
        "duration": 2.88,
        "text": "to check the status"
      },
      {
        "start": 520.0,
        "duration": 3.919,
        "text": "across all search nodes in our first"
      },
      {
        "start": 522.0,
        "duration": 3.76,
        "text": "example the command here is checking the"
      },
      {
        "start": 523.919,
        "duration": 2.561,
        "text": "status of the killervideo.video search"
      },
      {
        "start": 525.76,
        "duration": 2.16,
        "text": "index"
      },
      {
        "start": 526.48,
        "duration": 3.359,
        "text": "which happens to return a response"
      },
      {
        "start": 527.92,
        "duration": 3.28,
        "text": "saying that the re-indexing is finished"
      },
      {
        "start": 529.839,
        "duration": 3.12,
        "text": "and means that it has successfully"
      },
      {
        "start": 531.2,
        "duration": 3.84,
        "text": "completed the second command uses the"
      },
      {
        "start": 532.959,
        "duration": 2.88,
        "text": "progress flag to also return the percent"
      },
      {
        "start": 535.04,
        "duration": 2.64,
        "text": "completed"
      },
      {
        "start": 535.839,
        "duration": 3.281,
        "text": "and the estimated time left if the"
      },
      {
        "start": 537.68,
        "duration": 2.32,
        "text": "search index happens to be currently"
      },
      {
        "start": 539.12,
        "duration": 2.56,
        "text": "re-indexing"
      },
      {
        "start": 540.0,
        "duration": 3.44,
        "text": "the response here shows that the killer"
      },
      {
        "start": 541.68,
        "duration": 4.88,
        "text": "video.video search index"
      },
      {
        "start": 543.44,
        "duration": 4.56,
        "text": "is indexing at 21 complete and there is"
      },
      {
        "start": 546.56,
        "duration": 3.52,
        "text": "still about seven minutes before"
      },
      {
        "start": 548.0,
        "duration": 4.56,
        "text": "this nba next scene is done the final"
      },
      {
        "start": 550.08,
        "duration": 4.4,
        "text": "example shows the all flag being used"
      },
      {
        "start": 552.56,
        "duration": 3.68,
        "text": "and the command returns a list of nodes"
      },
      {
        "start": 554.48,
        "duration": 3.919,
        "text": "identified by ip address"
      },
      {
        "start": 556.24,
        "duration": 3.68,
        "text": "and a re-indexing status for each one"
      },
      {
        "start": 558.399,
        "duration": 2.081,
        "text": "index checks is a pretty interesting"
      },
      {
        "start": 559.92,
        "duration": 2.64,
        "text": "command"
      },
      {
        "start": 560.48,
        "duration": 3.6,
        "text": "as it returns statistics and diagnostic"
      },
      {
        "start": 562.56,
        "duration": 3.2,
        "text": "information about a search index"
      },
      {
        "start": 564.08,
        "duration": 3.52,
        "text": "this may help to answer certain burning"
      },
      {
        "start": 565.76,
        "duration": 3.519,
        "text": "questions like whether data for a"
      },
      {
        "start": 567.6,
        "duration": 4.08,
        "text": "particular search index and node"
      },
      {
        "start": 569.279,
        "duration": 4.081,
        "text": "has been re-indexed before or how many"
      },
      {
        "start": 571.68,
        "duration": 2.8,
        "text": "documents are currently indexed locally"
      },
      {
        "start": 573.36,
        "duration": 3.28,
        "text": "for a search index"
      },
      {
        "start": 574.48,
        "duration": 3.68,
        "text": "however most of the statistics provided"
      },
      {
        "start": 576.64,
        "duration": 3.36,
        "text": "may not be particularly useful for"
      },
      {
        "start": 578.16,
        "duration": 3.04,
        "text": "anyone but an advanced user of dlc"
      },
      {
        "start": 580.0,
        "duration": 3.2,
        "text": "search or solar"
      },
      {
        "start": 581.2,
        "duration": 4.0,
        "text": "the example here shows the index checks"
      },
      {
        "start": 583.2,
        "duration": 3.84,
        "text": "command running on the colorvideo.video"
      },
      {
        "start": 585.2,
        "duration": 3.92,
        "text": "search index with the following example"
      },
      {
        "start": 587.04,
        "duration": 3.76,
        "text": "output here the docs statistics shows"
      },
      {
        "start": 589.12,
        "duration": 3.2,
        "text": "the current number of documents indexed"
      },
      {
        "start": 590.8,
        "duration": 3.599,
        "text": "for the search index on the node"
      },
      {
        "start": 592.32,
        "duration": 3.76,
        "text": "all-time max number of documents and the"
      },
      {
        "start": 594.399,
        "duration": 3.921,
        "text": "count of deleted documents"
      },
      {
        "start": 596.08,
        "duration": 3.759,
        "text": "the version starts out at 2 if there is"
      },
      {
        "start": 598.32,
        "duration": 3.84,
        "text": "existing data that has not been"
      },
      {
        "start": 599.839,
        "duration": 3.841,
        "text": "indexed yet however the version number"
      },
      {
        "start": 602.16,
        "duration": 3.76,
        "text": "will increase while indexing"
      },
      {
        "start": 603.68,
        "duration": 3.04,
        "text": "either from re-indexing or with cql"
      },
      {
        "start": 605.92,
        "duration": 2.96,
        "text": "writes"
      },
      {
        "start": 606.72,
        "duration": 3.76,
        "text": "this value is not synced across search"
      },
      {
        "start": 608.88,
        "duration": 3.519,
        "text": "nodes so eventually you'll start to see"
      },
      {
        "start": 610.48,
        "duration": 3.44,
        "text": "different versions on different nodes"
      },
      {
        "start": 612.399,
        "duration": 3.281,
        "text": "finally the last statistic that i'll"
      },
      {
        "start": 613.92,
        "duration": 3.84,
        "text": "should describe here is the current"
      },
      {
        "start": 615.68,
        "duration": 3.839,
        "text": "which will be false while re-indexing is"
      },
      {
        "start": 617.76,
        "duration": 3.92,
        "text": "taking place or has failed"
      },
      {
        "start": 619.519,
        "duration": 4.0,
        "text": "and true when finished the list index"
      },
      {
        "start": 621.68,
        "duration": 3.599,
        "text": "files command is a handy way to see the"
      },
      {
        "start": 623.519,
        "duration": 2.161,
        "text": "current index segment files written to"
      },
      {
        "start": 625.279,
        "duration": 2.401,
        "text": "disk"
      },
      {
        "start": 625.68,
        "duration": 3.839,
        "text": "for a search index without having to"
      },
      {
        "start": 627.68,
        "duration": 3.44,
        "text": "navigate for the file system to see it"
      },
      {
        "start": 629.519,
        "duration": 3.681,
        "text": "in addition the command will also"
      },
      {
        "start": 631.12,
        "duration": 3.52,
        "text": "display the disk usage and encryption"
      },
      {
        "start": 633.2,
        "duration": 2.8,
        "text": "statistics for each of the index"
      },
      {
        "start": 634.64,
        "duration": 3.36,
        "text": "segments files as well"
      },
      {
        "start": 636.0,
        "duration": 3.6,
        "text": "last but not least is the perf command"
      },
      {
        "start": 638.0,
        "duration": 3.12,
        "text": "which actually has quite a lot of sub"
      },
      {
        "start": 639.6,
        "duration": 2.799,
        "text": "commands and options"
      },
      {
        "start": 641.12,
        "duration": 3.279,
        "text": "i'm going to defer explaining this"
      },
      {
        "start": 642.399,
        "duration": 2.481,
        "text": "command for now and do so in another"
      },
      {
        "start": 644.399,
        "duration": 2.401,
        "text": "video"
      },
      {
        "start": 644.88,
        "duration": 4.0,
        "text": "we are finally done going over all the"
      },
      {
        "start": 646.8,
        "duration": 3.36,
        "text": "great useful dsc tool commands"
      },
      {
        "start": 648.88,
        "duration": 3.6,
        "text": "how much of them do you remember right"
      },
      {
        "start": 650.16,
        "duration": 3.359,
        "text": "now don't worry go do this exercise"
      },
      {
        "start": 652.48,
        "duration": 8.08,
        "text": "and you'll definitely be able to"
      },
      {
        "start": 653.519,
        "duration": 7.041,
        "text": "remember more of dlc tool"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T00:01:42.692555+00:00"
}