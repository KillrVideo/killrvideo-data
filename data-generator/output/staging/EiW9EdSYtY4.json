{
  "video_id": "EiW9EdSYtY4",
  "title": "DS330.10 Inserting Data Using Graph API | DataStax Enterprise 6 Graph",
  "description": "#DataStaxAcademy #DS330\nDS330.10 Inserting Data Using Graph API \nIn this unit, weâ€™ll be talking about all the different ways you can load and insert data into DataStax Enterprise Graph.\n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-16T01:21:16Z",
  "thumbnail": "https://i.ytimg.com/vi/EiW9EdSYtY4/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "cassandra",
    "tutorial",
    "apache_cassandra",
    "talk",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=EiW9EdSYtY4",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] in this section we'll be talking about all the different ways you can load and insert data into datastax enterprise graph to start we'll be exploring the graph api the graph api is just one of five different ways you can create and load data into existing graphs now while we'll go into depth on all five of these topics in this specific presentation we'll be focusing on the graph api this method is to be used when creating small to medium-sized graphs one can execute individual statements in the gremlin console or data stack studio or write a script that issues many statements programmatically this method is generally slower than the gremlin i o utility however gremlin io is more suitable when exporting and importing existing graphs gremlin mutating traversals are more suitable for mutating existing graphs the graph loader utility is capable of parsing existing collections of text files and datasets stored in jdpc compatible databases and loading such data as graphs into datastax enterprise the utility is designed for loading small to medium sized graphs there's also a spark based bulk loading utility and it's ideal for loading large graphs in this specific section we're going to be focusing on the graph api the groundwind io utility and the datastax graph loader so let's talk more about the graph api the two main methods you should be aware of to start creating your own graphs are add vertex and add edge there are more methods that can be useful in the graph api which can be found in our documentation add vertex can be specified with a label to add a labeled vertex to the current graph or you can simply add a vertex where the vertex label and properties are key value pairs similarly the add edge method allows you to add an edge directed from the current vertex to the invertex with the label and properties as key value pairs two more important methods to know about are the property and remove methods the property method allows you to add or set a property for vertex edge or vertex properties this is applicable to regular multi and meta properties as well the remove method allows you to remove a vertex edge vertex property or even edge property from the graph okay so now that we know the four main methods for interacting with the graph api let's put it to good use here's an example for creating vertices and vertex properties you can see that we define a vertex u u for user and we call the add vertex method and provide a label and property key value pairs let's take a look at another example this time we're creating a new movie vertex in our killer video reference graph just like before we define a vertex m m for movie and provide the label and property key value pairs notice at the bottom we can add more properties to our vertex m by using the property method and providing the property key value pairs in this case production is a multi-property therefore has multiple production companies involved it wouldn't be a graph use case if it didn't connect our vertices together so let's go ahead and do that here we're defining an edge e notice how we call the u user vertex from before and the add edge method with an edge label called rated and the invertex our relationship here is user rated a movie so we start with the user vertex add edge method edge label then add the invertex in this case movie we can then take that edge and add properties associated with it using the property method a user rated a movie with a rating of 8 in this case deleting properties edges and vertices is pretty simple you add the remove method to the thing you'd like to remove at the top here we're removing the age and gender property from the user vertex we created earlier at the bottom we're moving the entire rated edge and movie vertex that we created previously here's where things get interesting let's say you want to connect a new vertex to an existing one already in your graph you can easily mix graph mutations with traversals in our example here we want to connect two users that know each other we define our first user vertex u1 and just like in the prior example this one is using the add vertex method to create a new user next we want to define our second user u2 which already exists in the graph so to find the traversal that will return our u2 vertex just like before we can take the first user call the add edge method with the label and then the invertex which in this case is our u2 vertex at the bottom here you can see a more compact version of the above example where we start by adding our vertex changing the add edge method where we define our traversal that will return the existing vertex we'd like to connect to our new vertex let's take what you've learned about the graph api and put it to good use",
    "segments": [
      {
        "start": 1.47,
        "duration": 5.31,
        "text": "[Music]"
      },
      {
        "start": 7.839,
        "duration": 3.121,
        "text": "in this section we'll be talking about"
      },
      {
        "start": 9.44,
        "duration": 3.76,
        "text": "all the different ways you can load and"
      },
      {
        "start": 10.96,
        "duration": 3.12,
        "text": "insert data into datastax enterprise"
      },
      {
        "start": 13.2,
        "duration": 2.399,
        "text": "graph"
      },
      {
        "start": 14.08,
        "duration": 4.48,
        "text": "to start we'll be exploring the graph"
      },
      {
        "start": 15.599,
        "duration": 4.481,
        "text": "api the graph api is just one of five"
      },
      {
        "start": 18.56,
        "duration": 2.0,
        "text": "different ways you can create and load"
      },
      {
        "start": 20.08,
        "duration": 2.959,
        "text": "data"
      },
      {
        "start": 20.56,
        "duration": 4.959,
        "text": "into existing graphs now while we'll go"
      },
      {
        "start": 23.039,
        "duration": 4.08,
        "text": "into depth on all five of these topics"
      },
      {
        "start": 25.519,
        "duration": 4.0,
        "text": "in this specific presentation we'll be"
      },
      {
        "start": 27.119,
        "duration": 4.24,
        "text": "focusing on the graph api"
      },
      {
        "start": 29.519,
        "duration": 3.841,
        "text": "this method is to be used when creating"
      },
      {
        "start": 31.359,
        "duration": 3.841,
        "text": "small to medium-sized graphs one can"
      },
      {
        "start": 33.36,
        "duration": 3.92,
        "text": "execute individual statements in the"
      },
      {
        "start": 35.2,
        "duration": 3.359,
        "text": "gremlin console or data stack studio or"
      },
      {
        "start": 37.28,
        "duration": 3.119,
        "text": "write a script that issues many"
      },
      {
        "start": 38.559,
        "duration": 3.84,
        "text": "statements programmatically"
      },
      {
        "start": 40.399,
        "duration": 3.361,
        "text": "this method is generally slower than the"
      },
      {
        "start": 42.399,
        "duration": 3.761,
        "text": "gremlin i o utility"
      },
      {
        "start": 43.76,
        "duration": 3.119,
        "text": "however gremlin io is more suitable when"
      },
      {
        "start": 46.16,
        "duration": 3.2,
        "text": "exporting and"
      },
      {
        "start": 46.879,
        "duration": 4.241,
        "text": "importing existing graphs gremlin"
      },
      {
        "start": 49.36,
        "duration": 3.76,
        "text": "mutating traversals are more suitable"
      },
      {
        "start": 51.12,
        "duration": 3.759,
        "text": "for mutating existing graphs"
      },
      {
        "start": 53.12,
        "duration": 3.439,
        "text": "the graph loader utility is capable of"
      },
      {
        "start": 54.879,
        "duration": 3.52,
        "text": "parsing existing collections of text"
      },
      {
        "start": 56.559,
        "duration": 3.84,
        "text": "files and datasets stored in jdpc"
      },
      {
        "start": 58.399,
        "duration": 3.441,
        "text": "compatible databases and loading such"
      },
      {
        "start": 60.399,
        "duration": 4.561,
        "text": "data as graphs"
      },
      {
        "start": 61.84,
        "duration": 5.12,
        "text": "into datastax enterprise the utility is"
      },
      {
        "start": 64.96,
        "duration": 3.199,
        "text": "designed for loading small to medium"
      },
      {
        "start": 66.96,
        "duration": 3.12,
        "text": "sized graphs"
      },
      {
        "start": 68.159,
        "duration": 3.841,
        "text": "there's also a spark based bulk loading"
      },
      {
        "start": 70.08,
        "duration": 3.92,
        "text": "utility and it's ideal for loading large"
      },
      {
        "start": 72.0,
        "duration": 4.64,
        "text": "graphs in this specific section we're"
      },
      {
        "start": 74.0,
        "duration": 4.4,
        "text": "going to be focusing on the graph api"
      },
      {
        "start": 76.64,
        "duration": 3.68,
        "text": "the groundwind io utility and the"
      },
      {
        "start": 78.4,
        "duration": 3.2,
        "text": "datastax graph loader so let's talk more"
      },
      {
        "start": 80.32,
        "duration": 3.04,
        "text": "about the graph api"
      },
      {
        "start": 81.6,
        "duration": 3.76,
        "text": "the two main methods you should be aware"
      },
      {
        "start": 83.36,
        "duration": 3.52,
        "text": "of to start creating your own graphs are"
      },
      {
        "start": 85.36,
        "duration": 3.119,
        "text": "add vertex and add"
      },
      {
        "start": 86.88,
        "duration": 3.44,
        "text": "edge there are more methods that can be"
      },
      {
        "start": 88.479,
        "duration": 4.161,
        "text": "useful in the graph api which can be"
      },
      {
        "start": 90.32,
        "duration": 5.04,
        "text": "found in our documentation"
      },
      {
        "start": 92.64,
        "duration": 3.439,
        "text": "add vertex can be specified with a label"
      },
      {
        "start": 95.36,
        "duration": 3.04,
        "text": "to add a"
      },
      {
        "start": 96.079,
        "duration": 4.72,
        "text": "labeled vertex to the current graph or"
      },
      {
        "start": 98.4,
        "duration": 3.999,
        "text": "you can simply add a vertex where the"
      },
      {
        "start": 100.799,
        "duration": 4.64,
        "text": "vertex label and properties"
      },
      {
        "start": 102.399,
        "duration": 5.521,
        "text": "are key value pairs similarly"
      },
      {
        "start": 105.439,
        "duration": 4.561,
        "text": "the add edge method allows you to add an"
      },
      {
        "start": 107.92,
        "duration": 3.92,
        "text": "edge directed from the current vertex to"
      },
      {
        "start": 110.0,
        "duration": 4.0,
        "text": "the invertex with the label and"
      },
      {
        "start": 111.84,
        "duration": 4.16,
        "text": "properties as key value pairs"
      },
      {
        "start": 114.0,
        "duration": 3.36,
        "text": "two more important methods to know about"
      },
      {
        "start": 116.0,
        "duration": 4.0,
        "text": "are the property"
      },
      {
        "start": 117.36,
        "duration": 4.96,
        "text": "and remove methods the property method"
      },
      {
        "start": 120.0,
        "duration": 5.68,
        "text": "allows you to add or set a property for"
      },
      {
        "start": 122.32,
        "duration": 4.799,
        "text": "vertex edge or vertex properties this is"
      },
      {
        "start": 125.68,
        "duration": 4.16,
        "text": "applicable to regular"
      },
      {
        "start": 127.119,
        "duration": 4.48,
        "text": "multi and meta properties as well the"
      },
      {
        "start": 129.84,
        "duration": 2.56,
        "text": "remove method allows you to remove a"
      },
      {
        "start": 131.599,
        "duration": 2.961,
        "text": "vertex"
      },
      {
        "start": 132.4,
        "duration": 4.64,
        "text": "edge vertex property or even edge"
      },
      {
        "start": 134.56,
        "duration": 4.08,
        "text": "property from the graph"
      },
      {
        "start": 137.04,
        "duration": 3.6,
        "text": "okay so now that we know the four main"
      },
      {
        "start": 138.64,
        "duration": 2.64,
        "text": "methods for interacting with the graph"
      },
      {
        "start": 140.64,
        "duration": 2.319,
        "text": "api"
      },
      {
        "start": 141.28,
        "duration": 3.92,
        "text": "let's put it to good use here's an"
      },
      {
        "start": 142.959,
        "duration": 3.601,
        "text": "example for creating vertices and vertex"
      },
      {
        "start": 145.2,
        "duration": 3.84,
        "text": "properties"
      },
      {
        "start": 146.56,
        "duration": 4.56,
        "text": "you can see that we define a vertex u u"
      },
      {
        "start": 149.04,
        "duration": 4.16,
        "text": "for user and we call the add vertex"
      },
      {
        "start": 151.12,
        "duration": 5.04,
        "text": "method and provide a label"
      },
      {
        "start": 153.2,
        "duration": 4.24,
        "text": "and property key value pairs let's take"
      },
      {
        "start": 156.16,
        "duration": 2.719,
        "text": "a look at another example"
      },
      {
        "start": 157.44,
        "duration": 3.2,
        "text": "this time we're creating a new movie"
      },
      {
        "start": 158.879,
        "duration": 2.561,
        "text": "vertex in our killer video reference"
      },
      {
        "start": 160.64,
        "duration": 3.44,
        "text": "graph"
      },
      {
        "start": 161.44,
        "duration": 4.4,
        "text": "just like before we define a vertex m m"
      },
      {
        "start": 164.08,
        "duration": 3.519,
        "text": "for movie and provide the label and"
      },
      {
        "start": 165.84,
        "duration": 3.679,
        "text": "property key value pairs"
      },
      {
        "start": 167.599,
        "duration": 3.201,
        "text": "notice at the bottom we can add more"
      },
      {
        "start": 169.519,
        "duration": 3.36,
        "text": "properties to our vertex"
      },
      {
        "start": 170.8,
        "duration": 4.64,
        "text": "m by using the property method and"
      },
      {
        "start": 172.879,
        "duration": 4.481,
        "text": "providing the property key value pairs"
      },
      {
        "start": 175.44,
        "duration": 3.76,
        "text": "in this case production is a"
      },
      {
        "start": 177.36,
        "duration": 5.76,
        "text": "multi-property therefore has"
      },
      {
        "start": 179.2,
        "duration": 3.92,
        "text": "multiple production companies involved"
      },
      {
        "start": 183.2,
        "duration": 2.959,
        "text": "it wouldn't be a graph use case if it"
      },
      {
        "start": 184.56,
        "duration": 2.72,
        "text": "didn't connect our vertices together so"
      },
      {
        "start": 186.159,
        "duration": 3.601,
        "text": "let's go ahead and do that"
      },
      {
        "start": 187.28,
        "duration": 3.44,
        "text": "here we're defining an edge e notice how"
      },
      {
        "start": 189.76,
        "duration": 3.52,
        "text": "we call the u"
      },
      {
        "start": 190.72,
        "duration": 3.04,
        "text": "user vertex from before and the add edge"
      },
      {
        "start": 193.28,
        "duration": 3.56,
        "text": "method"
      },
      {
        "start": 193.76,
        "duration": 5.44,
        "text": "with an edge label called rated and the"
      },
      {
        "start": 196.84,
        "duration": 4.759,
        "text": "invertex our relationship here is"
      },
      {
        "start": 199.2,
        "duration": 3.6,
        "text": "user rated a movie so we start with the"
      },
      {
        "start": 201.599,
        "duration": 4.081,
        "text": "user vertex"
      },
      {
        "start": 202.8,
        "duration": 3.76,
        "text": "add edge method edge label then add the"
      },
      {
        "start": 205.68,
        "duration": 4.4,
        "text": "invertex"
      },
      {
        "start": 206.56,
        "duration": 5.599,
        "text": "in this case movie we can then take that"
      },
      {
        "start": 210.08,
        "duration": 4.079,
        "text": "edge and add properties associated with"
      },
      {
        "start": 212.159,
        "duration": 4.561,
        "text": "it using the property method"
      },
      {
        "start": 214.159,
        "duration": 4.16,
        "text": "a user rated a movie with a rating of 8"
      },
      {
        "start": 216.72,
        "duration": 4.4,
        "text": "in this case"
      },
      {
        "start": 218.319,
        "duration": 4.0,
        "text": "deleting properties edges and vertices"
      },
      {
        "start": 221.12,
        "duration": 3.119,
        "text": "is pretty simple"
      },
      {
        "start": 222.319,
        "duration": 3.521,
        "text": "you add the remove method to the thing"
      },
      {
        "start": 224.239,
        "duration": 3.92,
        "text": "you'd like to remove"
      },
      {
        "start": 225.84,
        "duration": 4.56,
        "text": "at the top here we're removing the age"
      },
      {
        "start": 228.159,
        "duration": 4.321,
        "text": "and gender property from the user vertex"
      },
      {
        "start": 230.4,
        "duration": 3.919,
        "text": "we created earlier"
      },
      {
        "start": 232.48,
        "duration": 3.759,
        "text": "at the bottom we're moving the entire"
      },
      {
        "start": 234.319,
        "duration": 4.161,
        "text": "rated edge and movie vertex that we"
      },
      {
        "start": 236.239,
        "duration": 3.841,
        "text": "created previously"
      },
      {
        "start": 238.48,
        "duration": 3.039,
        "text": "here's where things get interesting"
      },
      {
        "start": 240.08,
        "duration": 3.12,
        "text": "let's say you want to connect a new"
      },
      {
        "start": 241.519,
        "duration": 2.561,
        "text": "vertex to an existing one already in"
      },
      {
        "start": 243.2,
        "duration": 3.2,
        "text": "your graph"
      },
      {
        "start": 244.08,
        "duration": 3.6,
        "text": "you can easily mix graph mutations with"
      },
      {
        "start": 246.4,
        "duration": 2.96,
        "text": "traversals"
      },
      {
        "start": 247.68,
        "duration": 3.6,
        "text": "in our example here we want to connect"
      },
      {
        "start": 249.36,
        "duration": 4.64,
        "text": "two users that know each other"
      },
      {
        "start": 251.28,
        "duration": 4.64,
        "text": "we define our first user vertex u1 and"
      },
      {
        "start": 254.0,
        "duration": 3.919,
        "text": "just like in the prior example"
      },
      {
        "start": 255.92,
        "duration": 3.92,
        "text": "this one is using the add vertex method"
      },
      {
        "start": 257.919,
        "duration": 3.921,
        "text": "to create a new user"
      },
      {
        "start": 259.84,
        "duration": 4.32,
        "text": "next we want to define our second user"
      },
      {
        "start": 261.84,
        "duration": 4.079,
        "text": "u2 which already exists in the graph so"
      },
      {
        "start": 264.16,
        "duration": 3.12,
        "text": "to find the traversal that will return"
      },
      {
        "start": 265.919,
        "duration": 3.441,
        "text": "our u2 vertex"
      },
      {
        "start": 267.28,
        "duration": 3.44,
        "text": "just like before we can take the first"
      },
      {
        "start": 269.36,
        "duration": 3.52,
        "text": "user call the add"
      },
      {
        "start": 270.72,
        "duration": 4.08,
        "text": "edge method with the label and then the"
      },
      {
        "start": 272.88,
        "duration": 2.8,
        "text": "invertex which in this case is our u2"
      },
      {
        "start": 274.8,
        "duration": 2.32,
        "text": "vertex"
      },
      {
        "start": 275.68,
        "duration": 3.519,
        "text": "at the bottom here you can see a more"
      },
      {
        "start": 277.12,
        "duration": 4.4,
        "text": "compact version of the above example"
      },
      {
        "start": 279.199,
        "duration": 4.081,
        "text": "where we start by adding our vertex"
      },
      {
        "start": 281.52,
        "duration": 3.6,
        "text": "changing the add edge method where we"
      },
      {
        "start": 283.28,
        "duration": 3.919,
        "text": "define our traversal that will return"
      },
      {
        "start": 285.12,
        "duration": 4.96,
        "text": "the existing vertex we'd like to connect"
      },
      {
        "start": 287.199,
        "duration": 4.961,
        "text": "to our new vertex let's take what you've"
      },
      {
        "start": 290.08,
        "duration": 7.679,
        "text": "learned about the graph api and put it"
      },
      {
        "start": 292.16,
        "duration": 5.599,
        "text": "to good use"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-15T22:48:37.578585+00:00"
}