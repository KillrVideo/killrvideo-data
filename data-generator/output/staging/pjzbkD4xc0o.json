{
  "video_id": "pjzbkD4xc0o",
  "title": "DS210.20 sstablesplit | Operations with Apache Cassandra",
  "description": "#DataStaxAcademy #DS210\nDS210.20 SSTABLESPLIT\nRan a major compaction? Stay calm, it's sstablesplit to the rescue! You will be learning about the sstablesplit command in this unit.\n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-11T12:46:53Z",
  "thumbnail": "https://i.ytimg.com/vi/pjzbkD4xc0o/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "cassandra",
    "datastax",
    "tutorial",
    "apache_cassandra"
  ],
  "url": "https://www.youtube.com/watch?v=pjzbkD4xc0o",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] let's talk about ss table split a little used command but when you need it it will save you so what does it do here's the situation you ran a major compaction against everyone's advice you did it well what do you get out of it you get ss table asaurus that is a really big file one ss table containing all the data in your node not recommended so when that happens to you luckily we have a way to get out of it now that may not be the only situation for instance if you have a situation where size to your compaction gets a lot of control you have one huge file sitting over here that just won't ever get compacted again sometimes you want to do a little manipulation on those files to break them up into chunks another place is level compaction level compaction over time can create some really large files that will never get compacted again and if you're having trouble with old steel data such as tombstones you may need to break it up this is a situation you won't run into all the time but when you do this is the tool to use a better way to put ss table split is anti-compaction where compaction combined files ss table split breaks them into pieces how does it work before you do anything stop you're running cassandra node you can't have it running while you're running this that's just a bad thing because what's going to happen is it potentially could be compacting something that you're uncompacting and then you're in trouble the usage is pretty simple if you look at this table there's just a few options but they're really important so ss table split is done on an ss table one of the data files sitting on your disk so you have to provide that file name the other thing that's really important is the size how big do you want it to be and then the other options are more or less like the verbose output that sort of thing or what's happening but really what you want to do is you want to say here's a file name here's the size that i want go do it this command that you see in front of you is essentially taking every single ss table in the users table in the killer video key space and breaking them up into 40 megabyte chunks it's just breaking them all down this is a good example of say you did a major compaction or something really bad on that one key space so use ss table split when you need it and when you need it you're really going to love it because it does do an effective job of breaking it down so now you know how it works go use it effectively",
    "segments": [
      {
        "start": 1.43,
        "duration": 5.33,
        "text": "[Music]"
      },
      {
        "start": 7.12,
        "duration": 4.479,
        "text": "let's talk about ss table split"
      },
      {
        "start": 9.36,
        "duration": 4.239,
        "text": "a little used command but when you need"
      },
      {
        "start": 11.599,
        "duration": 4.561,
        "text": "it it will save you"
      },
      {
        "start": 13.599,
        "duration": 4.241,
        "text": "so what does it do here's the situation"
      },
      {
        "start": 16.16,
        "duration": 4.32,
        "text": "you ran a major compaction"
      },
      {
        "start": 17.84,
        "duration": 3.12,
        "text": "against everyone's advice you did it"
      },
      {
        "start": 20.48,
        "duration": 2.639,
        "text": "well"
      },
      {
        "start": 20.96,
        "duration": 3.28,
        "text": "what do you get out of it you get ss"
      },
      {
        "start": 23.119,
        "duration": 4.801,
        "text": "table asaurus"
      },
      {
        "start": 24.24,
        "duration": 6.08,
        "text": "that is a really big file one ss table"
      },
      {
        "start": 27.92,
        "duration": 4.72,
        "text": "containing all the data in your node not"
      },
      {
        "start": 30.32,
        "duration": 4.56,
        "text": "recommended so when that happens to you"
      },
      {
        "start": 32.64,
        "duration": 4.56,
        "text": "luckily we have a way to get out of it"
      },
      {
        "start": 34.88,
        "duration": 4.08,
        "text": "now that may not be the only situation"
      },
      {
        "start": 37.2,
        "duration": 3.679,
        "text": "for instance if you have a situation"
      },
      {
        "start": 38.96,
        "duration": 2.8,
        "text": "where size to your compaction gets a lot"
      },
      {
        "start": 40.879,
        "duration": 3.121,
        "text": "of control"
      },
      {
        "start": 41.76,
        "duration": 3.119,
        "text": "you have one huge file sitting over here"
      },
      {
        "start": 44.0,
        "duration": 3.36,
        "text": "that just won't"
      },
      {
        "start": 44.879,
        "duration": 3.84,
        "text": "ever get compacted again sometimes you"
      },
      {
        "start": 47.36,
        "duration": 3.519,
        "text": "want to do a little manipulation on"
      },
      {
        "start": 48.719,
        "duration": 4.561,
        "text": "those files to break them up into chunks"
      },
      {
        "start": 50.879,
        "duration": 4.16,
        "text": "another place is level compaction level"
      },
      {
        "start": 53.28,
        "duration": 3.439,
        "text": "compaction over time can create some"
      },
      {
        "start": 55.039,
        "duration": 3.281,
        "text": "really large files that will never get"
      },
      {
        "start": 56.719,
        "duration": 3.281,
        "text": "compacted again and"
      },
      {
        "start": 58.32,
        "duration": 3.36,
        "text": "if you're having trouble with old steel"
      },
      {
        "start": 60.0,
        "duration": 3.76,
        "text": "data such as tombstones"
      },
      {
        "start": 61.68,
        "duration": 3.68,
        "text": "you may need to break it up this is a"
      },
      {
        "start": 63.76,
        "duration": 3.12,
        "text": "situation you won't run into all the"
      },
      {
        "start": 65.36,
        "duration": 3.759,
        "text": "time but when you do"
      },
      {
        "start": 66.88,
        "duration": 3.68,
        "text": "this is the tool to use a better way to"
      },
      {
        "start": 69.119,
        "duration": 3.521,
        "text": "put ss table split"
      },
      {
        "start": 70.56,
        "duration": 3.04,
        "text": "is anti-compaction where compaction"
      },
      {
        "start": 72.64,
        "duration": 3.2,
        "text": "combined files"
      },
      {
        "start": 73.6,
        "duration": 3.36,
        "text": "ss table split breaks them into pieces"
      },
      {
        "start": 75.84,
        "duration": 4.16,
        "text": "how does it work"
      },
      {
        "start": 76.96,
        "duration": 4.4,
        "text": "before you do anything stop you're"
      },
      {
        "start": 80.0,
        "duration": 3.28,
        "text": "running cassandra node"
      },
      {
        "start": 81.36,
        "duration": 3.04,
        "text": "you can't have it running while you're"
      },
      {
        "start": 83.28,
        "duration": 3.28,
        "text": "running this"
      },
      {
        "start": 84.4,
        "duration": 3.44,
        "text": "that's just a bad thing because what's"
      },
      {
        "start": 86.56,
        "duration": 2.559,
        "text": "going to happen is it potentially could"
      },
      {
        "start": 87.84,
        "duration": 2.4,
        "text": "be compacting something that you're"
      },
      {
        "start": 89.119,
        "duration": 3.36,
        "text": "uncompacting"
      },
      {
        "start": 90.24,
        "duration": 3.36,
        "text": "and then you're in trouble the usage is"
      },
      {
        "start": 92.479,
        "duration": 2.481,
        "text": "pretty simple"
      },
      {
        "start": 93.6,
        "duration": 3.36,
        "text": "if you look at this table there's just a"
      },
      {
        "start": 94.96,
        "duration": 5.04,
        "text": "few options but they're really important"
      },
      {
        "start": 96.96,
        "duration": 5.119,
        "text": "so ss table split is done on an ss"
      },
      {
        "start": 100.0,
        "duration": 4.32,
        "text": "table one of the data files sitting on"
      },
      {
        "start": 102.079,
        "duration": 3.441,
        "text": "your disk so you have to provide that"
      },
      {
        "start": 104.32,
        "duration": 3.36,
        "text": "file name"
      },
      {
        "start": 105.52,
        "duration": 3.2,
        "text": "the other thing that's really important"
      },
      {
        "start": 107.68,
        "duration": 3.28,
        "text": "is the size"
      },
      {
        "start": 108.72,
        "duration": 3.92,
        "text": "how big do you want it to be and then"
      },
      {
        "start": 110.96,
        "duration": 3.519,
        "text": "the other options are more or less like"
      },
      {
        "start": 112.64,
        "duration": 3.839,
        "text": "the verbose output that sort of thing"
      },
      {
        "start": 114.479,
        "duration": 3.201,
        "text": "or what's happening but really what you"
      },
      {
        "start": 116.479,
        "duration": 3.361,
        "text": "want to do is you want to say here's a"
      },
      {
        "start": 117.68,
        "duration": 4.24,
        "text": "file name here's the size that i want"
      },
      {
        "start": 119.84,
        "duration": 3.919,
        "text": "go do it this command that you see in"
      },
      {
        "start": 121.92,
        "duration": 4.559,
        "text": "front of you is essentially taking"
      },
      {
        "start": 123.759,
        "duration": 4.401,
        "text": "every single ss table in the users table"
      },
      {
        "start": 126.479,
        "duration": 3.76,
        "text": "in the killer video key space"
      },
      {
        "start": 128.16,
        "duration": 4.24,
        "text": "and breaking them up into 40 megabyte"
      },
      {
        "start": 130.239,
        "duration": 3.921,
        "text": "chunks it's just breaking them all down"
      },
      {
        "start": 132.4,
        "duration": 3.04,
        "text": "this is a good example of say you did a"
      },
      {
        "start": 134.16,
        "duration": 3.52,
        "text": "major compaction"
      },
      {
        "start": 135.44,
        "duration": 3.04,
        "text": "or something really bad on that one key"
      },
      {
        "start": 137.68,
        "duration": 3.52,
        "text": "space"
      },
      {
        "start": 138.48,
        "duration": 4.24,
        "text": "so use ss table split when you need it"
      },
      {
        "start": 141.2,
        "duration": 2.96,
        "text": "and when you need it you're really going"
      },
      {
        "start": 142.72,
        "duration": 3.28,
        "text": "to love it because it does do an"
      },
      {
        "start": 144.16,
        "duration": 6.159,
        "text": "effective job of breaking it down"
      },
      {
        "start": 146.0,
        "duration": 4.319,
        "text": "so now you know how it works go use it"
      },
      {
        "start": 151.16,
        "duration": 3.0,
        "text": "effectively"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T01:25:24.622112+00:00"
}