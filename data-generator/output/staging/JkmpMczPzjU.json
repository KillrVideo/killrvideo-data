{
  "video_id": "JkmpMczPzjU",
  "title": "DS210.14 Replacing a Down Node | Operations with Apache Cassandra",
  "description": "#DataStaxAcademy #DS210\nDS210.14 REPLACING A DOWN NODE\nReplacing a down node is a pretty common operation, especially in a larger Apache Cassandra or DataStax Enterprise cluster. In this unit, you will learn how you go about it.\n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-11T12:30:17Z",
  "thumbnail": "https://i.ytimg.com/vi/JkmpMczPzjU/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "cassandra",
    "datastax",
    "tutorial",
    "apache_cassandra"
  ],
  "url": "https://www.youtube.com/watch?v=JkmpMczPzjU",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] let's talk about replacing a down node now this is a pretty common operation especially in a very large cluster good operations topic if you're running a cassandra cluster or a datasex enterprise cluster you really should know how to do this because it's going to happen so what are the benefits of replacing a down node well it's all about not having to move data a lot let's minimize the amount of process that you have to put towards replacement and moving a lot of data can be expensive when you have terabytes of data sitting in one place it takes a while for that to move around minimizing that is a good idea you're doing this instead of doing a remove and then an add this is a replace so it's all done in one shot so you can see here this is a nodule status output and what we're seeing is a node that we want to replace so we want to configure a new node for the cluster normally one step so we would replace address and this should be an ip address of the node you want to replace you can see here we have 172 1704 let's replace that one so whenever you start that node in the jvm options file you'll put the ip address of the dead node inside there and that's just to give it an indication like that ip address i want to replace that one this is a shortcut operation this says i just want to replace whatever that was give me all the data and let's keep it at that so very quick operation and one of those things that was born of frustration of people before you having to remove a node and then go and bootstrap a new one this is a great option for those of you in operations one thing of note after you're done you need to go back into your jvm options file and remove that statement because it's done it's not removed automatically it's something that you have to do so you're going to go look at the other running nodes and make sure that seed address is no longer in the cassandra yaml file once you change it it's a rolling restart you want to restart all the nodes to make sure that they're updated with the new information remember seed nodes aren't just there for bootstrapping seed nodes are also there as a list of nodes to contact if gossip starts losing its mind if gossip can't find one of the addresses that it's been communicating with it'll always fall back to the seed addresses so this is why it's important to update that after you remove a seed node so let's try an exercise where we add and remove a node and see how it works [Music]",
    "segments": [
      {
        "start": 1.43,
        "duration": 7.53,
        "text": "[Music]"
      },
      {
        "start": 7.52,
        "duration": 4.239,
        "text": "let's talk about replacing"
      },
      {
        "start": 8.96,
        "duration": 3.759,
        "text": "a down node now this is a pretty common"
      },
      {
        "start": 11.759,
        "duration": 3.281,
        "text": "operation"
      },
      {
        "start": 12.719,
        "duration": 3.361,
        "text": "especially in a very large cluster good"
      },
      {
        "start": 15.04,
        "duration": 2.64,
        "text": "operations topic"
      },
      {
        "start": 16.08,
        "duration": 3.52,
        "text": "if you're running a cassandra cluster or"
      },
      {
        "start": 17.68,
        "duration": 3.2,
        "text": "a datasex enterprise cluster"
      },
      {
        "start": 19.6,
        "duration": 3.439,
        "text": "you really should know how to do this"
      },
      {
        "start": 20.88,
        "duration": 3.04,
        "text": "because it's going to happen so what are"
      },
      {
        "start": 23.039,
        "duration": 3.841,
        "text": "the benefits"
      },
      {
        "start": 23.92,
        "duration": 4.96,
        "text": "of replacing a down node well it's all"
      },
      {
        "start": 26.88,
        "duration": 4.319,
        "text": "about not having to move data a lot"
      },
      {
        "start": 28.88,
        "duration": 3.679,
        "text": "let's minimize the amount of process"
      },
      {
        "start": 31.199,
        "duration": 4.161,
        "text": "that you have to put"
      },
      {
        "start": 32.559,
        "duration": 4.241,
        "text": "towards replacement and moving a lot of"
      },
      {
        "start": 35.36,
        "duration": 3.28,
        "text": "data can be expensive"
      },
      {
        "start": 36.8,
        "duration": 3.84,
        "text": "when you have terabytes of data sitting"
      },
      {
        "start": 38.64,
        "duration": 3.2,
        "text": "in one place it takes a while for that"
      },
      {
        "start": 40.64,
        "duration": 3.919,
        "text": "to move around"
      },
      {
        "start": 41.84,
        "duration": 3.36,
        "text": "minimizing that is a good idea you're"
      },
      {
        "start": 44.559,
        "duration": 2.721,
        "text": "doing this"
      },
      {
        "start": 45.2,
        "duration": 4.16,
        "text": "instead of doing a remove and then an"
      },
      {
        "start": 47.28,
        "duration": 3.36,
        "text": "add this is a replace so it's all done"
      },
      {
        "start": 49.36,
        "duration": 3.12,
        "text": "in one shot"
      },
      {
        "start": 50.64,
        "duration": 3.04,
        "text": "so you can see here this is a nodule"
      },
      {
        "start": 52.48,
        "duration": 3.2,
        "text": "status output"
      },
      {
        "start": 53.68,
        "duration": 3.28,
        "text": "and what we're seeing is a node that we"
      },
      {
        "start": 55.68,
        "duration": 3.519,
        "text": "want to replace"
      },
      {
        "start": 56.96,
        "duration": 3.04,
        "text": "so we want to configure a new node for"
      },
      {
        "start": 59.199,
        "duration": 3.281,
        "text": "the cluster"
      },
      {
        "start": 60.0,
        "duration": 3.44,
        "text": "normally one step so we would replace"
      },
      {
        "start": 62.48,
        "duration": 3.12,
        "text": "address"
      },
      {
        "start": 63.44,
        "duration": 3.28,
        "text": "and this should be an ip address of the"
      },
      {
        "start": 65.6,
        "duration": 4.24,
        "text": "node you want to replace"
      },
      {
        "start": 66.72,
        "duration": 4.48,
        "text": "you can see here we have 172 1704 let's"
      },
      {
        "start": 69.84,
        "duration": 3.12,
        "text": "replace that one"
      },
      {
        "start": 71.2,
        "duration": 3.52,
        "text": "so whenever you start that node in the"
      },
      {
        "start": 72.96,
        "duration": 4.4,
        "text": "jvm options file"
      },
      {
        "start": 74.72,
        "duration": 3.12,
        "text": "you'll put the ip address of the dead"
      },
      {
        "start": 77.36,
        "duration": 2.799,
        "text": "node"
      },
      {
        "start": 77.84,
        "duration": 4.24,
        "text": "inside there and that's just to give it"
      },
      {
        "start": 80.159,
        "duration": 3.201,
        "text": "an indication like that ip address i"
      },
      {
        "start": 82.08,
        "duration": 4.16,
        "text": "want to replace that one"
      },
      {
        "start": 83.36,
        "duration": 4.88,
        "text": "this is a shortcut operation this says i"
      },
      {
        "start": 86.24,
        "duration": 3.519,
        "text": "just want to replace whatever that was"
      },
      {
        "start": 88.24,
        "duration": 4.48,
        "text": "give me all the data and let's keep it"
      },
      {
        "start": 89.759,
        "duration": 4.32,
        "text": "at that so very quick operation and one"
      },
      {
        "start": 92.72,
        "duration": 4.399,
        "text": "of those things that was born"
      },
      {
        "start": 94.079,
        "duration": 5.281,
        "text": "of frustration of people before you"
      },
      {
        "start": 97.119,
        "duration": 3.441,
        "text": "having to remove a node and then go and"
      },
      {
        "start": 99.36,
        "duration": 3.119,
        "text": "bootstrap a new one"
      },
      {
        "start": 100.56,
        "duration": 3.44,
        "text": "this is a great option for those of you"
      },
      {
        "start": 102.479,
        "duration": 4.32,
        "text": "in operations"
      },
      {
        "start": 104.0,
        "duration": 4.32,
        "text": "one thing of note after you're done you"
      },
      {
        "start": 106.799,
        "duration": 4.241,
        "text": "need to go back into your jvm"
      },
      {
        "start": 108.32,
        "duration": 3.6,
        "text": "options file and remove that statement"
      },
      {
        "start": 111.04,
        "duration": 3.28,
        "text": "because"
      },
      {
        "start": 111.92,
        "duration": 4.239,
        "text": "it's done it's not removed automatically"
      },
      {
        "start": 114.32,
        "duration": 3.119,
        "text": "it's something that you have to do"
      },
      {
        "start": 116.159,
        "duration": 3.041,
        "text": "so you're going to go look at the other"
      },
      {
        "start": 117.439,
        "duration": 2.481,
        "text": "running nodes and make sure that seed"
      },
      {
        "start": 119.2,
        "duration": 3.199,
        "text": "address is"
      },
      {
        "start": 119.92,
        "duration": 3.68,
        "text": "no longer in the cassandra yaml file"
      },
      {
        "start": 122.399,
        "duration": 2.961,
        "text": "once you change it"
      },
      {
        "start": 123.6,
        "duration": 3.44,
        "text": "it's a rolling restart you want to"
      },
      {
        "start": 125.36,
        "duration": 3.679,
        "text": "restart all the nodes to make sure that"
      },
      {
        "start": 127.04,
        "duration": 4.559,
        "text": "they're updated with the new information"
      },
      {
        "start": 129.039,
        "duration": 3.761,
        "text": "remember seed nodes aren't just there"
      },
      {
        "start": 131.599,
        "duration": 3.681,
        "text": "for bootstrapping"
      },
      {
        "start": 132.8,
        "duration": 3.68,
        "text": "seed nodes are also there as a list of"
      },
      {
        "start": 135.28,
        "duration": 3.679,
        "text": "nodes to contact"
      },
      {
        "start": 136.48,
        "duration": 4.0,
        "text": "if gossip starts losing its mind if"
      },
      {
        "start": 138.959,
        "duration": 2.961,
        "text": "gossip can't find"
      },
      {
        "start": 140.48,
        "duration": 3.44,
        "text": "one of the addresses that it's been"
      },
      {
        "start": 141.92,
        "duration": 3.84,
        "text": "communicating with it'll always fall"
      },
      {
        "start": 143.92,
        "duration": 3.76,
        "text": "back to the seed addresses"
      },
      {
        "start": 145.76,
        "duration": 3.36,
        "text": "so this is why it's important to update"
      },
      {
        "start": 147.68,
        "duration": 4.4,
        "text": "that after you"
      },
      {
        "start": 149.12,
        "duration": 5.68,
        "text": "remove a seed node so let's try an"
      },
      {
        "start": 152.08,
        "duration": 4.08,
        "text": "exercise where we add and remove a node"
      },
      {
        "start": 154.8,
        "duration": 6.07,
        "text": "and see how it works"
      },
      {
        "start": 156.16,
        "duration": 4.71,
        "text": "[Music]"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T01:33:28.148618+00:00"
}