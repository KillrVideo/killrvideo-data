{
  "video_id": "NPDSOdbizsY",
  "title": "DS220.07 Clustering Columns | Data Modeling with Apache Cassandra",
  "description": "#DataStaxAcademy #DS220\nDS220.07 Clustering Columns\nThe other part of the primary key (besides partition keys) is called clustering columns. You combine the two to make a stellar data model. Learn about clustering columns in this unit. \n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-14T09:19:29Z",
  "thumbnail": "https://i.ytimg.com/vi/NPDSOdbizsY/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "data_modeling",
    "cassandra",
    "tutorial",
    "apache_cassandra",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=NPDSOdbizsY",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] let's talk about clustering columns now the other half of the primary key besides partition keys are clustering columns so these are combined to make your data model awesome how do you work with them clustering columns are an important part of the data model because they define certain parts of the sorting and uniqueness so if you look at this diagram we have the video table again just like we saw in a previous example but this time instead of just having year which would not be unique we need to add name to make it unique so year plus name makes these records unique but hold on if year is a partition key and name is the clustering column what does that mean what does that do to my data model now if you look at the placement of the primary key i mentioned this before i'll mention it again and keep mentioning it primary key is partition key then clustering column that's the order the clustering column could be zero or more columns after the partition key but you can have many of them and how many you have is really dependent on your data model and what you're trying to do with the query so let's get into that so to understand the query let's look at this diagram of how the storage engine works with this data model so if the year is a partition key that means that each one of those years could be potentially stored on a different node so the partition key gives you node locality good that puts us in a single server but then the clustering column denotes some sort of order so if you see like 2014 is a year there are actually two movies that fit inside of 2014 there's interstellar and mockingjay now those two things fit into the same partition but the clustering column gives them uniqueness but it also imparts some sort of sorting order and that sorting order goes directly into the storage engine as you can see here i is sorted before m keep this in mind every time you do a data model and use a primary key you're actually imparting some knowledge to the storage engine to give you a leg up on the query if i was to compare these side by side you could see that when we just had a primary key of id which is just a partition key and we have a primary key of year plus title now you can see the differences on the storage engine the partition key one two three each one of those values could be on a separate node but there's only one record per partition key or one row in the case where there's multiple values where we have a partition key and a clustering column now you have multiple rows inside of a single partition 2014 and 2015 only had one movie in it so it only has one row but the storage engine is very different and the way that data model is expressed in the query is very different as well ordering is really the important thing in the clustering column this is what imparts order to the values you store in your data model let's look at this diagram you have your clustering column values inside of the same partition but that order as i mentioned before interstellar then mockingjay and this is ascending order this is in the collating order for utf-8 so i goes before m the name imparts some sort of sorting now if you think of all the different types and the kind of ordering that you can get from them for instance an integer or a date now you're starting to work with data and ordering the data before you do any work with it so thinking about order or clustering columns what if you wanted to control the order well in this slide what you can see is that the order in this case is descending you can control that and there's ways you can do it inside of the table declaration but the order ascending descending can be useful for different types of models for instance with numbers maybe you want to have a descending how we control that order is by the clustering order by clause in your table creation if you look at this table the primary key of year and name the clustering column being named if we didn't add the with clustering order by name would just be ascending based on the collating order for utf-8 but since we want to control it with clustering order by name descending what you're saying here is that that clustering column no no no i want to control the order i want to make it descending so when you insert data into this table that data is going to be sorted properly on disk and it will be in descending order think about this as a pre-optimization for your query if i need it in my query in descending order when i go get it from the cassandra node it'll be preformed already sorted and ready to use so querying clustering columns now there's a bit to this and this is important to know because you can get tripped on this really quickly if you look at the diagram here we have the select star from videos and now we have a couple of where clauses we have the year and name being used this is important to know the year 2014 is a partition key you always should include the partition key in your queries why because you need that node locality if you have a thousand node cluster where are you gonna find it well year 2014 means it's going to get hashed to a certain node that node will have the data the next part and name equals mockingjay this will give you the next part of locality once we get to the partition 2014 we can go to the disk and that disk is going to be looking at the order of those records inside that partition name equals mockingjay we scan the mockingjay return that record so it's a very efficient operation we go from partition where is it in the cluster to using clustering columns to where is that data inside of the file this could be potentially in one ss table or multiple but we know that based on the partition key we have a pretty good idea where it is in a disk if you go back and watch the module on read path you'll see where this is important this is how you're controlling how the read path can be optimized inside of your data model now in the case where i want to do something like a range query looking at this diagram we now have year 2014 that's our partition but name is greater than or equal to that greater than or equal to since we're using a utf-8 sorting order is going to be lexically greater than so interstellar being before mockingjay means that i will see interstellar in any record after the letter i this can be useful especially in something like a time series data model where you want to go to a certain time and then traverse all the other times after it now the order of clustering column fields that you add to the primary key if you add more than one the rules are pretty simple if you're going to use it in a query you have to follow the order in the primary key so if you add yet another clustering column say runtime you'll need to add the name as part of the where clause first and then runtime if you query runtime outside like not include name then it's not going to work as good and the reason being is because it doesn't know the order to search in the order has to be preserved from how you wrote it in your primary key so name was first runtime was second that's the order that you have to query it with now ways to get around that are by using something like a secondary index or in the case of data sex enterprise search but those are more advanced topics for later so let's try this let's go do an exercise on clustering columns and see how they work in real life you",
    "segments": [
      {
        "start": 1.47,
        "duration": 7.169,
        "text": "[Music]"
      },
      {
        "start": 7.52,
        "duration": 3.68,
        "text": "let's talk about"
      },
      {
        "start": 8.639,
        "duration": 3.761,
        "text": "clustering columns now the other half of"
      },
      {
        "start": 11.2,
        "duration": 3.2,
        "text": "the primary key"
      },
      {
        "start": 12.4,
        "duration": 3.04,
        "text": "besides partition keys are clustering"
      },
      {
        "start": 14.4,
        "duration": 4.32,
        "text": "columns so these are"
      },
      {
        "start": 15.44,
        "duration": 5.04,
        "text": "combined to make your data model awesome"
      },
      {
        "start": 18.72,
        "duration": 3.12,
        "text": "how do you work with them clustering"
      },
      {
        "start": 20.48,
        "duration": 3.28,
        "text": "columns are an important part of the"
      },
      {
        "start": 21.84,
        "duration": 3.759,
        "text": "data model because they define"
      },
      {
        "start": 23.76,
        "duration": 3.679,
        "text": "certain parts of the sorting and"
      },
      {
        "start": 25.599,
        "duration": 2.641,
        "text": "uniqueness so if you look at this"
      },
      {
        "start": 27.439,
        "duration": 2.881,
        "text": "diagram"
      },
      {
        "start": 28.24,
        "duration": 3.839,
        "text": "we have the video table again just like"
      },
      {
        "start": 30.32,
        "duration": 3.44,
        "text": "we saw in a previous example"
      },
      {
        "start": 32.079,
        "duration": 3.921,
        "text": "but this time instead of just having"
      },
      {
        "start": 33.76,
        "duration": 3.2,
        "text": "year which would not be unique we need"
      },
      {
        "start": 36.0,
        "duration": 4.0,
        "text": "to add name"
      },
      {
        "start": 36.96,
        "duration": 6.56,
        "text": "to make it unique so year plus name"
      },
      {
        "start": 40.0,
        "duration": 6.64,
        "text": "makes these records unique but hold on"
      },
      {
        "start": 43.52,
        "duration": 5.199,
        "text": "if year is a partition key and"
      },
      {
        "start": 46.64,
        "duration": 3.12,
        "text": "name is the clustering column what does"
      },
      {
        "start": 48.719,
        "duration": 4.081,
        "text": "that mean"
      },
      {
        "start": 49.76,
        "duration": 4.319,
        "text": "what does that do to my data model"
      },
      {
        "start": 52.8,
        "duration": 3.759,
        "text": "now if you look at the placement of the"
      },
      {
        "start": 54.079,
        "duration": 4.48,
        "text": "primary key i mentioned this before i'll"
      },
      {
        "start": 56.559,
        "duration": 5.601,
        "text": "mention it again and keep mentioning it"
      },
      {
        "start": 58.559,
        "duration": 5.841,
        "text": "primary key is partition key then"
      },
      {
        "start": 62.16,
        "duration": 3.84,
        "text": "clustering column that's the order the"
      },
      {
        "start": 64.4,
        "duration": 4.079,
        "text": "clustering column could be"
      },
      {
        "start": 66.0,
        "duration": 3.439,
        "text": "zero or more columns after the partition"
      },
      {
        "start": 68.479,
        "duration": 3.361,
        "text": "key"
      },
      {
        "start": 69.439,
        "duration": 3.521,
        "text": "but you can have many of them and how"
      },
      {
        "start": 71.84,
        "duration": 3.04,
        "text": "many you have"
      },
      {
        "start": 72.96,
        "duration": 3.44,
        "text": "is really dependent on your data model"
      },
      {
        "start": 74.88,
        "duration": 2.4,
        "text": "and what you're trying to do with the"
      },
      {
        "start": 76.4,
        "duration": 3.359,
        "text": "query"
      },
      {
        "start": 77.28,
        "duration": 4.4,
        "text": "so let's get into that so to understand"
      },
      {
        "start": 79.759,
        "duration": 2.961,
        "text": "the query let's look at this diagram of"
      },
      {
        "start": 81.68,
        "duration": 4.0,
        "text": "how the storage"
      },
      {
        "start": 82.72,
        "duration": 4.56,
        "text": "engine works with this data model so if"
      },
      {
        "start": 85.68,
        "duration": 4.0,
        "text": "the year is a partition key"
      },
      {
        "start": 87.28,
        "duration": 4.08,
        "text": "that means that each one of those years"
      },
      {
        "start": 89.68,
        "duration": 2.56,
        "text": "could be potentially stored on a"
      },
      {
        "start": 91.36,
        "duration": 2.719,
        "text": "different node"
      },
      {
        "start": 92.24,
        "duration": 4.239,
        "text": "so the partition key gives you node"
      },
      {
        "start": 94.079,
        "duration": 3.36,
        "text": "locality good that puts us in a single"
      },
      {
        "start": 96.479,
        "duration": 3.201,
        "text": "server"
      },
      {
        "start": 97.439,
        "duration": 4.0,
        "text": "but then the clustering column denotes"
      },
      {
        "start": 99.68,
        "duration": 4.88,
        "text": "some sort of order"
      },
      {
        "start": 101.439,
        "duration": 4.72,
        "text": "so if you see like 2014 is a year"
      },
      {
        "start": 104.56,
        "duration": 3.04,
        "text": "there are actually two movies that fit"
      },
      {
        "start": 106.159,
        "duration": 4.401,
        "text": "inside of 2014"
      },
      {
        "start": 107.6,
        "duration": 5.28,
        "text": "there's interstellar and mockingjay now"
      },
      {
        "start": 110.56,
        "duration": 4.559,
        "text": "those two things fit into the same"
      },
      {
        "start": 112.88,
        "duration": 3.76,
        "text": "partition but the clustering column"
      },
      {
        "start": 115.119,
        "duration": 4.241,
        "text": "gives them uniqueness"
      },
      {
        "start": 116.64,
        "duration": 3.2,
        "text": "but it also imparts some sort of sorting"
      },
      {
        "start": 119.36,
        "duration": 2.24,
        "text": "order"
      },
      {
        "start": 119.84,
        "duration": 3.279,
        "text": "and that sorting order goes directly"
      },
      {
        "start": 121.6,
        "duration": 2.32,
        "text": "into the storage engine as you can see"
      },
      {
        "start": 123.119,
        "duration": 4.64,
        "text": "here"
      },
      {
        "start": 123.92,
        "duration": 5.92,
        "text": "i is sorted before m keep this in mind"
      },
      {
        "start": 127.759,
        "duration": 3.28,
        "text": "every time you do a data model and use a"
      },
      {
        "start": 129.84,
        "duration": 3.36,
        "text": "primary key"
      },
      {
        "start": 131.039,
        "duration": 3.361,
        "text": "you're actually imparting some knowledge"
      },
      {
        "start": 133.2,
        "duration": 3.679,
        "text": "to the storage engine"
      },
      {
        "start": 134.4,
        "duration": 3.68,
        "text": "to give you a leg up on the query if i"
      },
      {
        "start": 136.879,
        "duration": 4.241,
        "text": "was to compare these"
      },
      {
        "start": 138.08,
        "duration": 3.92,
        "text": "side by side you could see that when we"
      },
      {
        "start": 141.12,
        "duration": 3.44,
        "text": "just had a primary"
      },
      {
        "start": 142.0,
        "duration": 4.48,
        "text": "key of id which is just a partition key"
      },
      {
        "start": 144.56,
        "duration": 3.92,
        "text": "and we have a primary key of year"
      },
      {
        "start": 146.48,
        "duration": 4.0,
        "text": "plus title now you can see the"
      },
      {
        "start": 148.48,
        "duration": 5.039,
        "text": "differences on the storage engine"
      },
      {
        "start": 150.48,
        "duration": 4.56,
        "text": "the partition key one two three each one"
      },
      {
        "start": 153.519,
        "duration": 2.561,
        "text": "of those values could be on a separate"
      },
      {
        "start": 155.04,
        "duration": 4.08,
        "text": "node"
      },
      {
        "start": 156.08,
        "duration": 5.76,
        "text": "but there's only one record per"
      },
      {
        "start": 159.12,
        "duration": 3.52,
        "text": "partition key or one row in the case"
      },
      {
        "start": 161.84,
        "duration": 2.32,
        "text": "where there's"
      },
      {
        "start": 162.64,
        "duration": 4.0,
        "text": "multiple values where we have a"
      },
      {
        "start": 164.16,
        "duration": 4.64,
        "text": "partition key and a clustering column"
      },
      {
        "start": 166.64,
        "duration": 3.36,
        "text": "now you have multiple rows inside of a"
      },
      {
        "start": 168.8,
        "duration": 4.88,
        "text": "single partition"
      },
      {
        "start": 170.0,
        "duration": 6.48,
        "text": "2014 and 2015 only had one movie in it"
      },
      {
        "start": 173.68,
        "duration": 4.32,
        "text": "so it only has one row but the storage"
      },
      {
        "start": 176.48,
        "duration": 3.44,
        "text": "engine is very different"
      },
      {
        "start": 178.0,
        "duration": 4.959,
        "text": "and the way that data model is expressed"
      },
      {
        "start": 179.92,
        "duration": 5.2,
        "text": "in the query is very different as well"
      },
      {
        "start": 182.959,
        "duration": 3.681,
        "text": "ordering is really the important thing"
      },
      {
        "start": 185.12,
        "duration": 4.479,
        "text": "in the clustering column"
      },
      {
        "start": 186.64,
        "duration": 4.4,
        "text": "this is what imparts order to the values"
      },
      {
        "start": 189.599,
        "duration": 3.441,
        "text": "you store in your data model"
      },
      {
        "start": 191.04,
        "duration": 4.08,
        "text": "let's look at this diagram you have your"
      },
      {
        "start": 193.04,
        "duration": 4.72,
        "text": "clustering column values"
      },
      {
        "start": 195.12,
        "duration": 3.36,
        "text": "inside of the same partition but that"
      },
      {
        "start": 197.76,
        "duration": 3.68,
        "text": "order"
      },
      {
        "start": 198.48,
        "duration": 5.28,
        "text": "as i mentioned before interstellar then"
      },
      {
        "start": 201.44,
        "duration": 5.519,
        "text": "mockingjay and this is ascending order"
      },
      {
        "start": 203.76,
        "duration": 6.64,
        "text": "this is in the collating order for utf-8"
      },
      {
        "start": 206.959,
        "duration": 6.241,
        "text": "so i goes before m the name"
      },
      {
        "start": 210.4,
        "duration": 4.32,
        "text": "imparts some sort of sorting now if you"
      },
      {
        "start": 213.2,
        "duration": 3.039,
        "text": "think of all the different types and the"
      },
      {
        "start": 214.72,
        "duration": 2.079,
        "text": "kind of ordering that you can get from"
      },
      {
        "start": 216.239,
        "duration": 3.201,
        "text": "them"
      },
      {
        "start": 216.799,
        "duration": 4.16,
        "text": "for instance an integer or a date now"
      },
      {
        "start": 219.44,
        "duration": 3.84,
        "text": "you're starting to work with data"
      },
      {
        "start": 220.959,
        "duration": 4.0,
        "text": "and ordering the data before you do any"
      },
      {
        "start": 223.28,
        "duration": 3.679,
        "text": "work with it"
      },
      {
        "start": 224.959,
        "duration": 4.161,
        "text": "so thinking about order or clustering"
      },
      {
        "start": 226.959,
        "duration": 2.961,
        "text": "columns what if you wanted to control"
      },
      {
        "start": 229.12,
        "duration": 2.96,
        "text": "the order"
      },
      {
        "start": 229.92,
        "duration": 3.92,
        "text": "well in this slide what you can see is"
      },
      {
        "start": 232.08,
        "duration": 2.64,
        "text": "that the order in this case is"
      },
      {
        "start": 233.84,
        "duration": 2.24,
        "text": "descending"
      },
      {
        "start": 234.72,
        "duration": 2.719,
        "text": "you can control that and there's ways"
      },
      {
        "start": 236.08,
        "duration": 2.32,
        "text": "you can do it inside of the table"
      },
      {
        "start": 237.439,
        "duration": 3.761,
        "text": "declaration"
      },
      {
        "start": 238.4,
        "duration": 4.559,
        "text": "but the order ascending descending can"
      },
      {
        "start": 241.2,
        "duration": 3.679,
        "text": "be useful for different types of models"
      },
      {
        "start": 242.959,
        "duration": 3.2,
        "text": "for instance with numbers maybe you want"
      },
      {
        "start": 244.879,
        "duration": 4.161,
        "text": "to have a descending"
      },
      {
        "start": 246.159,
        "duration": 4.241,
        "text": "how we control that order is by the"
      },
      {
        "start": 249.04,
        "duration": 4.08,
        "text": "clustering order by"
      },
      {
        "start": 250.4,
        "duration": 3.919,
        "text": "clause in your table creation if you"
      },
      {
        "start": 253.12,
        "duration": 3.6,
        "text": "look at this table"
      },
      {
        "start": 254.319,
        "duration": 4.241,
        "text": "the primary key of year and name the"
      },
      {
        "start": 256.72,
        "duration": 3.84,
        "text": "clustering column being named"
      },
      {
        "start": 258.56,
        "duration": 3.28,
        "text": "if we didn't add the with clustering"
      },
      {
        "start": 260.56,
        "duration": 3.44,
        "text": "order by"
      },
      {
        "start": 261.84,
        "duration": 4.799,
        "text": "name would just be ascending based on"
      },
      {
        "start": 264.0,
        "duration": 5.199,
        "text": "the collating order for utf-8"
      },
      {
        "start": 266.639,
        "duration": 4.321,
        "text": "but since we want to control it with"
      },
      {
        "start": 269.199,
        "duration": 4.56,
        "text": "clustering order by"
      },
      {
        "start": 270.96,
        "duration": 4.16,
        "text": "name descending what you're saying here"
      },
      {
        "start": 273.759,
        "duration": 3.44,
        "text": "is that that clustering column"
      },
      {
        "start": 275.12,
        "duration": 4.079,
        "text": "no no no i want to control the order i"
      },
      {
        "start": 277.199,
        "duration": 5.361,
        "text": "want to make it descending"
      },
      {
        "start": 279.199,
        "duration": 5.921,
        "text": "so when you insert data into this table"
      },
      {
        "start": 282.56,
        "duration": 3.44,
        "text": "that data is going to be sorted properly"
      },
      {
        "start": 285.12,
        "duration": 3.44,
        "text": "on disk"
      },
      {
        "start": 286.0,
        "duration": 4.4,
        "text": "and it will be in descending order think"
      },
      {
        "start": 288.56,
        "duration": 2.72,
        "text": "about this as a pre-optimization for"
      },
      {
        "start": 290.4,
        "duration": 2.88,
        "text": "your query"
      },
      {
        "start": 291.28,
        "duration": 3.68,
        "text": "if i need it in my query in descending"
      },
      {
        "start": 293.28,
        "duration": 3.84,
        "text": "order when i go get it from the"
      },
      {
        "start": 294.96,
        "duration": 4.88,
        "text": "cassandra node it'll be preformed"
      },
      {
        "start": 297.12,
        "duration": 4.639,
        "text": "already sorted and ready to use so"
      },
      {
        "start": 299.84,
        "duration": 3.76,
        "text": "querying clustering columns"
      },
      {
        "start": 301.759,
        "duration": 3.44,
        "text": "now there's a bit to this and this is"
      },
      {
        "start": 303.6,
        "duration": 3.2,
        "text": "important to know because"
      },
      {
        "start": 305.199,
        "duration": 4.081,
        "text": "you can get tripped on this really"
      },
      {
        "start": 306.8,
        "duration": 3.28,
        "text": "quickly if you look at the diagram here"
      },
      {
        "start": 309.28,
        "duration": 3.04,
        "text": "we have"
      },
      {
        "start": 310.08,
        "duration": 4.16,
        "text": "the select star from videos and now we"
      },
      {
        "start": 312.32,
        "duration": 4.719,
        "text": "have a couple of where clauses"
      },
      {
        "start": 314.24,
        "duration": 4.88,
        "text": "we have the year and name being used"
      },
      {
        "start": 317.039,
        "duration": 5.44,
        "text": "this is important to know"
      },
      {
        "start": 319.12,
        "duration": 5.84,
        "text": "the year 2014 is a partition key you"
      },
      {
        "start": 322.479,
        "duration": 3.841,
        "text": "always should include the partition key"
      },
      {
        "start": 324.96,
        "duration": 3.92,
        "text": "in your queries"
      },
      {
        "start": 326.32,
        "duration": 4.8,
        "text": "why because you need that node locality"
      },
      {
        "start": 328.88,
        "duration": 4.4,
        "text": "if you have a thousand node cluster"
      },
      {
        "start": 331.12,
        "duration": 4.32,
        "text": "where are you gonna find it well year"
      },
      {
        "start": 333.28,
        "duration": 3.199,
        "text": "2014 means it's going to get hashed to a"
      },
      {
        "start": 335.44,
        "duration": 3.36,
        "text": "certain node"
      },
      {
        "start": 336.479,
        "duration": 3.361,
        "text": "that node will have the data the next"
      },
      {
        "start": 338.8,
        "duration": 3.76,
        "text": "part and"
      },
      {
        "start": 339.84,
        "duration": 4.56,
        "text": "name equals mockingjay this will give"
      },
      {
        "start": 342.56,
        "duration": 4.639,
        "text": "you the next part of locality"
      },
      {
        "start": 344.4,
        "duration": 4.16,
        "text": "once we get to the partition 2014 we can"
      },
      {
        "start": 347.199,
        "duration": 2.881,
        "text": "go to the disk"
      },
      {
        "start": 348.56,
        "duration": 3.6,
        "text": "and that disk is going to be looking at"
      },
      {
        "start": 350.08,
        "duration": 3.04,
        "text": "the order of those records inside that"
      },
      {
        "start": 352.16,
        "duration": 3.039,
        "text": "partition"
      },
      {
        "start": 353.12,
        "duration": 3.04,
        "text": "name equals mockingjay we scan the"
      },
      {
        "start": 355.199,
        "duration": 3.201,
        "text": "mockingjay"
      },
      {
        "start": 356.16,
        "duration": 3.759,
        "text": "return that record so it's a very"
      },
      {
        "start": 358.4,
        "duration": 3.359,
        "text": "efficient operation"
      },
      {
        "start": 359.919,
        "duration": 4.641,
        "text": "we go from partition where is it in the"
      },
      {
        "start": 361.759,
        "duration": 5.201,
        "text": "cluster to using clustering columns to"
      },
      {
        "start": 364.56,
        "duration": 4.16,
        "text": "where is that data inside of the file"
      },
      {
        "start": 366.96,
        "duration": 2.959,
        "text": "this could be potentially in one ss"
      },
      {
        "start": 368.72,
        "duration": 2.96,
        "text": "table or multiple"
      },
      {
        "start": 369.919,
        "duration": 3.761,
        "text": "but we know that based on the partition"
      },
      {
        "start": 371.68,
        "duration": 3.2,
        "text": "key we have a pretty good idea where it"
      },
      {
        "start": 373.68,
        "duration": 3.04,
        "text": "is in a disk"
      },
      {
        "start": 374.88,
        "duration": 3.68,
        "text": "if you go back and watch the module on"
      },
      {
        "start": 376.72,
        "duration": 2.8,
        "text": "read path you'll see where this is"
      },
      {
        "start": 378.56,
        "duration": 2.88,
        "text": "important"
      },
      {
        "start": 379.52,
        "duration": 3.6,
        "text": "this is how you're controlling how the"
      },
      {
        "start": 381.44,
        "duration": 3.84,
        "text": "read path can be optimized"
      },
      {
        "start": 383.12,
        "duration": 3.68,
        "text": "inside of your data model now in the"
      },
      {
        "start": 385.28,
        "duration": 2.56,
        "text": "case where i want to do something like a"
      },
      {
        "start": 386.8,
        "duration": 3.119,
        "text": "range query"
      },
      {
        "start": 387.84,
        "duration": 4.32,
        "text": "looking at this diagram we now have year"
      },
      {
        "start": 389.919,
        "duration": 4.881,
        "text": "2014 that's our partition"
      },
      {
        "start": 392.16,
        "duration": 4.72,
        "text": "but name is greater than or equal to"
      },
      {
        "start": 394.8,
        "duration": 5.36,
        "text": "that greater than or equal to"
      },
      {
        "start": 396.88,
        "duration": 5.84,
        "text": "since we're using a utf-8 sorting order"
      },
      {
        "start": 400.16,
        "duration": 4.159,
        "text": "is going to be lexically greater than so"
      },
      {
        "start": 402.72,
        "duration": 4.0,
        "text": "interstellar being before"
      },
      {
        "start": 404.319,
        "duration": 3.681,
        "text": "mockingjay means that i will see"
      },
      {
        "start": 406.72,
        "duration": 3.84,
        "text": "interstellar in any"
      },
      {
        "start": 408.0,
        "duration": 4.16,
        "text": "record after the letter i this can be"
      },
      {
        "start": 410.56,
        "duration": 2.88,
        "text": "useful especially in something like a"
      },
      {
        "start": 412.16,
        "duration": 3.12,
        "text": "time series data model"
      },
      {
        "start": 413.44,
        "duration": 4.159,
        "text": "where you want to go to a certain time"
      },
      {
        "start": 415.28,
        "duration": 4.639,
        "text": "and then traverse all the other times"
      },
      {
        "start": 417.599,
        "duration": 4.801,
        "text": "after it"
      },
      {
        "start": 419.919,
        "duration": 4.4,
        "text": "now the order of clustering column"
      },
      {
        "start": 422.4,
        "duration": 4.48,
        "text": "fields that you add to the primary key"
      },
      {
        "start": 424.319,
        "duration": 3.841,
        "text": "if you add more than one the rules are"
      },
      {
        "start": 426.88,
        "duration": 4.08,
        "text": "pretty simple"
      },
      {
        "start": 428.16,
        "duration": 4.72,
        "text": "if you're going to use it in a query you"
      },
      {
        "start": 430.96,
        "duration": 2.56,
        "text": "have to follow the order in the primary"
      },
      {
        "start": 432.88,
        "duration": 2.64,
        "text": "key"
      },
      {
        "start": 433.52,
        "duration": 3.92,
        "text": "so if you add yet another clustering"
      },
      {
        "start": 435.52,
        "duration": 3.6,
        "text": "column say runtime"
      },
      {
        "start": 437.44,
        "duration": 3.36,
        "text": "you'll need to add the name as part of"
      },
      {
        "start": 439.12,
        "duration": 5.04,
        "text": "the where clause first"
      },
      {
        "start": 440.8,
        "duration": 6.64,
        "text": "and then runtime if you query runtime"
      },
      {
        "start": 444.16,
        "duration": 4.479,
        "text": "outside like not include name then it's"
      },
      {
        "start": 447.44,
        "duration": 2.8,
        "text": "not going to work as good"
      },
      {
        "start": 448.639,
        "duration": 3.441,
        "text": "and the reason being is because it"
      },
      {
        "start": 450.24,
        "duration": 3.679,
        "text": "doesn't know the order to search in"
      },
      {
        "start": 452.08,
        "duration": 3.6,
        "text": "the order has to be preserved from how"
      },
      {
        "start": 453.919,
        "duration": 4.321,
        "text": "you wrote it in your primary key"
      },
      {
        "start": 455.68,
        "duration": 3.76,
        "text": "so name was first runtime was second"
      },
      {
        "start": 458.24,
        "duration": 4.0,
        "text": "that's the order that you"
      },
      {
        "start": 459.44,
        "duration": 4.4,
        "text": "have to query it with now ways to get"
      },
      {
        "start": 462.24,
        "duration": 2.959,
        "text": "around that are by using something like"
      },
      {
        "start": 463.84,
        "duration": 3.12,
        "text": "a secondary index"
      },
      {
        "start": 465.199,
        "duration": 3.44,
        "text": "or in the case of data sex enterprise"
      },
      {
        "start": 466.96,
        "duration": 2.88,
        "text": "search but those are more advanced"
      },
      {
        "start": 468.639,
        "duration": 2.96,
        "text": "topics for later"
      },
      {
        "start": 469.84,
        "duration": 3.759,
        "text": "so let's try this let's go do an"
      },
      {
        "start": 471.599,
        "duration": 6.72,
        "text": "exercise on clustering columns"
      },
      {
        "start": 473.599,
        "duration": 6.801,
        "text": "and see how they work in real life"
      },
      {
        "start": 478.319,
        "duration": 2.081,
        "text": "you"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T00:57:10.047998+00:00"
}