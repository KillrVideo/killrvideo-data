{
  "video_id": "SasKofQgWqY",
  "title": "Google Cloud Functions and Astra DB in 5 minutes",
  "description": "Dr. Artem Chetbotko walks you through how to connect Google Cloud Functions written in Java and Python, using Java Driver and Astra DB's Python SDK, to DataStax Astra DB, built on Apache Cassandra\n\nCheck out a similar demo on AWS Lambda Cloud Functions: https://youtu.be/wnW-YzL98ws\n\nCONNECT WITH DATASTAX\nSubscribe: http://www.youtube.com/c/datastaxdevs?sub_confirmation=1 \nTwitter: https://twitter.com/datastaxdevs\nTwitch: https://www.twitch.tv/datastaxdevs\n\nAbout DataStax:\nDataStax is the company behind the massively scalable, highly available, cloud-native NoSQL data platform built on Apache Cassandra™. DataStax gives developers and enterprises the freedom to run data in any cloud, Kubernetes, hybrid or bare metal at global scale with zero downtime and zero lock-in. More than 450 of the world’s leading enterprises including Capital One, Cisco, Comcast, Delta Airlines, Macy’s, McDonald’s, Safeway, Sony, and Walmart use DataStax to build transformational data architectures for real-world outcomes. For more, visit DataStax.com and @DataStax.\n\nAbout DataStax Developer:\nOn the DataStax Developers YouTube channel, you can find tutorials, workshops and much more to help you learn and stay updated with the latest information on Apache Cassandra©.  Visit https://datastax.com/dev for more free learning resources.",
  "published_at": "2022-08-16T21:28:22Z",
  "thumbnail": "https://i.ytimg.com/vi/SasKofQgWqY/hqdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "scalable",
    "demo",
    "workshop",
    "cassandra",
    "tutorial",
    "apache_cassandra",
    "nosql",
    "astra",
    "architecture",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=SasKofQgWqY",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "as long as you have the gcp account you should be able to uh follow the tutorial to create your own functions okay let's have a quick demo i have two functions here deployed on the google cloud platform one uses java driver another one uses python sdk the code should be familiar from the slides these functions are called um every 60 seconds roughly and and there are some metrics that that have been collected over time so we will be able to see them let's take a look at the java driver first so we have four standard metrics number of invocations per second execution time in milliseconds for call memory utilization megabytes per call and active instances so the most interested for us right now would be this execution time you can see let's take p95 this is how it looks like so it mostly it mostly uh doing fast under 10 milliseconds but there are also outliers there are 52 milliseconds there is a 55 and this something happened here i don't know uh 160 milliseconds but we can look at the logs to confirm those numbers uh 8 milliseconds 27 9 9 10 13 and so on so on so most of the time we we are doing pretty good but again as you've seen there may be some fluctuations in terms of source code there is a project object model file xml file here that was generated for me automatically except i added the dependency for the datastax java driver to be able to use it the java code itself should be familiar to you already except the except for the inter import statements here for the cloud functions and and for the for the driver mostly okay and you may have a question where did i get this values for these variables client id client secret and also cloud secure connect bundle so those are specific to each database you have to generate them you have to download the the bundle on on the astra db website astra.datastax.com and after you do that you can make them available to your function beer variables as a runtime environment variables in this case we have client id and and client secret and these are this should be kept confidential and for the bundle you can upload it as a secret in the secret manager and then here we are referencing that secret and mounting it to a volume that is going to be accessible to our function so this is how it works um and another thing i can show you the under testing you can actually execute your function and you get the result and the the logs will be finished and you will see the execution time but we will not wait we will go and check our python sdk function so these are the metrics that we see the the execution time the most interesting for us at this time you can see that there are also some placations but most of them execute under 100 milliseconds most of the calls under 100 milliseconds and definitely under 150 milliseconds uh but you can see the the there are some uh differences let's look at the logs what do we see what exact numbers we see 87 milliseconds 140 9 7 4 100 90 60 8 and so forth the source code should be familiar again there are three different payables that are mentioned here they that are specified here under runtime environment variables this is the id of your database the region is running in and the application target which should be kept secret uh another things under source there is requirements requirements.txt file and here we specify astrapy which is essentially the astra um the python sdk for astra database and this is it for the demo again you can use the link that we showed previously to access a tutorial where you can create your own functions and play play with them thank you very much for your attention",
    "segments": [
      {
        "start": 0.16,
        "duration": 3.759,
        "text": "as long as you have the gcp account you"
      },
      {
        "start": 2.56,
        "duration": 3.52,
        "text": "should be able to"
      },
      {
        "start": 3.919,
        "duration": 5.281,
        "text": "uh follow the tutorial to create your"
      },
      {
        "start": 6.08,
        "duration": 6.4,
        "text": "own functions okay let's have a quick"
      },
      {
        "start": 9.2,
        "duration": 5.84,
        "text": "demo i have two functions here"
      },
      {
        "start": 12.48,
        "duration": 4.879,
        "text": "deployed on the google cloud platform"
      },
      {
        "start": 15.04,
        "duration": 4.319,
        "text": "one uses java driver another one uses"
      },
      {
        "start": 17.359,
        "duration": 3.68,
        "text": "python sdk the code should be familiar"
      },
      {
        "start": 19.359,
        "duration": 4.881,
        "text": "from the slides"
      },
      {
        "start": 21.039,
        "duration": 5.841,
        "text": "these functions are called um"
      },
      {
        "start": 24.24,
        "duration": 4.48,
        "text": "every 60 seconds roughly"
      },
      {
        "start": 26.88,
        "duration": 3.92,
        "text": "and and"
      },
      {
        "start": 28.72,
        "duration": 4.64,
        "text": "there are some metrics that"
      },
      {
        "start": 30.8,
        "duration": 4.24,
        "text": "that have been collected over time so we"
      },
      {
        "start": 33.36,
        "duration": 6.0,
        "text": "will be able to see them let's take a"
      },
      {
        "start": 35.04,
        "duration": 6.8,
        "text": "look at the java driver first"
      },
      {
        "start": 39.36,
        "duration": 5.199,
        "text": "so we have four standard metrics number"
      },
      {
        "start": 41.84,
        "duration": 6.239,
        "text": "of invocations per second"
      },
      {
        "start": 44.559,
        "duration": 5.761,
        "text": "execution time in milliseconds for call"
      },
      {
        "start": 48.079,
        "duration": 3.281,
        "text": "memory utilization megabytes per call"
      },
      {
        "start": 50.32,
        "duration": 3.04,
        "text": "and"
      },
      {
        "start": 51.36,
        "duration": 4.24,
        "text": "active instances"
      },
      {
        "start": 53.36,
        "duration": 5.199,
        "text": "so the most interested for us right now"
      },
      {
        "start": 55.6,
        "duration": 6.56,
        "text": "would be this execution time you can see"
      },
      {
        "start": 58.559,
        "duration": 6.0,
        "text": "let's take p95 this is how it looks like"
      },
      {
        "start": 62.16,
        "duration": 5.6,
        "text": "so it mostly"
      },
      {
        "start": 64.559,
        "duration": 4.961,
        "text": "it mostly uh doing"
      },
      {
        "start": 67.76,
        "duration": 4.56,
        "text": "fast under"
      },
      {
        "start": 69.52,
        "duration": 5.599,
        "text": "10 milliseconds but there are also"
      },
      {
        "start": 72.32,
        "duration": 4.08,
        "text": "outliers there are 52 milliseconds there"
      },
      {
        "start": 75.119,
        "duration": 4.161,
        "text": "is a"
      },
      {
        "start": 76.4,
        "duration": 3.759,
        "text": "55 and this something happened here i"
      },
      {
        "start": 79.28,
        "duration": 4.479,
        "text": "don't know"
      },
      {
        "start": 80.159,
        "duration": 5.6,
        "text": "uh 160 milliseconds but we can look at"
      },
      {
        "start": 83.759,
        "duration": 4.0,
        "text": "the logs to"
      },
      {
        "start": 85.759,
        "duration": 4.72,
        "text": "confirm those numbers"
      },
      {
        "start": 87.759,
        "duration": 5.04,
        "text": "uh 8 milliseconds 27"
      },
      {
        "start": 90.479,
        "duration": 4.801,
        "text": "9 9 10 13"
      },
      {
        "start": 92.799,
        "duration": 6.0,
        "text": "and so on so on so most of the time we"
      },
      {
        "start": 95.28,
        "duration": 4.56,
        "text": "we are doing pretty good but again as"
      },
      {
        "start": 98.799,
        "duration": 3.761,
        "text": "you've seen"
      },
      {
        "start": 99.84,
        "duration": 5.04,
        "text": "there may be some fluctuations"
      },
      {
        "start": 102.56,
        "duration": 5.68,
        "text": "in terms of source code"
      },
      {
        "start": 104.88,
        "duration": 6.0,
        "text": "there is a project object model file xml"
      },
      {
        "start": 108.24,
        "duration": 4.4,
        "text": "file here that was generated for me"
      },
      {
        "start": 110.88,
        "duration": 5.599,
        "text": "automatically except i added the"
      },
      {
        "start": 112.64,
        "duration": 6.32,
        "text": "dependency for the datastax java driver"
      },
      {
        "start": 116.479,
        "duration": 6.64,
        "text": "to be able to use it the java code"
      },
      {
        "start": 118.96,
        "duration": 5.28,
        "text": "itself should be familiar to you already"
      },
      {
        "start": 123.119,
        "duration": 4.401,
        "text": "except the"
      },
      {
        "start": 124.24,
        "duration": 5.84,
        "text": "except for the inter import statements"
      },
      {
        "start": 127.52,
        "duration": 3.28,
        "text": "here for the cloud functions and and for"
      },
      {
        "start": 130.08,
        "duration": 3.36,
        "text": "the"
      },
      {
        "start": 130.8,
        "duration": 5.28,
        "text": "for the driver mostly"
      },
      {
        "start": 133.44,
        "duration": 4.799,
        "text": "okay and"
      },
      {
        "start": 136.08,
        "duration": 3.36,
        "text": "you may have a question where did i get"
      },
      {
        "start": 138.239,
        "duration": 3.681,
        "text": "this"
      },
      {
        "start": 139.44,
        "duration": 5.04,
        "text": "values for these variables client id"
      },
      {
        "start": 141.92,
        "duration": 4.16,
        "text": "client secret and also"
      },
      {
        "start": 144.48,
        "duration": 4.32,
        "text": "cloud secure"
      },
      {
        "start": 146.08,
        "duration": 5.28,
        "text": "connect bundle so those are specific to"
      },
      {
        "start": 148.8,
        "duration": 5.36,
        "text": "each database you have to generate them"
      },
      {
        "start": 151.36,
        "duration": 4.879,
        "text": "you have to download the the bundle on"
      },
      {
        "start": 154.16,
        "duration": 5.079,
        "text": "on the astra db website"
      },
      {
        "start": 156.239,
        "duration": 3.0,
        "text": "astra.datastax.com"
      },
      {
        "start": 159.28,
        "duration": 4.16,
        "text": "and"
      },
      {
        "start": 160.879,
        "duration": 4.881,
        "text": "after you do that you can"
      },
      {
        "start": 163.44,
        "duration": 5.12,
        "text": "make them available to your function"
      },
      {
        "start": 165.76,
        "duration": 4.96,
        "text": "beer variables as a runtime environment"
      },
      {
        "start": 168.56,
        "duration": 4.0,
        "text": "variables in this case we have client id"
      },
      {
        "start": 170.72,
        "duration": 3.92,
        "text": "and and client secret"
      },
      {
        "start": 172.56,
        "duration": 3.92,
        "text": "and these are this should be kept"
      },
      {
        "start": 174.64,
        "duration": 3.2,
        "text": "confidential"
      },
      {
        "start": 176.48,
        "duration": 4.88,
        "text": "and"
      },
      {
        "start": 177.84,
        "duration": 6.08,
        "text": "for the bundle you can upload it as a"
      },
      {
        "start": 181.36,
        "duration": 5.519,
        "text": "secret in the secret manager and then"
      },
      {
        "start": 183.92,
        "duration": 5.679,
        "text": "here we are referencing that secret and"
      },
      {
        "start": 186.879,
        "duration": 5.121,
        "text": "mounting it to a volume that is going to"
      },
      {
        "start": 189.599,
        "duration": 4.321,
        "text": "be accessible to our function so this is"
      },
      {
        "start": 192.0,
        "duration": 3.44,
        "text": "how it works"
      },
      {
        "start": 193.92,
        "duration": 2.399,
        "text": "um"
      },
      {
        "start": 195.44,
        "duration": 3.6,
        "text": "and"
      },
      {
        "start": 196.319,
        "duration": 5.2,
        "text": "another thing i can show you the"
      },
      {
        "start": 199.04,
        "duration": 4.88,
        "text": "under testing you can actually execute"
      },
      {
        "start": 201.519,
        "duration": 4.561,
        "text": "your function and you get the result and"
      },
      {
        "start": 203.92,
        "duration": 3.12,
        "text": "the the logs will be finished and you"
      },
      {
        "start": 206.08,
        "duration": 3.04,
        "text": "will see"
      },
      {
        "start": 207.04,
        "duration": 4.559,
        "text": "the execution time"
      },
      {
        "start": 209.12,
        "duration": 7.44,
        "text": "but we will not wait we will"
      },
      {
        "start": 211.599,
        "duration": 9.2,
        "text": "go and check our python sdk function"
      },
      {
        "start": 216.56,
        "duration": 5.84,
        "text": "so these are the metrics that we see"
      },
      {
        "start": 220.799,
        "duration": 4.241,
        "text": "the"
      },
      {
        "start": 222.4,
        "duration": 5.52,
        "text": "the execution time the most interesting"
      },
      {
        "start": 225.04,
        "duration": 4.96,
        "text": "for us at this time you can see that"
      },
      {
        "start": 227.92,
        "duration": 4.48,
        "text": "there are also some placations but most"
      },
      {
        "start": 230.0,
        "duration": 4.56,
        "text": "of them execute under 100 milliseconds"
      },
      {
        "start": 232.4,
        "duration": 5.68,
        "text": "most of the calls under 100 milliseconds"
      },
      {
        "start": 234.56,
        "duration": 6.399,
        "text": "and definitely under 150 milliseconds"
      },
      {
        "start": 238.08,
        "duration": 5.439,
        "text": "uh but you can see the the"
      },
      {
        "start": 240.959,
        "duration": 4.961,
        "text": "there are some uh differences let's look"
      },
      {
        "start": 243.519,
        "duration": 6.72,
        "text": "at the logs what do we see what exact"
      },
      {
        "start": 245.92,
        "duration": 5.36,
        "text": "numbers we see 87 milliseconds 140 9 7 4"
      },
      {
        "start": 250.239,
        "duration": 2.321,
        "text": "100"
      },
      {
        "start": 251.28,
        "duration": 2.4,
        "text": "90"
      },
      {
        "start": 252.56,
        "duration": 2.08,
        "text": "60"
      },
      {
        "start": 253.68,
        "duration": 2.88,
        "text": "8"
      },
      {
        "start": 254.64,
        "duration": 3.999,
        "text": "and so forth"
      },
      {
        "start": 256.56,
        "duration": 4.16,
        "text": "the source code"
      },
      {
        "start": 258.639,
        "duration": 4.721,
        "text": "should be familiar again"
      },
      {
        "start": 260.72,
        "duration": 5.84,
        "text": "there are three different payables that"
      },
      {
        "start": 263.36,
        "duration": 5.2,
        "text": "are mentioned here they that"
      },
      {
        "start": 266.56,
        "duration": 4.48,
        "text": "are specified here under runtime"
      },
      {
        "start": 268.56,
        "duration": 5.12,
        "text": "environment variables this is the id of"
      },
      {
        "start": 271.04,
        "duration": 5.52,
        "text": "your database the region is running in"
      },
      {
        "start": 273.68,
        "duration": 4.64,
        "text": "and the application target which should"
      },
      {
        "start": 276.56,
        "duration": 4.32,
        "text": "be kept secret"
      },
      {
        "start": 278.32,
        "duration": 5.12,
        "text": "uh another things under source there is"
      },
      {
        "start": 280.88,
        "duration": 5.28,
        "text": "requirements requirements.txt file"
      },
      {
        "start": 283.44,
        "duration": 6.24,
        "text": "and here we specify astrapy which is"
      },
      {
        "start": 286.16,
        "duration": 7.12,
        "text": "essentially the astra um"
      },
      {
        "start": 289.68,
        "duration": 4.72,
        "text": "the python sdk for astra database"
      },
      {
        "start": 293.28,
        "duration": 4.72,
        "text": "and"
      },
      {
        "start": 294.4,
        "duration": 6.0,
        "text": "this is it for the demo again you can"
      },
      {
        "start": 298.0,
        "duration": 3.84,
        "text": "use the link that we showed previously"
      },
      {
        "start": 300.4,
        "duration": 3.44,
        "text": "to access"
      },
      {
        "start": 301.84,
        "duration": 5.12,
        "text": "a tutorial where you can create your own"
      },
      {
        "start": 303.84,
        "duration": 6.56,
        "text": "functions and play play with them thank"
      },
      {
        "start": 306.96,
        "duration": 3.44,
        "text": "you very much for your attention"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-15T18:46:12.484334+00:00"
}