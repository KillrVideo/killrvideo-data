{
  "video_id": "YNxLXeFnaEU",
  "title": "DS210.02 Configuring Clusters | Operations with Apache Cassandra",
  "description": "#DataStaxAcademy #DS210\nDS210.02 CONFIGURING CLUSTERS\nIn this unit, you will learn the basics of cluster configuration, with a focus on the incredibly important YAML file!\n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-11T08:45:32Z",
  "thumbnail": "https://i.ytimg.com/vi/YNxLXeFnaEU/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "cassandra",
    "datastax",
    "tutorial",
    "apache_cassandra"
  ],
  "url": "https://www.youtube.com/watch?v=YNxLXeFnaEU",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] all right let's start with the basics of cluster configuration the yaml file yaml i like that word sounds like a vegetable anyway moving on the cassandra yaml file is the main configuration file for apache cassandra and can be found either in slash etsy dsc cassandra if you used a package installer or wherever you install cassandra so cassandra slash resources cassandra conf for a tarball installation there's a bunch of things you can configure in that file and we'll be going over some of the key configuration options in the next few slides remember though that you'll have to restart the node for any of these changes to take effect okay so there are some settings that everyone changes let's call those quick start settings so these are the minimal settings to get cassandra up and running alrighty what's first well the cluster name if you don't change the cluster name the default name will be test cluster you might want to get more creative than that next your listen address this is the ip address that is used by other nodes in the cluster so that this node can be found moving on to native transport address which is the ip address used by the client to connect the node and or to the cluster finally the seeds address or addresses these are the nodes that are contacted when new nodes are joining the cluster if you have more than one then it's a list and you need double quotes to enclose that list usually all the nodes in the cluster will have the same seed list okay what's next ah yes where do i find these settings well you can either scan the whole file if you've got time to kill or you can use the search feature in whatever text editor you fancy open the file in a text editor search for the cluster name change it and save the file voila you're golden okay one gotcha this is all case sensitive so remember the case you used when you said it yep same thing here you're gonna search for the listen address edit the file to change it from the default of localhost and then save the file done remember either change the address or the interface not both okay this is easy what's next now we're cooking with gas let's search for native transport address change it save it and forget it okay maybe you don't want to forget it anyway all right seat addresses here we might add a small complication your double quotes you guys ready for this you're going to search for dash seeds and then edit this field you're going to have to put your seed addresses in double quotes if you have a list of them separate it by commas the seed addresses are critical because new nodes connecting to the cluster will go to one of these seed nodes to get the lay of the land all right now that the required configuration settings are well you know configured you can move on to some other commonly configured settings i feel like i'm saying configure a lot okay let's start with endpoint snitch all right so let's start with endpoint snitch this is required if you want your cluster to be topology aware next is initial token and num tokens these are going to come into play if you want to use virtual nodes otherwise known as vnodes to evenly distribute data in your cluster the next few settings are for directories where we will store information such as commit logs your actual data hints or key and row cache files and last but not least some other cool things you can set enable or disable in your yaml settings that you should at least know about if you want to enable hinted handoffs you flip the switch here in this top setting it's on by default so maybe not flipping the switch is necessary next on my little list here is max hint window in milliseconds this is how long hints will be stored for a dead node a last poor node i knew him well the default by the way is three hours what's next it's row cache size in megabits this is the maximum size of the row cache in memory it's set to zero by default file cache size in megabits is next this is the maximum memory to use when pooling ss table buffers and finally mem table heap space in megabits and mem table off heap space in megabits which is the total on heap and off-heap allowance for mem tables all right i think that's enough configuration for now let's go see if you've learned anything by jumping onto an exercise",
    "segments": [
      {
        "start": 1.43,
        "duration": 5.33,
        "text": "[Music]"
      },
      {
        "start": 7.12,
        "duration": 2.24,
        "text": "all right"
      },
      {
        "start": 7.839,
        "duration": 4.161,
        "text": "let's start with the basics of cluster"
      },
      {
        "start": 9.36,
        "duration": 5.68,
        "text": "configuration the yaml file"
      },
      {
        "start": 12.0,
        "duration": 4.08,
        "text": "yaml i like that word sounds like a"
      },
      {
        "start": 15.04,
        "duration": 3.92,
        "text": "vegetable"
      },
      {
        "start": 16.08,
        "duration": 4.56,
        "text": "anyway moving on the cassandra yaml file"
      },
      {
        "start": 18.96,
        "duration": 2.88,
        "text": "is the main configuration file for"
      },
      {
        "start": 20.64,
        "duration": 4.24,
        "text": "apache cassandra"
      },
      {
        "start": 21.84,
        "duration": 5.84,
        "text": "and can be found either in slash etsy"
      },
      {
        "start": 24.88,
        "duration": 3.76,
        "text": "dsc cassandra if you used a package"
      },
      {
        "start": 27.68,
        "duration": 2.8,
        "text": "installer"
      },
      {
        "start": 28.64,
        "duration": 4.0,
        "text": "or wherever you install cassandra so"
      },
      {
        "start": 30.48,
        "duration": 4.56,
        "text": "cassandra slash resources"
      },
      {
        "start": 32.64,
        "duration": 3.36,
        "text": "cassandra conf for a tarball"
      },
      {
        "start": 35.04,
        "duration": 2.08,
        "text": "installation"
      },
      {
        "start": 36.0,
        "duration": 2.8,
        "text": "there's a bunch of things you can"
      },
      {
        "start": 37.12,
        "duration": 3.36,
        "text": "configure in that file and we'll be"
      },
      {
        "start": 38.8,
        "duration": 2.16,
        "text": "going over some of the key configuration"
      },
      {
        "start": 40.48,
        "duration": 2.88,
        "text": "options"
      },
      {
        "start": 40.96,
        "duration": 4.32,
        "text": "in the next few slides remember though"
      },
      {
        "start": 43.36,
        "duration": 2.96,
        "text": "that you'll have to restart the node for"
      },
      {
        "start": 45.28,
        "duration": 3.759,
        "text": "any of these changes"
      },
      {
        "start": 46.32,
        "duration": 4.399,
        "text": "to take effect okay so there are some"
      },
      {
        "start": 49.039,
        "duration": 4.401,
        "text": "settings that everyone changes"
      },
      {
        "start": 50.719,
        "duration": 4.48,
        "text": "let's call those quick start settings so"
      },
      {
        "start": 53.44,
        "duration": 3.439,
        "text": "these are the minimal settings to get"
      },
      {
        "start": 55.199,
        "duration": 3.921,
        "text": "cassandra up and running"
      },
      {
        "start": 56.879,
        "duration": 4.0,
        "text": "alrighty what's first well the cluster"
      },
      {
        "start": 59.12,
        "duration": 2.16,
        "text": "name if you don't change the cluster"
      },
      {
        "start": 60.879,
        "duration": 2.48,
        "text": "name"
      },
      {
        "start": 61.28,
        "duration": 3.68,
        "text": "the default name will be test cluster"
      },
      {
        "start": 63.359,
        "duration": 2.481,
        "text": "you might want to get more creative than"
      },
      {
        "start": 64.96,
        "duration": 3.519,
        "text": "that"
      },
      {
        "start": 65.84,
        "duration": 3.92,
        "text": "next your listen address this is the ip"
      },
      {
        "start": 68.479,
        "duration": 3.281,
        "text": "address that is used by"
      },
      {
        "start": 69.76,
        "duration": 3.6,
        "text": "other nodes in the cluster so that this"
      },
      {
        "start": 71.76,
        "duration": 3.84,
        "text": "node can be found"
      },
      {
        "start": 73.36,
        "duration": 4.16,
        "text": "moving on to native transport address"
      },
      {
        "start": 75.6,
        "duration": 3.519,
        "text": "which is the ip address used by the"
      },
      {
        "start": 77.52,
        "duration": 4.56,
        "text": "client to connect the node"
      },
      {
        "start": 79.119,
        "duration": 3.521,
        "text": "and or to the cluster finally the seeds"
      },
      {
        "start": 82.08,
        "duration": 3.12,
        "text": "address"
      },
      {
        "start": 82.64,
        "duration": 3.68,
        "text": "or addresses these are the nodes that"
      },
      {
        "start": 85.2,
        "duration": 3.36,
        "text": "are contacted when"
      },
      {
        "start": 86.32,
        "duration": 3.92,
        "text": "new nodes are joining the cluster if you"
      },
      {
        "start": 88.56,
        "duration": 3.68,
        "text": "have more than one then it's a list and"
      },
      {
        "start": 90.24,
        "duration": 2.879,
        "text": "you need double quotes to enclose that"
      },
      {
        "start": 92.24,
        "duration": 2.64,
        "text": "list"
      },
      {
        "start": 93.119,
        "duration": 4.161,
        "text": "usually all the nodes in the cluster"
      },
      {
        "start": 94.88,
        "duration": 5.36,
        "text": "will have the same seed list"
      },
      {
        "start": 97.28,
        "duration": 4.0,
        "text": "okay what's next ah yes where do i find"
      },
      {
        "start": 100.24,
        "duration": 2.96,
        "text": "these settings"
      },
      {
        "start": 101.28,
        "duration": 3.28,
        "text": "well you can either scan the whole file"
      },
      {
        "start": 103.2,
        "duration": 2.879,
        "text": "if you've got time to kill"
      },
      {
        "start": 104.56,
        "duration": 3.28,
        "text": "or you can use the search feature in"
      },
      {
        "start": 106.079,
        "duration": 3.841,
        "text": "whatever text editor you fancy"
      },
      {
        "start": 107.84,
        "duration": 3.12,
        "text": "open the file in a text editor search"
      },
      {
        "start": 109.92,
        "duration": 3.76,
        "text": "for the cluster name"
      },
      {
        "start": 110.96,
        "duration": 3.439,
        "text": "change it and save the file voila you're"
      },
      {
        "start": 113.68,
        "duration": 2.88,
        "text": "golden"
      },
      {
        "start": 114.399,
        "duration": 4.08,
        "text": "okay one gotcha this is all case"
      },
      {
        "start": 116.56,
        "duration": 3.44,
        "text": "sensitive so remember the case you used"
      },
      {
        "start": 118.479,
        "duration": 3.521,
        "text": "when you said it"
      },
      {
        "start": 120.0,
        "duration": 3.119,
        "text": "yep same thing here you're gonna search"
      },
      {
        "start": 122.0,
        "duration": 2.56,
        "text": "for the listen address"
      },
      {
        "start": 123.119,
        "duration": 3.761,
        "text": "edit the file to change it from the"
      },
      {
        "start": 124.56,
        "duration": 2.96,
        "text": "default of localhost and then save the"
      },
      {
        "start": 126.88,
        "duration": 4.24,
        "text": "file"
      },
      {
        "start": 127.52,
        "duration": 4.88,
        "text": "done remember either change the address"
      },
      {
        "start": 131.12,
        "duration": 5.28,
        "text": "or the interface"
      },
      {
        "start": 132.4,
        "duration": 7.12,
        "text": "not both okay this is easy"
      },
      {
        "start": 136.4,
        "duration": 4.64,
        "text": "what's next now we're cooking with gas"
      },
      {
        "start": 139.52,
        "duration": 4.16,
        "text": "let's search for native transport"
      },
      {
        "start": 141.04,
        "duration": 4.16,
        "text": "address change it save it and forget it"
      },
      {
        "start": 143.68,
        "duration": 3.84,
        "text": "okay maybe you don't want to forget it"
      },
      {
        "start": 145.2,
        "duration": 2.32,
        "text": "anyway"
      },
      {
        "start": 148.72,
        "duration": 3.76,
        "text": "all right seat addresses here we might"
      },
      {
        "start": 151.04,
        "duration": 3.36,
        "text": "add a small complication"
      },
      {
        "start": 152.48,
        "duration": 3.68,
        "text": "your double quotes you guys ready for"
      },
      {
        "start": 154.4,
        "duration": 3.6,
        "text": "this you're going to search for dash"
      },
      {
        "start": 156.16,
        "duration": 2.96,
        "text": "seeds and then edit this field"
      },
      {
        "start": 158.0,
        "duration": 3.2,
        "text": "you're going to have to put your seed"
      },
      {
        "start": 159.12,
        "duration": 2.96,
        "text": "addresses in double quotes if you have a"
      },
      {
        "start": 161.2,
        "duration": 3.84,
        "text": "list of them"
      },
      {
        "start": 162.08,
        "duration": 3.92,
        "text": "separate it by commas the seed addresses"
      },
      {
        "start": 165.04,
        "duration": 2.64,
        "text": "are critical"
      },
      {
        "start": 166.0,
        "duration": 3.12,
        "text": "because new nodes connecting to the"
      },
      {
        "start": 167.68,
        "duration": 1.919,
        "text": "cluster will go to one of these seed"
      },
      {
        "start": 169.12,
        "duration": 3.6,
        "text": "nodes"
      },
      {
        "start": 169.599,
        "duration": 5.121,
        "text": "to get the lay of the land all right now"
      },
      {
        "start": 172.72,
        "duration": 2.4,
        "text": "that the required configuration settings"
      },
      {
        "start": 174.72,
        "duration": 2.72,
        "text": "are"
      },
      {
        "start": 175.12,
        "duration": 3.92,
        "text": "well you know configured you can move on"
      },
      {
        "start": 177.44,
        "duration": 2.32,
        "text": "to some other commonly configured"
      },
      {
        "start": 179.04,
        "duration": 3.04,
        "text": "settings"
      },
      {
        "start": 179.76,
        "duration": 5.52,
        "text": "i feel like i'm saying configure a lot"
      },
      {
        "start": 182.08,
        "duration": 5.04,
        "text": "okay let's start with endpoint snitch"
      },
      {
        "start": 185.28,
        "duration": 3.92,
        "text": "all right so let's start with endpoint"
      },
      {
        "start": 187.12,
        "duration": 4.08,
        "text": "snitch this is required if you want your"
      },
      {
        "start": 189.2,
        "duration": 4.8,
        "text": "cluster to be topology aware"
      },
      {
        "start": 191.2,
        "duration": 4.16,
        "text": "next is initial token and num tokens"
      },
      {
        "start": 194.0,
        "duration": 3.04,
        "text": "these are going to come into play"
      },
      {
        "start": 195.36,
        "duration": 3.36,
        "text": "if you want to use virtual nodes"
      },
      {
        "start": 197.04,
        "duration": 3.6,
        "text": "otherwise known as vnodes"
      },
      {
        "start": 198.72,
        "duration": 3.04,
        "text": "to evenly distribute data in your"
      },
      {
        "start": 200.64,
        "duration": 2.64,
        "text": "cluster"
      },
      {
        "start": 201.76,
        "duration": 3.039,
        "text": "the next few settings are for"
      },
      {
        "start": 203.28,
        "duration": 4.16,
        "text": "directories where we will store"
      },
      {
        "start": 204.799,
        "duration": 3.601,
        "text": "information such as commit logs your"
      },
      {
        "start": 207.44,
        "duration": 4.159,
        "text": "actual data"
      },
      {
        "start": 208.4,
        "duration": 3.6,
        "text": "hints or key and row cache files and"
      },
      {
        "start": 211.599,
        "duration": 2.56,
        "text": "last"
      },
      {
        "start": 212.0,
        "duration": 4.64,
        "text": "but not least some other cool things you"
      },
      {
        "start": 214.159,
        "duration": 4.16,
        "text": "can set enable or disable in your yaml"
      },
      {
        "start": 216.64,
        "duration": 2.72,
        "text": "settings that you should at least know"
      },
      {
        "start": 218.319,
        "duration": 3.2,
        "text": "about"
      },
      {
        "start": 219.36,
        "duration": 4.0,
        "text": "if you want to enable hinted handoffs"
      },
      {
        "start": 221.519,
        "duration": 4.161,
        "text": "you flip the switch here in this top"
      },
      {
        "start": 223.36,
        "duration": 4.48,
        "text": "setting it's on by default so maybe not"
      },
      {
        "start": 225.68,
        "duration": 4.8,
        "text": "flipping the switch is necessary"
      },
      {
        "start": 227.84,
        "duration": 4.319,
        "text": "next on my little list here is max hint"
      },
      {
        "start": 230.48,
        "duration": 3.92,
        "text": "window in milliseconds"
      },
      {
        "start": 232.159,
        "duration": 3.761,
        "text": "this is how long hints will be stored"
      },
      {
        "start": 234.4,
        "duration": 3.759,
        "text": "for a dead node"
      },
      {
        "start": 235.92,
        "duration": 4.48,
        "text": "a last poor node i knew him well the"
      },
      {
        "start": 238.159,
        "duration": 4.241,
        "text": "default by the way is three hours"
      },
      {
        "start": 240.4,
        "duration": 4.399,
        "text": "what's next it's row cache size in"
      },
      {
        "start": 242.4,
        "duration": 4.08,
        "text": "megabits this is the maximum size of the"
      },
      {
        "start": 244.799,
        "duration": 4.241,
        "text": "row cache in memory"
      },
      {
        "start": 246.48,
        "duration": 4.56,
        "text": "it's set to zero by default file cache"
      },
      {
        "start": 249.04,
        "duration": 4.16,
        "text": "size in megabits is next"
      },
      {
        "start": 251.04,
        "duration": 4.399,
        "text": "this is the maximum memory to use when"
      },
      {
        "start": 253.2,
        "duration": 4.24,
        "text": "pooling ss table buffers"
      },
      {
        "start": 255.439,
        "duration": 4.64,
        "text": "and finally mem table heap space in"
      },
      {
        "start": 257.44,
        "duration": 3.28,
        "text": "megabits and mem table off heap space in"
      },
      {
        "start": 260.079,
        "duration": 3.281,
        "text": "megabits"
      },
      {
        "start": 260.72,
        "duration": 4.56,
        "text": "which is the total on heap and off-heap"
      },
      {
        "start": 263.36,
        "duration": 3.279,
        "text": "allowance for mem tables"
      },
      {
        "start": 265.28,
        "duration": 3.28,
        "text": "all right i think that's enough"
      },
      {
        "start": 266.639,
        "duration": 3.601,
        "text": "configuration for now let's go see if"
      },
      {
        "start": 268.56,
        "duration": 7.76,
        "text": "you've learned anything by jumping onto"
      },
      {
        "start": 270.24,
        "duration": 6.08,
        "text": "an exercise"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T01:45:33.975400+00:00"
}