{
  "video_id": "f88c0zpNhis",
  "title": "Adding a new Data Center with HCD and Mission Control | DataStax",
  "description": "In this video, Aaron Ploetz, Developer Relations Engineer from DataStax demonstrates how to add a new data center to an HCD cluster using Mission Control. The video explains how to modify the cluster to configure the new data center, as well as how to enable data replication across both the existing and new data centers. Detailed steps and tips are provided, making the process straightforward for Cassandra or DSE users.\n\nCONNECT WITH DATASTAX\nSubscribe: http://www.youtube.com/c/datastaxdevs?sub_confirmation=1 \nTwitter: https://twitter.com/datastaxdevs\nTwitch: https://www.twitch.tv/datastaxdevs\n\nABOUT DATASTAX\n➡️DataStax is the company that helps Developers and Companies successfully create a bold new world through GenAI. We offer a One-stop Generative AI Stack with everything needed for a faster, easier, path to production for relevant and responsive GenAI apps. \n➡️DataStax delivers a RAG-first developer experience, with first-class integrations into leading AI ecosystem partners, so we work out with developers’ existing stacks of choice. \n➡️With DataStax, anyone can quickly build smart, high-growth AI applications at unlimited scale, on any cloud. Hundreds of the world’s leading enterprises, including Audi, Bud Financial, Capital One, SkyPoint Cloud, and many more rely on DataStax.\n\n✅ Sign up to try DataStax Astra DB https://dtsx.io/3W4My1H",
  "published_at": "2024-08-14T19:24:09Z",
  "thumbnail": "https://i.ytimg.com/vi/f88c0zpNhis/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "demo",
    "datastax",
    "astra",
    "dse",
    "cassandra"
  ],
  "url": "https://www.youtube.com/watch?v=f88c0zpNhis",
  "transcript": {
    "available": true,
    "language": "English",
    "language_code": "en",
    "is_generated": false,
    "text": "I'm Aaron from DataStax, and today I'm going to take you through adding a new data center to your HCD cluster using mission control. All right, let's go. Alright, so to start with, I'm going to sign in to mission control, and I'm going to go to my test for echo cluster. And as you can see, I only have one data center here, and it's named Totem and it has three nodes. So easy, easy. Everything's up and running, so let's go ahead and say modify cluster. All right, so as you can see, this is my HCD 1.0.0 cluster. It's named test for echo. This is the existing data center named Totem. And you can see kind of how everything is specified here. So what I'm going to do is look for this add data center button, and \nI'm going to click that. I'm going to add a new data center name, and I'm just going to name this \nvirtuality just like that. I don't need to do anything else specific here, although typically when you create a new data center in Cassandra or DSE or HCD, it's usually in a different cloud region. I actually have two data planes at my disposal here, just my normal control plane that we've had defined as well as our UI playground data plane. So both of these data planes \nare in Google central. So usually what you would do is you would create a new data plane that's in the actual cloud region that you want to deploy to. So if I wanted to create \nthis new data center inside of Google east one, I would have to go and create a new data plane inside of \nGoogle east one, and then I would be able to create nodes out there. But for now, I'm just going to pick a different data plane context, \neven though I know for sure they're going to the same region. But the example will still \nstand as far as rack name. I will say r30 and I want to go three nodes per rack, just like that. And the rest of this should all be okay. So I will go down here and say modify cluster. All right, so as you can see, I get the message saying cluster modified. The data center of virtuality is up. The three nodes are there, but they're in a state of unknown. If I scroll down a little bit here, you can see that the three new nodes have entries inside of our, inside of our cluster list. So we can basically just wait here now and things should get propagated. All right, our three nodes have been upgraded to a status of starting. So shortly, we ought to see \nthat they have IP addresses, and then they should come up one at a time. All right, node zero is the first one to come up, and it looks like that one \nhas fully joined the cluster. So again, as you can see up here in our virtuality data center, we do have one node that has a status of up, and the other two are still starting. So, hey, we're making progress here. Well, there we go. Node one is up. So that's two out of the three new nodes in the virtuality data center that have come up, and we're just waiting on that last node. Oh, and that's it. Our third new node has come up, and that means that our new data center is fully up and running and looks healthy. We have a total of six nodes in the cluster. All right, now, for those of you who have used Cassandra or DSE for quite a while, know when you add a new data center, the data \ndoesn't automatically replicate itself over, so we need to take care of that. So the main key space that I have on this test for Echo cluster is a \nkey space called ecommerce. So I'll use that key space, then I'll describe that key space. And as you can see, there are a few tables in this key space. But what I'm mostly concerned with is this main keyspace definition here, \nspecifically the one where it mentions the three replicas in the totem data center. So I'm going to copy that line. I'm just going to paste that down here, get back to the beginning, and I'll \nsay alter key space instead. We're going to leave the class of network topology strategy, because of course we need that. We're going to leave the replica designation of three for the totem data center. And now we're also going to add virtuality as a data center, and we also want three replicas inside that key space. Okay, so now I've marked my new data center virtuality for three replicas. So what happens is any new writes that happen into the tables that are in that key space will start putting data into both data centers. Now, the existing data, of course, as you can see from the warning that happens \nbelow here, the existing data is not going to move on its own. So let's take care of that. Next, if I go back into \nmission control here and then back to the repair tab on \nthe test for echo cluster, what I want to do is to run a repair in the ecommerce key space that \nwill ensure that all of the data will be replicated out \ninto my new data center. So let's run a repair. I'm going to pick the ecommerce key space and we are just going to run that now. There is a new entry on my repairs tab indicating that a repair that I just started for the key space of ecommerce is in fact running. And when this completes, my \ndata will have been moved over from my original data center and will now be replicated to both the old \nand the new data centers. For more information, head on out to   datastax.com/products/hyper-converged-database-HCD. Here you can find all you need to know about HCD, including \ndocumentation and downloads. Thank you and have a great day.",
    "segments": [
      {
        "start": 0.32,
        "duration": 2.56,
        "text": "I'm Aaron from DataStax, and today I'm"
      },
      {
        "start": 2.88,
        "duration": 2.68,
        "text": "going to take you through adding a new data"
      },
      {
        "start": 5.56,
        "duration": 4.08,
        "text": "center to your HCD cluster using mission control."
      },
      {
        "start": 9.64,
        "duration": 3.44,
        "text": "All right, let's go."
      },
      {
        "start": 13.08,
        "duration": 2.52,
        "text": "Alright, so to start with, I'm going to"
      },
      {
        "start": 15.6,
        "duration": 9.44,
        "text": "sign in to mission control, and I'm going"
      },
      {
        "start": 25.04,
        "duration": 2.96,
        "text": "to go to my test for echo cluster."
      },
      {
        "start": 28.0,
        "duration": 2.64,
        "text": "And as you can see, I only have one data center"
      },
      {
        "start": 30.64,
        "duration": 3.96,
        "text": "here, and it's named Totem and it has three nodes."
      },
      {
        "start": 34.6,
        "duration": 1.04,
        "text": "So easy, easy."
      },
      {
        "start": 35.64,
        "duration": 3.56,
        "text": "Everything's up and running, so let's"
      },
      {
        "start": 39.2,
        "duration": 8.08,
        "text": "go ahead and say modify cluster."
      },
      {
        "start": 47.28,
        "duration": 3.04,
        "text": "All right, so as you can see, this is"
      },
      {
        "start": 50.32,
        "duration": 3.12,
        "text": "my HCD 1.0.0 cluster."
      },
      {
        "start": 53.44,
        "duration": 2.24,
        "text": "It's named test for echo."
      },
      {
        "start": 55.68,
        "duration": 4.32,
        "text": "This is the existing data center named Totem."
      },
      {
        "start": 60.0,
        "duration": 1.04,
        "text": "And you can see kind of"
      },
      {
        "start": 61.04,
        "duration": 3.64,
        "text": "how everything is specified here."
      },
      {
        "start": 64.68,
        "duration": 2.2,
        "text": "So what I'm going to do is look for this"
      },
      {
        "start": 66.88,
        "duration": 5.04,
        "text": "add data center button, and \nI'm going to click that."
      },
      {
        "start": 71.92,
        "duration": 3.32,
        "text": "I'm going to add a new data center name, and"
      },
      {
        "start": 75.24,
        "duration": 6.36,
        "text": "I'm just going to name this \nvirtuality just like that."
      },
      {
        "start": 82.28,
        "duration": 2.32,
        "text": "I don't need to do anything else specific"
      },
      {
        "start": 84.6,
        "duration": 2.8,
        "text": "here, although typically when you create a new"
      },
      {
        "start": 87.4,
        "duration": 4.04,
        "text": "data center in Cassandra or DSE or HCD,"
      },
      {
        "start": 91.44,
        "duration": 3.96,
        "text": "it's usually in a different cloud region."
      },
      {
        "start": 95.4,
        "duration": 2.48,
        "text": "I actually have two data planes at my disposal"
      },
      {
        "start": 97.88,
        "duration": 2.98,
        "text": "here, just my normal control plane that we've had"
      },
      {
        "start": 100.86,
        "duration": 5.02,
        "text": "defined as well as our UI playground data plane."
      },
      {
        "start": 105.88,
        "duration": 5.0,
        "text": "So both of these data planes \nare in Google central."
      },
      {
        "start": 110.88,
        "duration": 2.08,
        "text": "So usually what you would do is you would"
      },
      {
        "start": 112.96,
        "duration": 6.12,
        "text": "create a new data plane that's in the actual"
      },
      {
        "start": 119.08,
        "duration": 2.6,
        "text": "cloud region that you want to deploy to."
      },
      {
        "start": 121.68,
        "duration": 4.56,
        "text": "So if I wanted to create \nthis new data center inside"
      },
      {
        "start": 126.24,
        "duration": 3.24,
        "text": "of Google east one, I would have to go and create"
      },
      {
        "start": 129.48,
        "duration": 4.92,
        "text": "a new data plane inside of \nGoogle east one, and then"
      },
      {
        "start": 134.4,
        "duration": 2.48,
        "text": "I would be able to create nodes out there."
      },
      {
        "start": 136.88,
        "duration": 2.48,
        "text": "But for now, I'm just going to pick a"
      },
      {
        "start": 139.36,
        "duration": 3.92,
        "text": "different data plane context, \neven though I know for"
      },
      {
        "start": 143.28,
        "duration": 1.52,
        "text": "sure they're going to the same region."
      },
      {
        "start": 144.8,
        "duration": 4.16,
        "text": "But the example will still \nstand as far as rack name."
      },
      {
        "start": 148.96,
        "duration": 4.16,
        "text": "I will say r30 and I want to"
      },
      {
        "start": 153.12,
        "duration": 4.0,
        "text": "go three nodes per rack, just like that."
      },
      {
        "start": 157.12,
        "duration": 5.8,
        "text": "And the rest of this should all be okay."
      },
      {
        "start": 162.92,
        "duration": 6.04,
        "text": "So I will go down here and say modify cluster."
      },
      {
        "start": 168.96,
        "duration": 1.36,
        "text": "All right, so as you can see,"
      },
      {
        "start": 170.32,
        "duration": 2.48,
        "text": "I get the message saying cluster modified."
      },
      {
        "start": 172.8,
        "duration": 3.12,
        "text": "The data center of virtuality is up."
      },
      {
        "start": 175.92,
        "duration": 1.64,
        "text": "The three nodes are there, but"
      },
      {
        "start": 177.56,
        "duration": 2.28,
        "text": "they're in a state of unknown."
      },
      {
        "start": 181.04,
        "duration": 2.08,
        "text": "If I scroll down a little bit here, you"
      },
      {
        "start": 183.12,
        "duration": 4.28,
        "text": "can see that the three new nodes have entries"
      },
      {
        "start": 187.4,
        "duration": 3.56,
        "text": "inside of our, inside of our cluster list."
      },
      {
        "start": 190.96,
        "duration": 2.6,
        "text": "So we can basically just wait here"
      },
      {
        "start": 193.56,
        "duration": 6.88,
        "text": "now and things should get propagated."
      },
      {
        "start": 200.44,
        "duration": 2.64,
        "text": "All right, our three nodes have been"
      },
      {
        "start": 203.08,
        "duration": 3.28,
        "text": "upgraded to a status of starting."
      },
      {
        "start": 206.36,
        "duration": 5.08,
        "text": "So shortly, we ought to see \nthat they have IP addresses,"
      },
      {
        "start": 211.44,
        "duration": 3.88,
        "text": "and then they should come up one at a time."
      },
      {
        "start": 215.32,
        "duration": 4.52,
        "text": "All right, node zero is the first one to come up,"
      },
      {
        "start": 219.84,
        "duration": 4.92,
        "text": "and it looks like that one \nhas fully joined the cluster."
      },
      {
        "start": 224.76,
        "duration": 2.92,
        "text": "So again, as you can see up here in our virtuality"
      },
      {
        "start": 227.68,
        "duration": 5.24,
        "text": "data center, we do have one node that has a status"
      },
      {
        "start": 232.92,
        "duration": 4.04,
        "text": "of up, and the other two are still starting."
      },
      {
        "start": 236.96,
        "duration": 2.76,
        "text": "So, hey, we're making progress here."
      },
      {
        "start": 241.56,
        "duration": 1.0,
        "text": "Well, there we go."
      },
      {
        "start": 242.56,
        "duration": 2.88,
        "text": "Node one is up."
      },
      {
        "start": 245.44,
        "duration": 2.24,
        "text": "So that's two out of the three new nodes"
      },
      {
        "start": 247.68,
        "duration": 2.76,
        "text": "in the virtuality data center that have come up,"
      },
      {
        "start": 250.44,
        "duration": 6.48,
        "text": "and we're just waiting on that last node."
      },
      {
        "start": 256.92,
        "duration": 2.6,
        "text": "Oh, and that's it."
      },
      {
        "start": 259.52,
        "duration": 3.88,
        "text": "Our third new node has come up, and"
      },
      {
        "start": 263.4,
        "duration": 2.0,
        "text": "that means that our new data center is"
      },
      {
        "start": 265.4,
        "duration": 2.8,
        "text": "fully up and running and looks healthy."
      },
      {
        "start": 268.2,
        "duration": 2.08,
        "text": "We have a total of six nodes in the cluster."
      },
      {
        "start": 270.28,
        "duration": 4.4,
        "text": "All right, now, for those of you who have used"
      },
      {
        "start": 274.68,
        "duration": 3.28,
        "text": "Cassandra or DSE for quite a while, know when you"
      },
      {
        "start": 277.96,
        "duration": 4.04,
        "text": "add a new data center, the data \ndoesn't automatically replicate"
      },
      {
        "start": 282.0,
        "duration": 3.28,
        "text": "itself over, so we need to take care of that."
      },
      {
        "start": 285.28,
        "duration": 2.08,
        "text": "So the main key space that I have on this"
      },
      {
        "start": 287.36,
        "duration": 4.96,
        "text": "test for Echo cluster is a \nkey space called ecommerce."
      },
      {
        "start": 292.32,
        "duration": 3.68,
        "text": "So I'll use that key space,"
      },
      {
        "start": 296.0,
        "duration": 3.44,
        "text": "then I'll describe that key space."
      },
      {
        "start": 299.44,
        "duration": 1.4,
        "text": "And as you can see, there are"
      },
      {
        "start": 300.84,
        "duration": 1.84,
        "text": "a few tables in this key space."
      },
      {
        "start": 302.68,
        "duration": 3.28,
        "text": "But what I'm mostly concerned with is this main"
      },
      {
        "start": 305.96,
        "duration": 4.88,
        "text": "keyspace definition here, \nspecifically the one where it mentions"
      },
      {
        "start": 310.84,
        "duration": 3.72,
        "text": "the three replicas in the totem data center."
      },
      {
        "start": 314.56,
        "duration": 4.12,
        "text": "So I'm going to copy that line."
      },
      {
        "start": 318.68,
        "duration": 3.6,
        "text": "I'm just going to paste that down here, get back"
      },
      {
        "start": 322.28,
        "duration": 6.12,
        "text": "to the beginning, and I'll \nsay alter key space instead."
      },
      {
        "start": 328.4,
        "duration": 3.2,
        "text": "We're going to leave the class of network"
      },
      {
        "start": 331.6,
        "duration": 2.72,
        "text": "topology strategy, because of course we need that."
      },
      {
        "start": 334.32,
        "duration": 3.52,
        "text": "We're going to leave the replica designation"
      },
      {
        "start": 337.84,
        "duration": 3.04,
        "text": "of three for the totem data center."
      },
      {
        "start": 340.88,
        "duration": 5.44,
        "text": "And now we're also going to add virtuality"
      },
      {
        "start": 346.32,
        "duration": 4.88,
        "text": "as a data center, and we also want"
      },
      {
        "start": 351.2,
        "duration": 7.72,
        "text": "three replicas inside that key space."
      },
      {
        "start": 358.92,
        "duration": 2.64,
        "text": "Okay, so now I've marked my new"
      },
      {
        "start": 361.56,
        "duration": 4.0,
        "text": "data center virtuality for three replicas."
      },
      {
        "start": 365.56,
        "duration": 2.52,
        "text": "So what happens is any new writes that happen"
      },
      {
        "start": 368.92,
        "duration": 2.16,
        "text": "into the tables that are in that key space"
      },
      {
        "start": 371.08,
        "duration": 4.2,
        "text": "will start putting data into both data centers."
      },
      {
        "start": 375.28,
        "duration": 2.88,
        "text": "Now, the existing data, of course, as you can see"
      },
      {
        "start": 378.16,
        "duration": 3.96,
        "text": "from the warning that happens \nbelow here, the existing data"
      },
      {
        "start": 382.12,
        "duration": 2.2,
        "text": "is not going to move on its own."
      },
      {
        "start": 384.32,
        "duration": 1.32,
        "text": "So let's take care of that."
      },
      {
        "start": 385.64,
        "duration": 7.6,
        "text": "Next, if I go back into \nmission control here and then"
      },
      {
        "start": 393.24,
        "duration": 3.88,
        "text": "back to the repair tab on \nthe test for echo cluster,"
      },
      {
        "start": 397.12,
        "duration": 2.0,
        "text": "what I want to do is to run a repair in"
      },
      {
        "start": 399.12,
        "duration": 4.2,
        "text": "the ecommerce key space that \nwill ensure that all of the"
      },
      {
        "start": 403.32,
        "duration": 4.8,
        "text": "data will be replicated out \ninto my new data center."
      },
      {
        "start": 408.12,
        "duration": 2.28,
        "text": "So let's run a repair."
      },
      {
        "start": 410.4,
        "duration": 5.56,
        "text": "I'm going to pick the ecommerce key space and"
      },
      {
        "start": 415.96,
        "duration": 9.32,
        "text": "we are just going to run that now."
      },
      {
        "start": 425.28,
        "duration": 3.0,
        "text": "There is a new entry on my repairs tab"
      },
      {
        "start": 428.28,
        "duration": 3.16,
        "text": "indicating that a repair that I just started for"
      },
      {
        "start": 431.44,
        "duration": 4.32,
        "text": "the key space of ecommerce is in fact running."
      },
      {
        "start": 435.76,
        "duration": 3.04,
        "text": "And when this completes, my \ndata will have been moved"
      },
      {
        "start": 438.8,
        "duration": 3.16,
        "text": "over from my original data center and will now be"
      },
      {
        "start": 441.96,
        "duration": 4.64,
        "text": "replicated to both the old \nand the new data centers."
      },
      {
        "start": 446.6,
        "duration": 2.2,
        "text": "For more information, head on out"
      },
      {
        "start": 448.8,
        "duration": 0.32,
        "text": "to  "
      },
      {
        "start": 449.12,
        "duration": 3.72,
        "text": "datastax.com/products/hyper-converged-database-HCD."
      },
      {
        "start": 455.68,
        "duration": 1.72,
        "text": "Here you can find all you need to"
      },
      {
        "start": 457.4,
        "duration": 4.4,
        "text": "know about HCD, including \ndocumentation and downloads."
      },
      {
        "start": 461.8,
        "duration": 8.92,
        "text": "Thank you and have a great day."
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-11T21:41:12.681748+00:00"
}