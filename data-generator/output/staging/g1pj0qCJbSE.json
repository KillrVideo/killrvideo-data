{
  "video_id": "g1pj0qCJbSE",
  "title": "DS210.05 Linux top command | Operations with Apache Cassandra",
  "description": "#DataStaxAcademy #DS210\nDS210.05 LINUX top COMMAND\nIn this unit, you will learn about the Linux top command. The Linux top command ships with every Linux distribution, and can be used to get some good diagnostics on system information.\n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-11T11:06:06Z",
  "thumbnail": "https://i.ytimg.com/vi/g1pj0qCJbSE/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "cassandra",
    "datastax",
    "tutorial",
    "apache_cassandra"
  ],
  "url": "https://www.youtube.com/watch?v=g1pj0qCJbSE",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] hi i'm patrick mcfadden let's talk about the linux top command so the linux top command is one of those things that ships with every linux distribution can be used anytime you need it to do some really good diagnostics on just system information so top has been built in to give you those insights into things that you probably don't really find very easily such as cpu disk memory really important things and it does give you some insight in how much cassandra is using or any of the dse product parts especially whenever it's a running process so one of the things that is really important with top is it gives you that full picture of utilization and let's face it if you're running a cassandra node you pretty much want to see cassandra eating all of it you don't want to see anything else taking any of the other time so this is a good place to start so let's look at how the command works so this is the output of when you type the word top in a linux command line what you can see here is just a lot of information dumped into one place and we'll walk through this but it's broken into really two sections you have the summary at the top which gives you an overall picture the the 50 000 foot view or the total system view of what's happening on a running node and then below that it gets down to the per process information so what's happening per running process in userland in systemland on the linux node the first line in that top section is really about how the system is running and how long it's been running so the current time so you know what the system time is and then how long the system has been running how many users are logged in and usually that's just gonna be one because this isn't a multi-user system at this point it should just be you the administrator looking at the running node and then the mystical load average if you want to learn more about load average this is not the right place but essentially this is a figure that shows how much of a load is put on the system based on all the other statistics generally speaking you want to have a load average that's equal to the number of cpus or less and in this case we have three different numbers where we have the one minute five minute and 15 minute mark of how much load average is on there what we're looking for is a really high load average if it's much higher than what you expected you'll see it come through and not the one minute five minute 15. it'll be across the board if it's a spike you'll see it really quickly in the one minute and not so much in the 15 or five so the next line is process information what you're seeing is how many total are invoked and then because we're talking about unix or linux system processes there's a concept of whether or not it's running or not in this case we have two processes running and 75 are sleeping that's kind of normal in a large scale system a lot of background processes are going to be running periodically so you'll see them go from sleeping to running if you have invoked a stop on a process you'll see it stopped here generally speaking you should see that at zero and then let's face it do you really want zombies no so let's keep that number at zero as well zombie process of course is something that had forked away from another process and is now abandoned and having zombie processes in your system isn't detrimental but it isn't a good thing either the next line is all about cpu information and really critical when you're diagnosing problems with a cassandra node so the first part is a user space and user space is what a user invokes so if you log into a system and you start a program that's considered user space it can also be background that started say in a startup you have something that's invoked when you start the node such as you're running cassandra datastax enterprise that would be in user land system space are those running processes in the background such as cron or something like that and those are generally pretty low but they can be a lot higher if there's something in the system that's running a little hot maybe your disc is running too hot and then the ni is for nice that's nice processes but these are low priority and in running in linux processes you can actually assign the priority if something is in a low priority it will not run unless there's plenty of free space in the user and system and this is how we generally run things that aren't a high priority like for instance a background process that cleans your disk not really high priority we'll let it run when it can and then this is the percentage of idle basically this is how much the cpu is just sitting around waiting to do something now this is a really important number for another reason that you would think cpu weight is an interesting number and it's not just because you're talking about cpu it's an interesting thing whenever you're diagnosing a problem in a node cpu weight is about how much it's waiting to run a process based on something else typically this is it's waiting for something like a disk and that's a huge problem when you're talking about a database so if the process is anxious to put something on disk and the disk is like hold up can't do that just yet well that's where you're going to start seeing in the cpu weight because the cpu has a process that needs to do something and it's being told no and that number should be zero if it's not zero it's time to figure out why hardware interrupt and software interrupt are more or less just sub numbers behind that weight they give you some idea of what's going on like are we waiting for hardware or waiting for software these are diagnosing numbers as well and finally steel percentage which is a funny number to see that is also something that you should be watching and that has a lot to do with virtual systems if it is not able to get cpu time based on another virtual system stealing away some of the cpu you're going to start seeing it here and if you're in a virtual system this is one you want to watch pretty heavily the next line has all the memory information so the first is just a total memory how much memory do i have physically in the system so in this case i'm getting a really large number great but if i look at the total amount of used i'm going to use that as a subtraction and then that's where you get freed so you have to total versus use versus free the buffer count is how much of the memory is being allocated to essentially caching the file system now that's really crucial with the cassandra system because we do a lot of reads a and the ss tables are immutable so they can be cached really easily so we see that number going up quite a bit the last section is about swap now if you look at these numbers this is how much total swap is allocated now in this case there's zero none and that's okay we generally recommend no swap swap is that area on disk that we can page out physical memory so if you're starting to run out of total physical memory and you need a little more instead of just crashing your system it will page out least used pages into the disk now that is not a good idea the speed compared from a disk to physical memory is an order of magnitude but it is meant as a safety valve in some cases it's not a bad thing because you have things that i'm rarely used like in user land but for a running server system having swap can be pretty detrimental especially if you start bleeding over and using a lot more disk when your cassandra nodes needs to use a lot of disk so you get these things working against each other you're in trouble so these numbers give you an indication of what's happening now we've allocated zero we have no used and no free awesome but we also have our buffer cache like how much system space is being used for caching the file data that's an important number to know as well the next section the larger section is about the individual processes themselves and this is where you get into diagnosis about specific running processes the first column is a process id the pid and that is assigned to a running process when it starts this is assigned by the running linux kernel and this is nothing that users can do but it gives you an idea of exactly the process running in the kernel space so in the top one for instance 7719 that's the number that was assigned for this particular process and it gives you an idea who the process user was in this case root for everything because it started right up but if there is a separate user for instance if you see some background process running from userland you know that someone is running a process and who's doing it then we have the priority now the priority is coupled with this other version which is nice so if you have priority and nice working together this is where assist admins can play around with the running processes and get some better tuning most systems just start at full tilt they run at the highest level and there's no nice to them this is not generally something that gets messed with unless you're running a multi-user system how much virtual memory is used how much physical memory is used and how much shared memory is used again is a composite of all process memory run by that process so it gives you an idea where the memory is being allocated now in this case with a lot of virtual memory space this is not the same as swap but it gives you some idea of where that memory actually resides so if it's being swapped out because it has been not least used that's a good thing if it is being paged out because it's least used now you know and then the state of the process again with the unix process going all the way back to the beginning of unix you have these three states sleeping running zombies zombies are bad let's just avoid those remember how to get rid of zombies fire but then sleeping and running those are going to toggle back and forth if you have a hot process it's probably going to be running quite a bit if you have something that runs periodically like in this case collect d for instance it'll wake up do some things go back to sleep and it's kind of like that process that always runs continuously in the background it's not going to be running technically all the time it's going to be waking up doing some things going back then we talk about cpu percentage and this is where we start seeing some very interesting things the next two numbers are the things you want to dial in on for instance if you have a running process and it's running at 100 of the cpu that's good to know because you want to see that that process is eating every bit of that node same with memory if you have something that's taking 100 or more and it can with swap you want to know that and these are important things to see whenever you're trying to diagnose a running system now let's say that it was collect d that was running 100 of the memory or 100 of the cpu collect d is a background process if it's eating up all the cpu i kind of want to know that and you can see that here then when we get to the timing this is how much time it's been in a running state so this gives you an idea how much system time it's actually taken so for instance if you have something running at 100 and it's eaten up all the system time since it's been invoked that's a problem and then at the end we have the command name itself so this is what somebody typed or was in a script this is the actual running program that was started now you can dig further into these processes with other commands but this gives you an idea of exactly what program is running in that process so we have collect e and java for instance of course that's what we want to run java is usually preceded in front of cassandra or datastax enterprise because it is a java process so that's how you'll see it whenever it's presented here hopefully this gives you a really good idea of how top works and a good overview of course the linux man page is going to give you a ton more detail but this is a good start",
    "segments": [
      {
        "start": 1.43,
        "duration": 5.33,
        "text": "[Music]"
      },
      {
        "start": 7.279,
        "duration": 2.561,
        "text": "hi"
      },
      {
        "start": 7.6,
        "duration": 4.4,
        "text": "i'm patrick mcfadden let's talk about"
      },
      {
        "start": 9.84,
        "duration": 4.16,
        "text": "the linux top command"
      },
      {
        "start": 12.0,
        "duration": 3.519,
        "text": "so the linux top command is one of those"
      },
      {
        "start": 14.0,
        "duration": 2.8,
        "text": "things that ships with every linux"
      },
      {
        "start": 15.519,
        "duration": 3.52,
        "text": "distribution"
      },
      {
        "start": 16.8,
        "duration": 4.16,
        "text": "can be used anytime you need it to do"
      },
      {
        "start": 19.039,
        "duration": 3.441,
        "text": "some really good diagnostics on just"
      },
      {
        "start": 20.96,
        "duration": 4.079,
        "text": "system information"
      },
      {
        "start": 22.48,
        "duration": 4.24,
        "text": "so top has been built in to give you"
      },
      {
        "start": 25.039,
        "duration": 3.361,
        "text": "those insights into things that you"
      },
      {
        "start": 26.72,
        "duration": 2.399,
        "text": "probably don't really find very easily"
      },
      {
        "start": 28.4,
        "duration": 4.319,
        "text": "such as"
      },
      {
        "start": 29.119,
        "duration": 5.841,
        "text": "cpu disk memory really important things"
      },
      {
        "start": 32.719,
        "duration": 3.761,
        "text": "and it does give you some insight in how"
      },
      {
        "start": 34.96,
        "duration": 4.0,
        "text": "much cassandra is using"
      },
      {
        "start": 36.48,
        "duration": 4.239,
        "text": "or any of the dse product parts"
      },
      {
        "start": 38.96,
        "duration": 3.2,
        "text": "especially whenever it's a running"
      },
      {
        "start": 40.719,
        "duration": 2.721,
        "text": "process"
      },
      {
        "start": 42.16,
        "duration": 2.96,
        "text": "so one of the things that is really"
      },
      {
        "start": 43.44,
        "duration": 4.08,
        "text": "important with top is it gives you that"
      },
      {
        "start": 45.12,
        "duration": 4.72,
        "text": "full picture of utilization"
      },
      {
        "start": 47.52,
        "duration": 3.199,
        "text": "and let's face it if you're running a"
      },
      {
        "start": 49.84,
        "duration": 2.64,
        "text": "cassandra node"
      },
      {
        "start": 50.719,
        "duration": 3.441,
        "text": "you pretty much want to see cassandra"
      },
      {
        "start": 52.48,
        "duration": 3.2,
        "text": "eating all of it you don't want to see"
      },
      {
        "start": 54.16,
        "duration": 3.6,
        "text": "anything else taking"
      },
      {
        "start": 55.68,
        "duration": 3.519,
        "text": "any of the other time so this is a good"
      },
      {
        "start": 57.76,
        "duration": 4.639,
        "text": "place to start"
      },
      {
        "start": 59.199,
        "duration": 5.121,
        "text": "so let's look at how the command works"
      },
      {
        "start": 62.399,
        "duration": 3.12,
        "text": "so this is the output of when you type"
      },
      {
        "start": 64.32,
        "duration": 3.119,
        "text": "the word top"
      },
      {
        "start": 65.519,
        "duration": 3.761,
        "text": "in a linux command line what you can see"
      },
      {
        "start": 67.439,
        "duration": 3.841,
        "text": "here is just a lot of information"
      },
      {
        "start": 69.28,
        "duration": 4.08,
        "text": "dumped into one place and we'll walk"
      },
      {
        "start": 71.28,
        "duration": 3.76,
        "text": "through this but it's broken into really"
      },
      {
        "start": 73.36,
        "duration": 2.24,
        "text": "two sections you have the summary at the"
      },
      {
        "start": 75.04,
        "duration": 2.56,
        "text": "top"
      },
      {
        "start": 75.6,
        "duration": 3.76,
        "text": "which gives you an overall picture the"
      },
      {
        "start": 77.6,
        "duration": 3.28,
        "text": "the 50 000 foot view or"
      },
      {
        "start": 79.36,
        "duration": 3.28,
        "text": "the total system view of what's"
      },
      {
        "start": 80.88,
        "duration": 4.32,
        "text": "happening on a running node"
      },
      {
        "start": 82.64,
        "duration": 3.6,
        "text": "and then below that it gets down to the"
      },
      {
        "start": 85.2,
        "duration": 3.12,
        "text": "per process"
      },
      {
        "start": 86.24,
        "duration": 3.12,
        "text": "information so what's happening per"
      },
      {
        "start": 88.32,
        "duration": 4.08,
        "text": "running process"
      },
      {
        "start": 89.36,
        "duration": 4.719,
        "text": "in userland in systemland on the linux"
      },
      {
        "start": 92.4,
        "duration": 4.24,
        "text": "node"
      },
      {
        "start": 94.079,
        "duration": 3.36,
        "text": "the first line in that top section is"
      },
      {
        "start": 96.64,
        "duration": 2.479,
        "text": "really about"
      },
      {
        "start": 97.439,
        "duration": 3.521,
        "text": "how the system is running and how long"
      },
      {
        "start": 99.119,
        "duration": 2.481,
        "text": "it's been running so the current time so"
      },
      {
        "start": 100.96,
        "duration": 3.439,
        "text": "you know"
      },
      {
        "start": 101.6,
        "duration": 4.479,
        "text": "what the system time is and then how"
      },
      {
        "start": 104.399,
        "duration": 3.921,
        "text": "long the system has been running"
      },
      {
        "start": 106.079,
        "duration": 3.68,
        "text": "how many users are logged in and usually"
      },
      {
        "start": 108.32,
        "duration": 3.439,
        "text": "that's just gonna be one"
      },
      {
        "start": 109.759,
        "duration": 4.0,
        "text": "because this isn't a multi-user system"
      },
      {
        "start": 111.759,
        "duration": 4.161,
        "text": "at this point it should just be you"
      },
      {
        "start": 113.759,
        "duration": 3.281,
        "text": "the administrator looking at the running"
      },
      {
        "start": 115.92,
        "duration": 4.239,
        "text": "node"
      },
      {
        "start": 117.04,
        "duration": 4.399,
        "text": "and then the mystical load average if"
      },
      {
        "start": 120.159,
        "duration": 3.041,
        "text": "you want to learn more about load"
      },
      {
        "start": 121.439,
        "duration": 4.561,
        "text": "average this is not the right place"
      },
      {
        "start": 123.2,
        "duration": 3.36,
        "text": "but essentially this is a figure that"
      },
      {
        "start": 126.0,
        "duration": 2.56,
        "text": "shows"
      },
      {
        "start": 126.56,
        "duration": 4.24,
        "text": "how much of a load is put on the system"
      },
      {
        "start": 128.56,
        "duration": 4.48,
        "text": "based on all the other statistics"
      },
      {
        "start": 130.8,
        "duration": 3.92,
        "text": "generally speaking you want to have a"
      },
      {
        "start": 133.04,
        "duration": 3.44,
        "text": "load average that's equal to the number"
      },
      {
        "start": 134.72,
        "duration": 4.08,
        "text": "of cpus or less"
      },
      {
        "start": 136.48,
        "duration": 4.08,
        "text": "and in this case we have three different"
      },
      {
        "start": 138.8,
        "duration": 3.92,
        "text": "numbers where we have the one minute"
      },
      {
        "start": 140.56,
        "duration": 3.84,
        "text": "five minute and 15 minute mark of how"
      },
      {
        "start": 142.72,
        "duration": 3.36,
        "text": "much load average is on there"
      },
      {
        "start": 144.4,
        "duration": 3.839,
        "text": "what we're looking for is a really high"
      },
      {
        "start": 146.08,
        "duration": 3.36,
        "text": "load average if it's much higher than"
      },
      {
        "start": 148.239,
        "duration": 2.801,
        "text": "what you expected"
      },
      {
        "start": 149.44,
        "duration": 3.12,
        "text": "you'll see it come through and not the"
      },
      {
        "start": 151.04,
        "duration": 2.559,
        "text": "one minute five minute 15. it'll be"
      },
      {
        "start": 152.56,
        "duration": 3.039,
        "text": "across the board"
      },
      {
        "start": 153.599,
        "duration": 3.28,
        "text": "if it's a spike you'll see it really"
      },
      {
        "start": 155.599,
        "duration": 2.801,
        "text": "quickly in the one minute and not so"
      },
      {
        "start": 156.879,
        "duration": 4.08,
        "text": "much in the 15 or five"
      },
      {
        "start": 158.4,
        "duration": 3.6,
        "text": "so the next line is process information"
      },
      {
        "start": 160.959,
        "duration": 3.841,
        "text": "what you're seeing is"
      },
      {
        "start": 162.0,
        "duration": 4.319,
        "text": "how many total are invoked and then"
      },
      {
        "start": 164.8,
        "duration": 3.84,
        "text": "because we're talking about"
      },
      {
        "start": 166.319,
        "duration": 3.28,
        "text": "unix or linux system processes there's a"
      },
      {
        "start": 168.64,
        "duration": 2.72,
        "text": "concept of"
      },
      {
        "start": 169.599,
        "duration": 4.0,
        "text": "whether or not it's running or not in"
      },
      {
        "start": 171.36,
        "duration": 4.64,
        "text": "this case we have two processes running"
      },
      {
        "start": 173.599,
        "duration": 4.481,
        "text": "and 75 are sleeping that's kind of"
      },
      {
        "start": 176.0,
        "duration": 3.84,
        "text": "normal in a large scale system"
      },
      {
        "start": 178.08,
        "duration": 3.28,
        "text": "a lot of background processes are going"
      },
      {
        "start": 179.84,
        "duration": 3.119,
        "text": "to be running periodically"
      },
      {
        "start": 181.36,
        "duration": 4.959,
        "text": "so you'll see them go from sleeping to"
      },
      {
        "start": 182.959,
        "duration": 5.601,
        "text": "running if you have invoked a stop"
      },
      {
        "start": 186.319,
        "duration": 3.761,
        "text": "on a process you'll see it stopped here"
      },
      {
        "start": 188.56,
        "duration": 2.64,
        "text": "generally speaking you should see that"
      },
      {
        "start": 190.08,
        "duration": 2.879,
        "text": "at zero"
      },
      {
        "start": 191.2,
        "duration": 3.28,
        "text": "and then let's face it do you really"
      },
      {
        "start": 192.959,
        "duration": 3.041,
        "text": "want zombies no"
      },
      {
        "start": 194.48,
        "duration": 3.759,
        "text": "so let's keep that number at zero as"
      },
      {
        "start": 196.0,
        "duration": 3.44,
        "text": "well zombie process of course is"
      },
      {
        "start": 198.239,
        "duration": 2.401,
        "text": "something that had forked away from"
      },
      {
        "start": 199.44,
        "duration": 3.6,
        "text": "another process"
      },
      {
        "start": 200.64,
        "duration": 3.76,
        "text": "and is now abandoned and having zombie"
      },
      {
        "start": 203.04,
        "duration": 2.4,
        "text": "processes in your system isn't"
      },
      {
        "start": 204.4,
        "duration": 2.88,
        "text": "detrimental"
      },
      {
        "start": 205.44,
        "duration": 3.28,
        "text": "but it isn't a good thing either the"
      },
      {
        "start": 207.28,
        "duration": 3.92,
        "text": "next line is all about"
      },
      {
        "start": 208.72,
        "duration": 4.0,
        "text": "cpu information and really critical when"
      },
      {
        "start": 211.2,
        "duration": 3.679,
        "text": "you're diagnosing problems"
      },
      {
        "start": 212.72,
        "duration": 4.32,
        "text": "with a cassandra node so the first part"
      },
      {
        "start": 214.879,
        "duration": 4.801,
        "text": "is a user space and user space is"
      },
      {
        "start": 217.04,
        "duration": 3.44,
        "text": "what a user invokes so if you log into a"
      },
      {
        "start": 219.68,
        "duration": 2.16,
        "text": "system"
      },
      {
        "start": 220.48,
        "duration": 3.44,
        "text": "and you start a program that's"
      },
      {
        "start": 221.84,
        "duration": 4.08,
        "text": "considered user space it can also be"
      },
      {
        "start": 223.92,
        "duration": 3.44,
        "text": "background that started say in a startup"
      },
      {
        "start": 225.92,
        "duration": 2.48,
        "text": "you have something that's invoked when"
      },
      {
        "start": 227.36,
        "duration": 2.72,
        "text": "you start the node"
      },
      {
        "start": 228.4,
        "duration": 3.28,
        "text": "such as you're running cassandra"
      },
      {
        "start": 230.08,
        "duration": 3.92,
        "text": "datastax enterprise"
      },
      {
        "start": 231.68,
        "duration": 3.839,
        "text": "that would be in user land system space"
      },
      {
        "start": 234.0,
        "duration": 2.48,
        "text": "are those running processes in the"
      },
      {
        "start": 235.519,
        "duration": 4.0,
        "text": "background"
      },
      {
        "start": 236.48,
        "duration": 5.839,
        "text": "such as cron or something like that and"
      },
      {
        "start": 239.519,
        "duration": 4.241,
        "text": "those are generally pretty low but they"
      },
      {
        "start": 242.319,
        "duration": 2.801,
        "text": "can be a lot higher if there's something"
      },
      {
        "start": 243.76,
        "duration": 3.039,
        "text": "in the system that's running"
      },
      {
        "start": 245.12,
        "duration": 3.36,
        "text": "a little hot maybe your disc is running"
      },
      {
        "start": 246.799,
        "duration": 4.881,
        "text": "too hot and then"
      },
      {
        "start": 248.48,
        "duration": 5.2,
        "text": "the ni is for nice that's nice processes"
      },
      {
        "start": 251.68,
        "duration": 3.759,
        "text": "but these are low priority and in"
      },
      {
        "start": 253.68,
        "duration": 4.079,
        "text": "running in linux processes"
      },
      {
        "start": 255.439,
        "duration": 4.241,
        "text": "you can actually assign the priority if"
      },
      {
        "start": 257.759,
        "duration": 4.16,
        "text": "something is in a low priority"
      },
      {
        "start": 259.68,
        "duration": 4.16,
        "text": "it will not run unless there's plenty of"
      },
      {
        "start": 261.919,
        "duration": 4.0,
        "text": "free space in the user and system"
      },
      {
        "start": 263.84,
        "duration": 3.76,
        "text": "and this is how we generally run things"
      },
      {
        "start": 265.919,
        "duration": 3.681,
        "text": "that aren't a high priority like"
      },
      {
        "start": 267.6,
        "duration": 3.28,
        "text": "for instance a background process that"
      },
      {
        "start": 269.6,
        "duration": 2.8,
        "text": "cleans your disk"
      },
      {
        "start": 270.88,
        "duration": 3.2,
        "text": "not really high priority we'll let it"
      },
      {
        "start": 272.4,
        "duration": 2.64,
        "text": "run when it can and then this is the"
      },
      {
        "start": 274.08,
        "duration": 3.119,
        "text": "percentage of"
      },
      {
        "start": 275.04,
        "duration": 3.439,
        "text": "idle basically this is how much the cpu"
      },
      {
        "start": 277.199,
        "duration": 1.761,
        "text": "is just sitting around waiting to do"
      },
      {
        "start": 278.479,
        "duration": 1.921,
        "text": "something"
      },
      {
        "start": 278.96,
        "duration": 3.519,
        "text": "now this is a really important number"
      },
      {
        "start": 280.4,
        "duration": 5.12,
        "text": "for another reason that you would think"
      },
      {
        "start": 282.479,
        "duration": 4.401,
        "text": "cpu weight is an interesting number and"
      },
      {
        "start": 285.52,
        "duration": 3.6,
        "text": "it's not just because you're talking"
      },
      {
        "start": 286.88,
        "duration": 4.0,
        "text": "about cpu it's an interesting thing"
      },
      {
        "start": 289.12,
        "duration": 2.56,
        "text": "whenever you're diagnosing a problem in"
      },
      {
        "start": 290.88,
        "duration": 2.879,
        "text": "a node"
      },
      {
        "start": 291.68,
        "duration": 3.519,
        "text": "cpu weight is about how much it's"
      },
      {
        "start": 293.759,
        "duration": 4.561,
        "text": "waiting to run a process"
      },
      {
        "start": 295.199,
        "duration": 4.801,
        "text": "based on something else typically this"
      },
      {
        "start": 298.32,
        "duration": 2.319,
        "text": "is it's waiting for something like a"
      },
      {
        "start": 300.0,
        "duration": 2.479,
        "text": "disk"
      },
      {
        "start": 300.639,
        "duration": 3.361,
        "text": "and that's a huge problem when you're"
      },
      {
        "start": 302.479,
        "duration": 3.521,
        "text": "talking about a database"
      },
      {
        "start": 304.0,
        "duration": 3.199,
        "text": "so if the process is anxious to put"
      },
      {
        "start": 306.0,
        "duration": 3.36,
        "text": "something on disk"
      },
      {
        "start": 307.199,
        "duration": 3.28,
        "text": "and the disk is like hold up can't do"
      },
      {
        "start": 309.36,
        "duration": 2.16,
        "text": "that just yet"
      },
      {
        "start": 310.479,
        "duration": 2.961,
        "text": "well that's where you're going to start"
      },
      {
        "start": 311.52,
        "duration": 3.6,
        "text": "seeing in the cpu weight because the cpu"
      },
      {
        "start": 313.44,
        "duration": 2.88,
        "text": "has a process that needs to do something"
      },
      {
        "start": 315.12,
        "duration": 4.32,
        "text": "and it's being told"
      },
      {
        "start": 316.32,
        "duration": 5.36,
        "text": "no and that number should be zero"
      },
      {
        "start": 319.44,
        "duration": 4.16,
        "text": "if it's not zero it's time to figure out"
      },
      {
        "start": 321.68,
        "duration": 3.84,
        "text": "why hardware interrupt"
      },
      {
        "start": 323.6,
        "duration": 4.159,
        "text": "and software interrupt are more or less"
      },
      {
        "start": 325.52,
        "duration": 4.32,
        "text": "just sub numbers behind that weight"
      },
      {
        "start": 327.759,
        "duration": 3.841,
        "text": "they give you some idea of what's going"
      },
      {
        "start": 329.84,
        "duration": 3.12,
        "text": "on like are we waiting for hardware or"
      },
      {
        "start": 331.6,
        "duration": 4.159,
        "text": "waiting for software"
      },
      {
        "start": 332.96,
        "duration": 4.48,
        "text": "these are diagnosing numbers as well and"
      },
      {
        "start": 335.759,
        "duration": 3.201,
        "text": "finally steel percentage which is a"
      },
      {
        "start": 337.44,
        "duration": 3.599,
        "text": "funny number to see"
      },
      {
        "start": 338.96,
        "duration": 3.84,
        "text": "that is also something that you should"
      },
      {
        "start": 341.039,
        "duration": 2.081,
        "text": "be watching and that has a lot to do"
      },
      {
        "start": 342.8,
        "duration": 3.52,
        "text": "with"
      },
      {
        "start": 343.12,
        "duration": 4.56,
        "text": "virtual systems if it is not able to get"
      },
      {
        "start": 346.32,
        "duration": 3.36,
        "text": "cpu time based on"
      },
      {
        "start": 347.68,
        "duration": 3.28,
        "text": "another virtual system stealing away"
      },
      {
        "start": 349.68,
        "duration": 3.519,
        "text": "some of the cpu"
      },
      {
        "start": 350.96,
        "duration": 3.76,
        "text": "you're going to start seeing it here and"
      },
      {
        "start": 353.199,
        "duration": 2.641,
        "text": "if you're in a virtual system"
      },
      {
        "start": 354.72,
        "duration": 3.599,
        "text": "this is one you want to watch pretty"
      },
      {
        "start": 355.84,
        "duration": 5.04,
        "text": "heavily the next line has"
      },
      {
        "start": 358.319,
        "duration": 3.761,
        "text": "all the memory information so the first"
      },
      {
        "start": 360.88,
        "duration": 3.439,
        "text": "is just a total memory"
      },
      {
        "start": 362.08,
        "duration": 3.04,
        "text": "how much memory do i have physically in"
      },
      {
        "start": 364.319,
        "duration": 3.361,
        "text": "the system"
      },
      {
        "start": 365.12,
        "duration": 4.079,
        "text": "so in this case i'm getting a really"
      },
      {
        "start": 367.68,
        "duration": 3.2,
        "text": "large number great"
      },
      {
        "start": 369.199,
        "duration": 3.681,
        "text": "but if i look at the total amount of"
      },
      {
        "start": 370.88,
        "duration": 4.319,
        "text": "used i'm going to use that"
      },
      {
        "start": 372.88,
        "duration": 3.28,
        "text": "as a subtraction and then that's where"
      },
      {
        "start": 375.199,
        "duration": 3.601,
        "text": "you get freed"
      },
      {
        "start": 376.16,
        "duration": 3.12,
        "text": "so you have to total versus use versus"
      },
      {
        "start": 378.8,
        "duration": 2.56,
        "text": "free"
      },
      {
        "start": 379.28,
        "duration": 3.68,
        "text": "the buffer count is how much of the"
      },
      {
        "start": 381.36,
        "duration": 4.399,
        "text": "memory is being allocated"
      },
      {
        "start": 382.96,
        "duration": 4.4,
        "text": "to essentially caching the file system"
      },
      {
        "start": 385.759,
        "duration": 2.72,
        "text": "now that's really crucial with the"
      },
      {
        "start": 387.36,
        "duration": 4.32,
        "text": "cassandra system"
      },
      {
        "start": 388.479,
        "duration": 5.521,
        "text": "because we do a lot of reads a and"
      },
      {
        "start": 391.68,
        "duration": 3.28,
        "text": "the ss tables are immutable so they can"
      },
      {
        "start": 394.0,
        "duration": 3.12,
        "text": "be cached"
      },
      {
        "start": 394.96,
        "duration": 3.76,
        "text": "really easily so we see that number"
      },
      {
        "start": 397.12,
        "duration": 4.72,
        "text": "going up quite a bit"
      },
      {
        "start": 398.72,
        "duration": 4.8,
        "text": "the last section is about swap"
      },
      {
        "start": 401.84,
        "duration": 3.84,
        "text": "now if you look at these numbers this is"
      },
      {
        "start": 403.52,
        "duration": 5.28,
        "text": "how much total swap is allocated"
      },
      {
        "start": 405.68,
        "duration": 5.519,
        "text": "now in this case there's zero none and"
      },
      {
        "start": 408.8,
        "duration": 3.44,
        "text": "that's okay we generally recommend no"
      },
      {
        "start": 411.199,
        "duration": 3.921,
        "text": "swap"
      },
      {
        "start": 412.24,
        "duration": 3.6,
        "text": "swap is that area on disk that we can"
      },
      {
        "start": 415.12,
        "duration": 3.04,
        "text": "page out"
      },
      {
        "start": 415.84,
        "duration": 3.04,
        "text": "physical memory so if you're starting to"
      },
      {
        "start": 418.16,
        "duration": 2.8,
        "text": "run out of"
      },
      {
        "start": 418.88,
        "duration": 4.08,
        "text": "total physical memory and you need a"
      },
      {
        "start": 420.96,
        "duration": 2.959,
        "text": "little more instead of just crashing"
      },
      {
        "start": 422.96,
        "duration": 4.0,
        "text": "your system"
      },
      {
        "start": 423.919,
        "duration": 6.0,
        "text": "it will page out least used pages"
      },
      {
        "start": 426.96,
        "duration": 3.76,
        "text": "into the disk now that is not a good"
      },
      {
        "start": 429.919,
        "duration": 3.601,
        "text": "idea"
      },
      {
        "start": 430.72,
        "duration": 3.919,
        "text": "the speed compared from a disk to"
      },
      {
        "start": 433.52,
        "duration": 3.84,
        "text": "physical memory"
      },
      {
        "start": 434.639,
        "duration": 3.761,
        "text": "is an order of magnitude but it is meant"
      },
      {
        "start": 437.36,
        "duration": 2.88,
        "text": "as a safety valve"
      },
      {
        "start": 438.4,
        "duration": 3.76,
        "text": "in some cases it's not a bad thing"
      },
      {
        "start": 440.24,
        "duration": 3.84,
        "text": "because you have things that i'm rarely"
      },
      {
        "start": 442.16,
        "duration": 4.72,
        "text": "used like in user land"
      },
      {
        "start": 444.08,
        "duration": 4.399,
        "text": "but for a running server system having"
      },
      {
        "start": 446.88,
        "duration": 3.039,
        "text": "swap can be pretty detrimental"
      },
      {
        "start": 448.479,
        "duration": 3.041,
        "text": "especially if you start bleeding over"
      },
      {
        "start": 449.919,
        "duration": 3.361,
        "text": "and using a lot more disk"
      },
      {
        "start": 451.52,
        "duration": 3.679,
        "text": "when your cassandra nodes needs to use a"
      },
      {
        "start": 453.28,
        "duration": 3.52,
        "text": "lot of disk so you get these things"
      },
      {
        "start": 455.199,
        "duration": 4.161,
        "text": "working against each other"
      },
      {
        "start": 456.8,
        "duration": 4.0,
        "text": "you're in trouble so these numbers give"
      },
      {
        "start": 459.36,
        "duration": 3.279,
        "text": "you an indication of what's happening"
      },
      {
        "start": 460.8,
        "duration": 4.959,
        "text": "now we've allocated zero"
      },
      {
        "start": 462.639,
        "duration": 4.801,
        "text": "we have no used and no free awesome"
      },
      {
        "start": 465.759,
        "duration": 3.84,
        "text": "but we also have our buffer cache like"
      },
      {
        "start": 467.44,
        "duration": 4.159,
        "text": "how much system space is being used for"
      },
      {
        "start": 469.599,
        "duration": 3.521,
        "text": "caching the file data that's an"
      },
      {
        "start": 471.599,
        "duration": 4.32,
        "text": "important number to know as well"
      },
      {
        "start": 473.12,
        "duration": 4.4,
        "text": "the next section the larger section is"
      },
      {
        "start": 475.919,
        "duration": 4.081,
        "text": "about the individual processes"
      },
      {
        "start": 477.52,
        "duration": 3.519,
        "text": "themselves and this is where you get"
      },
      {
        "start": 480.0,
        "duration": 3.759,
        "text": "into diagnosis"
      },
      {
        "start": 481.039,
        "duration": 3.681,
        "text": "about specific running processes the"
      },
      {
        "start": 483.759,
        "duration": 3.761,
        "text": "first column"
      },
      {
        "start": 484.72,
        "duration": 4.479,
        "text": "is a process id the pid and that is"
      },
      {
        "start": 487.52,
        "duration": 2.16,
        "text": "assigned to a running process when it"
      },
      {
        "start": 489.199,
        "duration": 2.241,
        "text": "starts"
      },
      {
        "start": 489.68,
        "duration": 3.68,
        "text": "this is assigned by the running linux"
      },
      {
        "start": 491.44,
        "duration": 4.4,
        "text": "kernel and this is nothing that"
      },
      {
        "start": 493.36,
        "duration": 4.32,
        "text": "users can do but it gives you an idea of"
      },
      {
        "start": 495.84,
        "duration": 4.32,
        "text": "exactly the process running"
      },
      {
        "start": 497.68,
        "duration": 4.16,
        "text": "in the kernel space so in the top one"
      },
      {
        "start": 500.16,
        "duration": 3.439,
        "text": "for instance 7719"
      },
      {
        "start": 501.84,
        "duration": 3.52,
        "text": "that's the number that was assigned for"
      },
      {
        "start": 503.599,
        "duration": 3.521,
        "text": "this particular process"
      },
      {
        "start": 505.36,
        "duration": 3.2,
        "text": "and it gives you an idea who the process"
      },
      {
        "start": 507.12,
        "duration": 2.799,
        "text": "user was in this case"
      },
      {
        "start": 508.56,
        "duration": 3.599,
        "text": "root for everything because it started"
      },
      {
        "start": 509.919,
        "duration": 4.081,
        "text": "right up but if there is a separate user"
      },
      {
        "start": 512.159,
        "duration": 3.44,
        "text": "for instance if you see some background"
      },
      {
        "start": 514.0,
        "duration": 3.279,
        "text": "process running from userland"
      },
      {
        "start": 515.599,
        "duration": 3.281,
        "text": "you know that someone is running a"
      },
      {
        "start": 517.279,
        "duration": 2.401,
        "text": "process and who's doing it then we have"
      },
      {
        "start": 518.88,
        "duration": 3.12,
        "text": "the priority"
      },
      {
        "start": 519.68,
        "duration": 3.68,
        "text": "now the priority is coupled with this"
      },
      {
        "start": 522.0,
        "duration": 3.68,
        "text": "other version which is nice"
      },
      {
        "start": 523.36,
        "duration": 4.4,
        "text": "so if you have priority and nice working"
      },
      {
        "start": 525.68,
        "duration": 4.08,
        "text": "together this is where assist admins can"
      },
      {
        "start": 527.76,
        "duration": 5.28,
        "text": "play around with the running processes"
      },
      {
        "start": 529.76,
        "duration": 4.24,
        "text": "and get some better tuning most systems"
      },
      {
        "start": 533.04,
        "duration": 3.12,
        "text": "just start at full"
      },
      {
        "start": 534.0,
        "duration": 3.6,
        "text": "tilt they run at the highest level and"
      },
      {
        "start": 536.16,
        "duration": 2.799,
        "text": "there's no nice to them"
      },
      {
        "start": 537.6,
        "duration": 2.799,
        "text": "this is not generally something that"
      },
      {
        "start": 538.959,
        "duration": 2.56,
        "text": "gets messed with unless you're running a"
      },
      {
        "start": 540.399,
        "duration": 3.601,
        "text": "multi-user system"
      },
      {
        "start": 541.519,
        "duration": 4.0,
        "text": "how much virtual memory is used how much"
      },
      {
        "start": 544.0,
        "duration": 2.88,
        "text": "physical memory is used and how much"
      },
      {
        "start": 545.519,
        "duration": 3.681,
        "text": "shared memory is used"
      },
      {
        "start": 546.88,
        "duration": 3.04,
        "text": "again is a composite of all process"
      },
      {
        "start": 549.2,
        "duration": 3.199,
        "text": "memory"
      },
      {
        "start": 549.92,
        "duration": 4.88,
        "text": "run by that process so it gives you an"
      },
      {
        "start": 552.399,
        "duration": 4.081,
        "text": "idea where the memory is being allocated"
      },
      {
        "start": 554.8,
        "duration": 3.76,
        "text": "now in this case with a lot of virtual"
      },
      {
        "start": 556.48,
        "duration": 4.72,
        "text": "memory space this is not"
      },
      {
        "start": 558.56,
        "duration": 4.16,
        "text": "the same as swap but it gives you some"
      },
      {
        "start": 561.2,
        "duration": 2.24,
        "text": "idea of where that memory actually"
      },
      {
        "start": 562.72,
        "duration": 2.4,
        "text": "resides"
      },
      {
        "start": 563.44,
        "duration": 3.44,
        "text": "so if it's being swapped out because it"
      },
      {
        "start": 565.12,
        "duration": 2.32,
        "text": "has been not least used that's a good"
      },
      {
        "start": 566.88,
        "duration": 2.16,
        "text": "thing"
      },
      {
        "start": 567.44,
        "duration": 3.6,
        "text": "if it is being paged out because it's"
      },
      {
        "start": 569.04,
        "duration": 5.6,
        "text": "least used now you know"
      },
      {
        "start": 571.04,
        "duration": 5.84,
        "text": "and then the state of the process again"
      },
      {
        "start": 574.64,
        "duration": 4.16,
        "text": "with the unix process going all the way"
      },
      {
        "start": 576.88,
        "duration": 3.84,
        "text": "back to the beginning of unix"
      },
      {
        "start": 578.8,
        "duration": 3.36,
        "text": "you have these three states sleeping"
      },
      {
        "start": 580.72,
        "duration": 3.679,
        "text": "running zombies"
      },
      {
        "start": 582.16,
        "duration": 3.679,
        "text": "zombies are bad let's just avoid those"
      },
      {
        "start": 584.399,
        "duration": 4.081,
        "text": "remember how to get rid of zombies"
      },
      {
        "start": 585.839,
        "duration": 4.481,
        "text": "fire but then sleeping and running those"
      },
      {
        "start": 588.48,
        "duration": 3.52,
        "text": "are going to toggle back and forth"
      },
      {
        "start": 590.32,
        "duration": 3.199,
        "text": "if you have a hot process it's probably"
      },
      {
        "start": 592.0,
        "duration": 2.56,
        "text": "going to be running quite a bit"
      },
      {
        "start": 593.519,
        "duration": 3.121,
        "text": "if you have something that runs"
      },
      {
        "start": 594.56,
        "duration": 4.16,
        "text": "periodically like in this case collect d"
      },
      {
        "start": 596.64,
        "duration": 3.36,
        "text": "for instance it'll wake up do some"
      },
      {
        "start": 598.72,
        "duration": 3.2,
        "text": "things go back to sleep"
      },
      {
        "start": 600.0,
        "duration": 3.76,
        "text": "and it's kind of like that process that"
      },
      {
        "start": 601.92,
        "duration": 3.039,
        "text": "always runs continuously in the"
      },
      {
        "start": 603.76,
        "duration": 3.36,
        "text": "background it's not going to be"
      },
      {
        "start": 604.959,
        "duration": 3.521,
        "text": "running technically all the time it's"
      },
      {
        "start": 607.12,
        "duration": 2.159,
        "text": "going to be waking up doing some things"
      },
      {
        "start": 608.48,
        "duration": 2.72,
        "text": "going back"
      },
      {
        "start": 609.279,
        "duration": 4.081,
        "text": "then we talk about cpu percentage and"
      },
      {
        "start": 611.2,
        "duration": 3.759,
        "text": "this is where we start seeing some very"
      },
      {
        "start": 613.36,
        "duration": 2.159,
        "text": "interesting things the next two numbers"
      },
      {
        "start": 614.959,
        "duration": 2.801,
        "text": "are"
      },
      {
        "start": 615.519,
        "duration": 4.241,
        "text": "the things you want to dial in on for"
      },
      {
        "start": 617.76,
        "duration": 3.6,
        "text": "instance if you have a running process"
      },
      {
        "start": 619.76,
        "duration": 4.48,
        "text": "and it's running at 100"
      },
      {
        "start": 621.36,
        "duration": 4.64,
        "text": "of the cpu that's good to know because"
      },
      {
        "start": 624.24,
        "duration": 2.32,
        "text": "you want to see that that process is"
      },
      {
        "start": 626.0,
        "duration": 3.279,
        "text": "eating"
      },
      {
        "start": 626.56,
        "duration": 4.24,
        "text": "every bit of that node same with memory"
      },
      {
        "start": 629.279,
        "duration": 5.041,
        "text": "if you have something that's taking"
      },
      {
        "start": 630.8,
        "duration": 5.279,
        "text": "100 or more and it can with swap"
      },
      {
        "start": 634.32,
        "duration": 3.36,
        "text": "you want to know that and these are"
      },
      {
        "start": 636.079,
        "duration": 3.76,
        "text": "important things to see whenever you're"
      },
      {
        "start": 637.68,
        "duration": 4.0,
        "text": "trying to diagnose a running system"
      },
      {
        "start": 639.839,
        "duration": 3.601,
        "text": "now let's say that it was collect d that"
      },
      {
        "start": 641.68,
        "duration": 4.399,
        "text": "was running 100 of the memory"
      },
      {
        "start": 643.44,
        "duration": 3.92,
        "text": "or 100 of the cpu collect d is a"
      },
      {
        "start": 646.079,
        "duration": 3.76,
        "text": "background process"
      },
      {
        "start": 647.36,
        "duration": 3.2,
        "text": "if it's eating up all the cpu i kind of"
      },
      {
        "start": 649.839,
        "duration": 2.721,
        "text": "want to know that"
      },
      {
        "start": 650.56,
        "duration": 3.44,
        "text": "and you can see that here then when we"
      },
      {
        "start": 652.56,
        "duration": 3.279,
        "text": "get to the timing"
      },
      {
        "start": 654.0,
        "duration": 3.2,
        "text": "this is how much time it's been in a"
      },
      {
        "start": 655.839,
        "duration": 3.44,
        "text": "running state"
      },
      {
        "start": 657.2,
        "duration": 4.16,
        "text": "so this gives you an idea how much"
      },
      {
        "start": 659.279,
        "duration": 3.441,
        "text": "system time it's actually taken"
      },
      {
        "start": 661.36,
        "duration": 3.599,
        "text": "so for instance if you have something"
      },
      {
        "start": 662.72,
        "duration": 3.76,
        "text": "running at 100 and it's eaten up"
      },
      {
        "start": 664.959,
        "duration": 3.601,
        "text": "all the system time since it's been"
      },
      {
        "start": 666.48,
        "duration": 4.08,
        "text": "invoked that's a problem"
      },
      {
        "start": 668.56,
        "duration": 4.08,
        "text": "and then at the end we have the command"
      },
      {
        "start": 670.56,
        "duration": 2.56,
        "text": "name itself so this is what somebody"
      },
      {
        "start": 672.64,
        "duration": 2.72,
        "text": "typed"
      },
      {
        "start": 673.12,
        "duration": 3.279,
        "text": "or was in a script this is the actual"
      },
      {
        "start": 675.36,
        "duration": 3.84,
        "text": "running program"
      },
      {
        "start": 676.399,
        "duration": 4.801,
        "text": "that was started now you can dig further"
      },
      {
        "start": 679.2,
        "duration": 4.24,
        "text": "into these processes with other commands"
      },
      {
        "start": 681.2,
        "duration": 3.84,
        "text": "but this gives you an idea of exactly"
      },
      {
        "start": 683.44,
        "duration": 3.92,
        "text": "what program is running"
      },
      {
        "start": 685.04,
        "duration": 3.359,
        "text": "in that process so we have collect e and"
      },
      {
        "start": 687.36,
        "duration": 3.36,
        "text": "java for instance"
      },
      {
        "start": 688.399,
        "duration": 3.921,
        "text": "of course that's what we want to run"
      },
      {
        "start": 690.72,
        "duration": 3.28,
        "text": "java is usually preceded"
      },
      {
        "start": 692.32,
        "duration": 4.24,
        "text": "in front of cassandra or datastax"
      },
      {
        "start": 694.0,
        "duration": 4.48,
        "text": "enterprise because it is a java process"
      },
      {
        "start": 696.56,
        "duration": 3.04,
        "text": "so that's how you'll see it whenever"
      },
      {
        "start": 698.48,
        "duration": 2.72,
        "text": "it's presented here"
      },
      {
        "start": 699.6,
        "duration": 3.6,
        "text": "hopefully this gives you a really good"
      },
      {
        "start": 701.2,
        "duration": 4.319,
        "text": "idea of how top works"
      },
      {
        "start": 703.2,
        "duration": 4.079,
        "text": "and a good overview of course the linux"
      },
      {
        "start": 705.519,
        "duration": 2.401,
        "text": "man page is going to give you a ton more"
      },
      {
        "start": 707.279,
        "duration": 6.641,
        "text": "detail"
      },
      {
        "start": 707.92,
        "duration": 6.0,
        "text": "but this is a good start"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T01:42:33.749795+00:00"
}