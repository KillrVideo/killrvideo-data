{
  "video_id": "eYx_mDAYgUE",
  "title": "DS330.30 Sack Traversals | DataStax Enterprise 6 Graph",
  "description": "#DataStaxAcademy #DS330\nDS330.30 Sack Traversals\nThe sack traversal in Gremlin is kind of like giving an empty bag (or sack) to every gremlin traverser in your graph. The gremlins carry their bag as they walk around the graph, and they collect properties about the graph to store in the bag. In this unit, you will learn about the sack traversal.\n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-16T01:35:44Z",
  "thumbnail": "https://i.ytimg.com/vi/eYx_mDAYgUE/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "cassandra",
    "datastax",
    "tutorial",
    "apache_cassandra"
  ],
  "url": "https://www.youtube.com/watch?v=eYx_mDAYgUE",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] this step is one of my favorites i really enjoy sac traversals and as i like to think of it the sac step in gremlin is kind of like giving an empty bag or a sack to every gremlin traversal that's running around your graph the gremlins carry their bag as they walk around the graph and they pick up and collect things about the graph to store in your bag possibly using the sack you could instructor gremlins say to pick up calculate and store something in the bag as it's walking through the graph structure for example kind of imagine a gremlin that could walk around and collect the total number of vertices or edges that it walks through by maybe summing up an integer in its bag then at the end of the traversal you could inspect the contents of the sac or the bag to maybe see how far that gremlin has walked throughout the graph so let's visualize this you can imagine that the gremlins in this graph represent the full journey of one gremlin traverser from left to right that is the gremlins started on the vertex at the far left of the graph and walked the full path all the way to the right to start let's imagine that the gremlin on the very far left vertex began his journey with an empty bag then as the gremlin walked to the right he added one into his bag for every edge he walked over so when you inspect the sac for the gremlin at any vertex it'll contain the number of edges the gremlin walked to get there at the end we would inspect the value at the sac and find a value of five representing the five edges that our gremlin walked from left to right in our graph while as a visual that may make sense let's dive a little bit deeper and create a more concrete definition in its most simplest form a sac is just an object or a data structure that is local to the traverser you are required to initialize the sac with a value or an object such as zero or maybe an empty map as your traverser moves throughout the graph structure you can update the object in the sac or you can read the values of the object maybe to make a decision about your traversal it is important to note two things first unlike side effects which are global data structures visible to all traversers sacs are local data structures visible only to their respective traversers secondly unless explicitly initialized traversers do not have sacs unless you happen to be a handbag aficionado why would you want to give your gremlin a sack well for starters sacs are really useful in collecting path information or computing decaying energy algorithms throughout your graph structure also in general sac based traversals have a smaller memory footprint than path-based traversals for two reasons first sacks usually contain values like the path distance rather than the full path history and second traversers with sacs can be merged while traversers with path data structures cannot be bulked while they are extremely useful sac based traversals may not outperform path-based traversals 100 of the time a lot depends on the path characteristics the graphs branching factor and how much bulking is possible we will get into the differences between bulking and merging in a later example but for now it is important to note that bulking is something you can do with any traverser whereas merging is something that you do specifically during the sac step as with any new concept let's introduce the new steps their parameters and some common usage patterns first we have the with sac step the with stack step enables sacs in your graph it is the way that you can create a sac for each gremlin traverser there is one required parameter and two optional parameters the first parameter initial value supplier is required and it provides the initial value for each traversers sac next you can provide a split operator the split operator is a unary operator that clones the traverser sac when the traverser splits if no split operator is provided then identity is assumed this essentially tells the traverser what to do when it moves from a vertex and goes out multiple edges the split operator defines what to do with the sac and its values when the traversers split from one to many after a split we need to consider what to do on a merge that's the third parameter of the with sac step the merge operator is a binary operator that unites two traverser sacs when they are merging from multiple traversers into one if no merge traverser is provided the traversers with sacs cannot be merged you can picture this when multiple gremlins take different routes and end up on the same vertex the merge operator indicates what the traversers are to do with the values in each traversers sac the next steps to introduce are those which allow us to mutate update or inspect a traversers sac the sac step is used for these functions reading the sac value and writing to it the sax step with no parameters reads the sac value and places it in the traversal stream the sac step can also take an update function which will update the sac based on two things first the existing object in the sac and second parameters supplied by the step modulator common update functions that i use or have seen used are sum min and mean that'll become more clear as we look at the examples and before digging into the examples let's take a look at the bimodulator we have seen the bimodulator in a few different gremlin topics in this series so far as far as its use with the upcoming examples we will see that the by step modulator is frequently used to pass additional parameters for computing a new sac value since we have seen the buy modulator a few times let's dig into the examples to get an idea of exactly how to use this with the sac step as before we will be using the killer video graph schema where users know users users rate movies and movies belong to genres we also have other people in our graph that act direct compose and have created the movies in the sample data set before looking at some code let's begin understanding the sac step with a visual example you can imagine that this graph represents you shown there in the middle next to the start arrow and then your social network and if you are not 17 maybe you can imagine somebody else in your life who is 17 just so you can walk through this example what we want to do is use the sac step to start from you and add up all of the ages of your friends and your friends friends to do that we would drop one traverser at the starting vertex with the sac initialized to zero then the sac will grab the age on the current vertex which is 17 and add it into the gremlins sac next this traverser is going to split into four total traversers and move to the adjacent vertices at this point each sac is going to have a local copy of the integer which is still 17. let's follow the traverser in this graph that moved up or to the vertex directly above the starting point this traverser arrives at the new vertex grabs the age of the vertex and adds it into the sac at this point the current value in the sac is its previous value 17 plus the new value of 17 for a total of 34. from here the traverser splits again and continues to move up the traverser that followed the branch up and to the left will arrive at a vertex with an age of 16 and as you see right above in the equation the total value in this traverser sac will be 17 plus 17 plus 16 which is 50. that means that the total age of the friends observed on this path is 50. the traverser which moved up along the branch to the right will reach a vertex with an age of 17. and as you see above that vertex the total value in the traversers sac will be 17 plus 17 plus 17 which is 51. that means that the total age of the friends observed along this path is 51. as you look around this full graph example you will see that there are a total of 13 different paths and therefore 13 total traversers that would be generated throughout this process given this visual example let's take a look at some code of how to do this with the sac step we have two different ways to write a gremlin traversal that does the very walk that we just stepped through on the last slide the first traversal here on the slide shows you how to do the aggregation as you walk through the graph to do this the first line of the traversal calls g with sac 0 to create a sac for the traversal and initialize its value to 0. on the second line we find our favorite user goodall u1 starting at this user we add its age into the sac if you remember the visual mental walk we did on the previous slide at this point we have added 17 into the sac value we do this by calling the sac step passing the sac step the sum update function and then indicated what values to sum with the subsequent buy modulator here we say to sum the value age into the sac for that traverser we want to do this process for our friends and the friends of our friends so to do this we will need the recursive step repeat to do this we will need the recursive step repeat and you see that at the end of the repeat step we say we only want to do this repetition two times meaning that we are only going to do some work for two neighborhoods out from our starting location inside the repeat step we tell the traverser to walk out the nose edge to the next vertex once at the adjacent vertex we call the sac step give it the sum update function and tell the traverser to add in the age value into the gremlin sac once we have done this for our friends and the friends of our friends we inspect the value in gremlin sac by calling the sac function and now we will see the full list of all 13 values previously seen on the last slide the second example shows us how to do this without using the sac step however we will then need to use the path step so that we preserve the full history of every traverser so that we can have the ability to sum up all of the ages to do this we find our favorite user good old u1 next we use the repeat step to walk out the nose edges two times this is the same as before and it traverses out to the second neighborhood from our starting location lastly we call path and represent all of the objects in the traversal stream by their age then we apply a sum to each traverser locally the use of local here makes sure that each of the 13 traversers sum up the ages in their individual path instead of summing up all of the ages observed across the full graph and as we hope we see the same 13 ages as before in this example we want to show you how to use the value in gremlin stack to make a decision within the traversal for example maybe we want to keep walking through the graph until we collect a specific amount of data so in this example we're going to find a path that starts with our user u1 and eventually adds up to a total of 200 or greater to initialize the traversers to have a sac again we start with g dot with sac 0. then we find user u1 and some user u1's age into the sac next we see a repeat until pattern here we want to continue to walk out the nose edges and we want to continue summing up the observed ages in the sac we want to do this until the sac value is greater or equal to 200 then we call the path step on the traversers that pass through the repeat until filter we inspect the path objects which are all users by their user id we limit the results to only one path and we unfold it here we see that the collection of u1 u74 u750 775 572 and u277 have a total age of 204 which is greater than 200 next let's dig into an example that's a little bit more complicated than keeping track of a number let's walk through the graph and instead keep track of an object like a map when we start using more complex data structures like maps or lists it's vital to make sure we define a split operator we need to define a split operator because the default operator is the identity operator and that probably will not give you the behavior that you expect in this example we want the same behavior that we have been using in the previous examples we want to create a copy of the sac and its value that is to be passed on to the traversers when they split then we want each traverser to have their own instance of the sac object and its value so that the traverser can update the object during its walk throughout the graph to do this with a complex data structure like a map we need to define the split operator to be clone as we see here at the beginning of this example using the clone split operator gives each traverser its own copy of the map otherwise without defining the split operator it would use the default behavior which is the identity function when using a more complex data structure like a map this would mean that each traverser would be updating and reading from the same global object through the traversers local reference to that object this is probably not the behavior that you would expect to initialize the sac function to be a map we call g dot with sac and instantiate the sac to be a map with the map notation seen here next we want to define the split function to be cloned this guarantees that each traverser will receive its own local copy of the object we want this object to be a map of users and their ages to do that we start by traversing to our favorite user u1 on the second line we call the sac function to update the map in the traversers sac what we want to do is to create a key in the map that is u1 and we want that value to be u1's age 17. we can do that by creating a custom function this function is a lambda function that takes two parameters this function is a lambda function that takes two parameters the map and the user vertex these parameters are shown to the left of the arrow in the lambda function notation to the right of the arrow we define how we want to use those parameters we want the map to have a key and we want that key to be the user's id we want the value to be the user's age then we return the map into the traversers sac all of that was just for putting in the very first value of the map at this time if we stopped the traversal and inspected the map we would see u1 and 17. next we want to repeat the same process as before we want to traverse to u1's friends and then the friends of u1's friends along the way we want each traverser to collect the user id and that user's age and then insert that data into their sac we do this just as before with a repeat step with a limit on the number of times we only want to do this two times then inside of the repeat step we walk out the nose edges to get to another user vertex on that user vertex we want to update the traversers sac we do this update with a lambda function inside the sac call as we saw before we have two parameters the sax map and the object the traverser is currently on which is a user vertex we create a key in the map that is the user's id and the keys value is the user's age then we return the map to the traversers sac after repeating that process two times we want to see the object within the sac so we call the sac step to read the contents of the traversers sac we limit only one traverser and look at the results we see a map with u1 and its age of 17 u74 with an age of 15 and u40 with an age of 12. while this was a pretty big example the main things to remember are first with split each traverser gets a copy of the starting or initialized map second the updates to that map are local to the individual traversers sac third with complex objects you probably want to define the split function to be cloned because without split the traversers would be updating a global object through a local reference now once we have instructed our traversers on how to split naturally we need to tell them how to merge in our last example we want to dig into the merge operator and how it enables bulking optimization for better performance before digging into this example it's important to clarify the difference between bulking and merging bulking is the word for combining traversers that reach the same object in a traversal you can picture this as 10 gremlins running around and eventually arriving to the same vertex with bulking enabled the 10 gremlins are going to be combined into one larger gremlin with a bulk value of 10. bulking is something that you can do with any traversal not just the sac step conceptually bulking is very similar to merging however the word merging is reserved to an operation with the sac step when using gremlin sacs merging defines how the values in the traverser sack are to be combined or merged when two or more traversers are bulking together think of the same example where we had 10 gremlins running around the graph and they all arrived to the same place if those gremlins all have sacks with objects or values we need to tell them how they are to combine the data in their sacs into one this is the process called merging merging is something specific to the sac operator which tells the gremlin traversers what to do with the values in the sac when they are being bulked or combined together to illustrate the difference between these concepts we are going to walk the graph shown on the right part of this slide we're going to start at u1 at the top and then we're going to walk down each path to get to u493 the first example does not have a merge operator so we're going to have two traversers with data to inspect the second example introduces a merge operator the two traversers that arrive at u493 are going to bulk together and merge their data into one sac the output will only have one traverser to really dig into this let's walk through the code in the first example we start with g dot with sac and initialize the value to zero then we start our traversal at user u1 we add user u1's age into the sac as we have seen before we repeat walking out the nose edges and we add up the edges of the vertices into the sac along the way we traverse three nose edges and reach user 493 at the bottom of the image here we call the sac function and we see that we have two traversers one traverser was 65 and the second traverser was 72. we expect to see two traversers because we did not define a merging operation and so we saw each traverser even though they ended on the same result vertex in the second example we want to define a merge operator we start by saying g dot with bulk false with sac 0 sum i'm going to cover what is occurring with the initialization of with bulk false a little later the important part to note here is the definition of the merging operator within the with sac statement we are indicating that the merging operator here will be sum that means when two traversers need to bulk or combine from two into one we will merge the sac values by adding them up next we want to start our traversal at user u1 and add u1's age into the sac again we repeat this three times walking out the nose edges and adding the user's ages into the sac once we have reached user 493 we inspect the value of the object in the sac by calling the sac function here because we had a merging function we only see one value which is 116. now if you look at the path values from the last example you'll see that 65 plus 72 is 137 however because we were using the bulking optimization the two traversers arrived at 493 bulked together and then added their sac values this augmented the sac with the age from 493 only once this keeps you from double counting user 493's age into the sac now back to the with bulk false initialization we used with bulk false so that we did not output the same result multiple times for the same traverser which had a bulk value of greater than one in other words with bulk only affects output formatting and not actual execution the bulk value keeps track of the total number of traversers that are combined together into the single traverser so that we know how many had been removed through the bulking optimization and that is it for the sac traversal bulking and merging i know that was a significant amount of information so give the exercise a try and we will be here ready to dig into the next topic",
    "segments": [
      {
        "start": 1.47,
        "duration": 5.31,
        "text": "[Music]"
      },
      {
        "start": 7.12,
        "duration": 2.96,
        "text": "this step"
      },
      {
        "start": 7.759,
        "duration": 3.361,
        "text": "is one of my favorites i really enjoy"
      },
      {
        "start": 10.08,
        "duration": 3.2,
        "text": "sac traversals"
      },
      {
        "start": 11.12,
        "duration": 3.28,
        "text": "and as i like to think of it the sac"
      },
      {
        "start": 13.28,
        "duration": 3.52,
        "text": "step in gremlin"
      },
      {
        "start": 14.4,
        "duration": 4.56,
        "text": "is kind of like giving an empty bag or a"
      },
      {
        "start": 16.8,
        "duration": 3.44,
        "text": "sack to every gremlin traversal that's"
      },
      {
        "start": 18.96,
        "duration": 3.12,
        "text": "running around your graph"
      },
      {
        "start": 20.24,
        "duration": 3.279,
        "text": "the gremlins carry their bag as they"
      },
      {
        "start": 22.08,
        "duration": 3.439,
        "text": "walk around the graph"
      },
      {
        "start": 23.519,
        "duration": 4.08,
        "text": "and they pick up and collect things"
      },
      {
        "start": 25.519,
        "duration": 4.481,
        "text": "about the graph to store in your bag"
      },
      {
        "start": 27.599,
        "duration": 4.401,
        "text": "possibly using the sack you could"
      },
      {
        "start": 30.0,
        "duration": 4.16,
        "text": "instructor gremlins say to pick up"
      },
      {
        "start": 32.0,
        "duration": 3.68,
        "text": "calculate and store something in the bag"
      },
      {
        "start": 34.16,
        "duration": 2.239,
        "text": "as it's walking through the graph"
      },
      {
        "start": 35.68,
        "duration": 3.28,
        "text": "structure"
      },
      {
        "start": 36.399,
        "duration": 3.84,
        "text": "for example kind of imagine a gremlin"
      },
      {
        "start": 38.96,
        "duration": 3.599,
        "text": "that could walk around"
      },
      {
        "start": 40.239,
        "duration": 3.201,
        "text": "and collect the total number of vertices"
      },
      {
        "start": 42.559,
        "duration": 3.041,
        "text": "or edges"
      },
      {
        "start": 43.44,
        "duration": 3.2,
        "text": "that it walks through by maybe summing"
      },
      {
        "start": 45.6,
        "duration": 3.04,
        "text": "up an integer"
      },
      {
        "start": 46.64,
        "duration": 4.399,
        "text": "in its bag then at the end of the"
      },
      {
        "start": 48.64,
        "duration": 4.8,
        "text": "traversal you could inspect the contents"
      },
      {
        "start": 51.039,
        "duration": 4.321,
        "text": "of the sac or the bag to maybe see how"
      },
      {
        "start": 53.44,
        "duration": 3.84,
        "text": "far that gremlin has walked"
      },
      {
        "start": 55.36,
        "duration": 4.32,
        "text": "throughout the graph so let's visualize"
      },
      {
        "start": 57.28,
        "duration": 3.36,
        "text": "this you can imagine that the gremlins"
      },
      {
        "start": 59.68,
        "duration": 2.879,
        "text": "in this graph"
      },
      {
        "start": 60.64,
        "duration": 3.04,
        "text": "represent the full journey of one"
      },
      {
        "start": 62.559,
        "duration": 3.841,
        "text": "gremlin traverser"
      },
      {
        "start": 63.68,
        "duration": 4.72,
        "text": "from left to right that is the gremlins"
      },
      {
        "start": 66.4,
        "duration": 2.64,
        "text": "started on the vertex at the far left of"
      },
      {
        "start": 68.4,
        "duration": 2.719,
        "text": "the graph"
      },
      {
        "start": 69.04,
        "duration": 3.28,
        "text": "and walked the full path all the way to"
      },
      {
        "start": 71.119,
        "duration": 2.801,
        "text": "the right to start"
      },
      {
        "start": 72.32,
        "duration": 3.04,
        "text": "let's imagine that the gremlin on the"
      },
      {
        "start": 73.92,
        "duration": 3.92,
        "text": "very far left vertex"
      },
      {
        "start": 75.36,
        "duration": 4.64,
        "text": "began his journey with an empty bag then"
      },
      {
        "start": 77.84,
        "duration": 3.04,
        "text": "as the gremlin walked to the right he"
      },
      {
        "start": 80.0,
        "duration": 3.439,
        "text": "added one"
      },
      {
        "start": 80.88,
        "duration": 4.559,
        "text": "into his bag for every edge he walked"
      },
      {
        "start": 83.439,
        "duration": 2.561,
        "text": "over so when you inspect the sac for the"
      },
      {
        "start": 85.439,
        "duration": 2.72,
        "text": "gremlin"
      },
      {
        "start": 86.0,
        "duration": 3.68,
        "text": "at any vertex it'll contain the number"
      },
      {
        "start": 88.159,
        "duration": 3.761,
        "text": "of edges the gremlin walked"
      },
      {
        "start": 89.68,
        "duration": 3.439,
        "text": "to get there at the end we would inspect"
      },
      {
        "start": 91.92,
        "duration": 3.36,
        "text": "the value at the sac"
      },
      {
        "start": 93.119,
        "duration": 4.241,
        "text": "and find a value of five representing"
      },
      {
        "start": 95.28,
        "duration": 5.28,
        "text": "the five edges that our gremlin walked"
      },
      {
        "start": 97.36,
        "duration": 6.32,
        "text": "from left to right in our graph"
      },
      {
        "start": 100.56,
        "duration": 4.8,
        "text": "while as a visual that may make sense"
      },
      {
        "start": 103.68,
        "duration": 3.68,
        "text": "let's dive a little bit deeper and"
      },
      {
        "start": 105.36,
        "duration": 4.64,
        "text": "create a more concrete definition"
      },
      {
        "start": 107.36,
        "duration": 4.88,
        "text": "in its most simplest form a sac is just"
      },
      {
        "start": 110.0,
        "duration": 4.32,
        "text": "an object or a data structure that is"
      },
      {
        "start": 112.24,
        "duration": 4.479,
        "text": "local to the traverser you are required"
      },
      {
        "start": 114.32,
        "duration": 5.119,
        "text": "to initialize the sac with a value"
      },
      {
        "start": 116.719,
        "duration": 3.281,
        "text": "or an object such as zero or maybe an"
      },
      {
        "start": 119.439,
        "duration": 2.401,
        "text": "empty map"
      },
      {
        "start": 120.0,
        "duration": 3.2,
        "text": "as your traverser moves throughout the"
      },
      {
        "start": 121.84,
        "duration": 3.52,
        "text": "graph structure you can"
      },
      {
        "start": 123.2,
        "duration": 4.08,
        "text": "update the object in the sac or you can"
      },
      {
        "start": 125.36,
        "duration": 3.44,
        "text": "read the values of the object"
      },
      {
        "start": 127.28,
        "duration": 3.36,
        "text": "maybe to make a decision about your"
      },
      {
        "start": 128.8,
        "duration": 2.4,
        "text": "traversal it is important to note two"
      },
      {
        "start": 130.64,
        "duration": 2.8,
        "text": "things"
      },
      {
        "start": 131.2,
        "duration": 3.84,
        "text": "first unlike side effects which are"
      },
      {
        "start": 133.44,
        "duration": 4.32,
        "text": "global data structures"
      },
      {
        "start": 135.04,
        "duration": 3.6,
        "text": "visible to all traversers sacs are local"
      },
      {
        "start": 137.76,
        "duration": 2.479,
        "text": "data structures"
      },
      {
        "start": 138.64,
        "duration": 3.76,
        "text": "visible only to their respective"
      },
      {
        "start": 140.239,
        "duration": 4.561,
        "text": "traversers secondly unless"
      },
      {
        "start": 142.4,
        "duration": 3.6,
        "text": "explicitly initialized traversers do not"
      },
      {
        "start": 144.8,
        "duration": 2.799,
        "text": "have sacs"
      },
      {
        "start": 146.0,
        "duration": 3.599,
        "text": "unless you happen to be a handbag"
      },
      {
        "start": 147.599,
        "duration": 3.36,
        "text": "aficionado why would you want to give"
      },
      {
        "start": 149.599,
        "duration": 3.36,
        "text": "your gremlin a sack well"
      },
      {
        "start": 150.959,
        "duration": 3.441,
        "text": "for starters sacs are really useful in"
      },
      {
        "start": 152.959,
        "duration": 4.161,
        "text": "collecting path information"
      },
      {
        "start": 154.4,
        "duration": 4.32,
        "text": "or computing decaying energy algorithms"
      },
      {
        "start": 157.12,
        "duration": 4.32,
        "text": "throughout your graph structure"
      },
      {
        "start": 158.72,
        "duration": 4.799,
        "text": "also in general sac based traversals"
      },
      {
        "start": 161.44,
        "duration": 4.56,
        "text": "have a smaller memory footprint than"
      },
      {
        "start": 163.519,
        "duration": 3.041,
        "text": "path-based traversals for two reasons"
      },
      {
        "start": 166.0,
        "duration": 2.64,
        "text": "first"
      },
      {
        "start": 166.56,
        "duration": 3.2,
        "text": "sacks usually contain values like the"
      },
      {
        "start": 168.64,
        "duration": 3.2,
        "text": "path distance"
      },
      {
        "start": 169.76,
        "duration": 4.16,
        "text": "rather than the full path history and"
      },
      {
        "start": 171.84,
        "duration": 4.16,
        "text": "second traversers with sacs can be"
      },
      {
        "start": 173.92,
        "duration": 2.88,
        "text": "merged while traversers with path data"
      },
      {
        "start": 176.0,
        "duration": 2.72,
        "text": "structures"
      },
      {
        "start": 176.8,
        "duration": 3.6,
        "text": "cannot be bulked while they are"
      },
      {
        "start": 178.72,
        "duration": 4.159,
        "text": "extremely useful sac"
      },
      {
        "start": 180.4,
        "duration": 4.559,
        "text": "based traversals may not outperform"
      },
      {
        "start": 182.879,
        "duration": 4.241,
        "text": "path-based traversals 100"
      },
      {
        "start": 184.959,
        "duration": 3.28,
        "text": "of the time a lot depends on the path"
      },
      {
        "start": 187.12,
        "duration": 3.52,
        "text": "characteristics"
      },
      {
        "start": 188.239,
        "duration": 4.401,
        "text": "the graphs branching factor and how much"
      },
      {
        "start": 190.64,
        "duration": 3.84,
        "text": "bulking is possible we will get into the"
      },
      {
        "start": 192.64,
        "duration": 3.679,
        "text": "differences between bulking and merging"
      },
      {
        "start": 194.48,
        "duration": 4.24,
        "text": "in a later example but for now"
      },
      {
        "start": 196.319,
        "duration": 3.601,
        "text": "it is important to note that bulking is"
      },
      {
        "start": 198.72,
        "duration": 3.599,
        "text": "something you can do"
      },
      {
        "start": 199.92,
        "duration": 4.16,
        "text": "with any traverser whereas merging is"
      },
      {
        "start": 202.319,
        "duration": 4.161,
        "text": "something that you do specifically"
      },
      {
        "start": 204.08,
        "duration": 4.719,
        "text": "during the sac step as with any new"
      },
      {
        "start": 206.48,
        "duration": 4.319,
        "text": "concept let's introduce the new steps"
      },
      {
        "start": 208.799,
        "duration": 3.281,
        "text": "their parameters and some common usage"
      },
      {
        "start": 210.799,
        "duration": 4.08,
        "text": "patterns first"
      },
      {
        "start": 212.08,
        "duration": 4.719,
        "text": "we have the with sac step the with stack"
      },
      {
        "start": 214.879,
        "duration": 4.161,
        "text": "step enables sacs in your graph"
      },
      {
        "start": 216.799,
        "duration": 3.681,
        "text": "it is the way that you can create a sac"
      },
      {
        "start": 219.04,
        "duration": 3.919,
        "text": "for each gremlin traverser"
      },
      {
        "start": 220.48,
        "duration": 3.52,
        "text": "there is one required parameter and two"
      },
      {
        "start": 222.959,
        "duration": 2.881,
        "text": "optional parameters"
      },
      {
        "start": 224.0,
        "duration": 3.44,
        "text": "the first parameter initial value"
      },
      {
        "start": 225.84,
        "duration": 3.44,
        "text": "supplier is required"
      },
      {
        "start": 227.44,
        "duration": 3.439,
        "text": "and it provides the initial value for"
      },
      {
        "start": 229.28,
        "duration": 4.0,
        "text": "each traversers sac"
      },
      {
        "start": 230.879,
        "duration": 4.72,
        "text": "next you can provide a split operator"
      },
      {
        "start": 233.28,
        "duration": 4.64,
        "text": "the split operator is a unary operator"
      },
      {
        "start": 235.599,
        "duration": 3.441,
        "text": "that clones the traverser sac when the"
      },
      {
        "start": 237.92,
        "duration": 3.44,
        "text": "traverser splits"
      },
      {
        "start": 239.04,
        "duration": 3.759,
        "text": "if no split operator is provided then"
      },
      {
        "start": 241.36,
        "duration": 2.959,
        "text": "identity is assumed"
      },
      {
        "start": 242.799,
        "duration": 3.921,
        "text": "this essentially tells the traverser"
      },
      {
        "start": 244.319,
        "duration": 5.12,
        "text": "what to do when it moves from a vertex"
      },
      {
        "start": 246.72,
        "duration": 5.04,
        "text": "and goes out multiple edges the split"
      },
      {
        "start": 249.439,
        "duration": 3.44,
        "text": "operator defines what to do with the sac"
      },
      {
        "start": 251.76,
        "duration": 3.119,
        "text": "and its values"
      },
      {
        "start": 252.879,
        "duration": 3.841,
        "text": "when the traversers split from one to"
      },
      {
        "start": 254.879,
        "duration": 3.76,
        "text": "many after a split"
      },
      {
        "start": 256.72,
        "duration": 4.0,
        "text": "we need to consider what to do on a"
      },
      {
        "start": 258.639,
        "duration": 2.56,
        "text": "merge that's the third parameter of the"
      },
      {
        "start": 260.72,
        "duration": 3.44,
        "text": "with"
      },
      {
        "start": 261.199,
        "duration": 3.601,
        "text": "sac step the merge operator is a binary"
      },
      {
        "start": 264.16,
        "duration": 3.2,
        "text": "operator"
      },
      {
        "start": 264.8,
        "duration": 4.56,
        "text": "that unites two traverser sacs when they"
      },
      {
        "start": 267.36,
        "duration": 4.08,
        "text": "are merging from multiple traversers"
      },
      {
        "start": 269.36,
        "duration": 4.32,
        "text": "into one if no merge traverser is"
      },
      {
        "start": 271.44,
        "duration": 2.96,
        "text": "provided the traversers with sacs cannot"
      },
      {
        "start": 273.68,
        "duration": 2.32,
        "text": "be merged"
      },
      {
        "start": 274.4,
        "duration": 3.2,
        "text": "you can picture this when multiple"
      },
      {
        "start": 276.0,
        "duration": 3.759,
        "text": "gremlins take different routes"
      },
      {
        "start": 277.6,
        "duration": 4.4,
        "text": "and end up on the same vertex the merge"
      },
      {
        "start": 279.759,
        "duration": 4.321,
        "text": "operator indicates what the traversers"
      },
      {
        "start": 282.0,
        "duration": 3.52,
        "text": "are to do with the values in each"
      },
      {
        "start": 284.08,
        "duration": 3.44,
        "text": "traversers sac"
      },
      {
        "start": 285.52,
        "duration": 3.44,
        "text": "the next steps to introduce are those"
      },
      {
        "start": 287.52,
        "duration": 4.32,
        "text": "which allow us to mutate"
      },
      {
        "start": 288.96,
        "duration": 4.88,
        "text": "update or inspect a traversers sac the"
      },
      {
        "start": 291.84,
        "duration": 4.24,
        "text": "sac step is used for these functions"
      },
      {
        "start": 293.84,
        "duration": 4.4,
        "text": "reading the sac value and writing to it"
      },
      {
        "start": 296.08,
        "duration": 4.559,
        "text": "the sax step with no parameters"
      },
      {
        "start": 298.24,
        "duration": 3.44,
        "text": "reads the sac value and places it in the"
      },
      {
        "start": 300.639,
        "duration": 3.12,
        "text": "traversal stream"
      },
      {
        "start": 301.68,
        "duration": 4.0,
        "text": "the sac step can also take an update"
      },
      {
        "start": 303.759,
        "duration": 4.401,
        "text": "function which will update the sac"
      },
      {
        "start": 305.68,
        "duration": 3.6,
        "text": "based on two things first the existing"
      },
      {
        "start": 308.16,
        "duration": 3.28,
        "text": "object in the sac"
      },
      {
        "start": 309.28,
        "duration": 4.16,
        "text": "and second parameters supplied by the"
      },
      {
        "start": 311.44,
        "duration": 3.759,
        "text": "step modulator common update functions"
      },
      {
        "start": 313.44,
        "duration": 4.88,
        "text": "that i use or have seen used"
      },
      {
        "start": 315.199,
        "duration": 5.28,
        "text": "are sum min and mean that'll become more"
      },
      {
        "start": 318.32,
        "duration": 4.319,
        "text": "clear as we look at the examples"
      },
      {
        "start": 320.479,
        "duration": 3.921,
        "text": "and before digging into the examples"
      },
      {
        "start": 322.639,
        "duration": 3.681,
        "text": "let's take a look at the bimodulator"
      },
      {
        "start": 324.4,
        "duration": 3.6,
        "text": "we have seen the bimodulator in a few"
      },
      {
        "start": 326.32,
        "duration": 2.319,
        "text": "different gremlin topics in this series"
      },
      {
        "start": 328.0,
        "duration": 2.72,
        "text": "so far"
      },
      {
        "start": 328.639,
        "duration": 4.241,
        "text": "as far as its use with the upcoming"
      },
      {
        "start": 330.72,
        "duration": 4.64,
        "text": "examples we will see that the by step"
      },
      {
        "start": 332.88,
        "duration": 4.64,
        "text": "modulator is frequently used to pass"
      },
      {
        "start": 335.36,
        "duration": 3.44,
        "text": "additional parameters for computing a"
      },
      {
        "start": 337.52,
        "duration": 3.519,
        "text": "new sac value"
      },
      {
        "start": 338.8,
        "duration": 3.36,
        "text": "since we have seen the buy modulator a"
      },
      {
        "start": 341.039,
        "duration": 3.201,
        "text": "few times"
      },
      {
        "start": 342.16,
        "duration": 4.479,
        "text": "let's dig into the examples to get an"
      },
      {
        "start": 344.24,
        "duration": 3.76,
        "text": "idea of exactly how to use this with the"
      },
      {
        "start": 346.639,
        "duration": 3.201,
        "text": "sac step"
      },
      {
        "start": 348.0,
        "duration": 3.759,
        "text": "as before we will be using the killer"
      },
      {
        "start": 349.84,
        "duration": 2.48,
        "text": "video graph schema where users know"
      },
      {
        "start": 351.759,
        "duration": 2.801,
        "text": "users"
      },
      {
        "start": 352.32,
        "duration": 3.04,
        "text": "users rate movies and movies belong to"
      },
      {
        "start": 354.56,
        "duration": 2.88,
        "text": "genres"
      },
      {
        "start": 355.36,
        "duration": 3.04,
        "text": "we also have other people in our graph"
      },
      {
        "start": 357.44,
        "duration": 3.44,
        "text": "that act"
      },
      {
        "start": 358.4,
        "duration": 4.639,
        "text": "direct compose and have created the"
      },
      {
        "start": 360.88,
        "duration": 4.4,
        "text": "movies in the sample data set"
      },
      {
        "start": 363.039,
        "duration": 4.241,
        "text": "before looking at some code let's begin"
      },
      {
        "start": 365.28,
        "duration": 2.639,
        "text": "understanding the sac step with a visual"
      },
      {
        "start": 367.28,
        "duration": 2.32,
        "text": "example"
      },
      {
        "start": 367.919,
        "duration": 4.0,
        "text": "you can imagine that this graph"
      },
      {
        "start": 369.6,
        "duration": 4.719,
        "text": "represents you shown there in the middle"
      },
      {
        "start": 371.919,
        "duration": 3.28,
        "text": "next to the start arrow and then your"
      },
      {
        "start": 374.319,
        "duration": 3.6,
        "text": "social network"
      },
      {
        "start": 375.199,
        "duration": 4.481,
        "text": "and if you are not 17 maybe you can"
      },
      {
        "start": 377.919,
        "duration": 4.161,
        "text": "imagine somebody else in your life"
      },
      {
        "start": 379.68,
        "duration": 3.2,
        "text": "who is 17 just so you can walk through"
      },
      {
        "start": 382.08,
        "duration": 3.36,
        "text": "this example"
      },
      {
        "start": 382.88,
        "duration": 3.52,
        "text": "what we want to do is use the sac step"
      },
      {
        "start": 385.44,
        "duration": 3.68,
        "text": "to start"
      },
      {
        "start": 386.4,
        "duration": 3.6,
        "text": "from you and add up all of the ages of"
      },
      {
        "start": 389.12,
        "duration": 3.199,
        "text": "your friends"
      },
      {
        "start": 390.0,
        "duration": 3.68,
        "text": "and your friends friends to do that we"
      },
      {
        "start": 392.319,
        "duration": 3.44,
        "text": "would drop one traverser"
      },
      {
        "start": 393.68,
        "duration": 3.6,
        "text": "at the starting vertex with the sac"
      },
      {
        "start": 395.759,
        "duration": 3.521,
        "text": "initialized to zero"
      },
      {
        "start": 397.28,
        "duration": 4.56,
        "text": "then the sac will grab the age on the"
      },
      {
        "start": 399.28,
        "duration": 3.52,
        "text": "current vertex which is 17 and add it"
      },
      {
        "start": 401.84,
        "duration": 3.04,
        "text": "into the gremlins"
      },
      {
        "start": 402.8,
        "duration": 3.28,
        "text": "sac next this traverser is going to"
      },
      {
        "start": 404.88,
        "duration": 2.96,
        "text": "split into four"
      },
      {
        "start": 406.08,
        "duration": 3.04,
        "text": "total traversers and move to the"
      },
      {
        "start": 407.84,
        "duration": 3.28,
        "text": "adjacent vertices"
      },
      {
        "start": 409.12,
        "duration": 3.84,
        "text": "at this point each sac is going to have"
      },
      {
        "start": 411.12,
        "duration": 4.079,
        "text": "a local copy of the integer"
      },
      {
        "start": 412.96,
        "duration": 4.239,
        "text": "which is still 17. let's follow the"
      },
      {
        "start": 415.199,
        "duration": 3.041,
        "text": "traverser in this graph that moved up or"
      },
      {
        "start": 417.199,
        "duration": 2.801,
        "text": "to the vertex"
      },
      {
        "start": 418.24,
        "duration": 3.84,
        "text": "directly above the starting point this"
      },
      {
        "start": 420.0,
        "duration": 4.4,
        "text": "traverser arrives at the new vertex"
      },
      {
        "start": 422.08,
        "duration": 3.119,
        "text": "grabs the age of the vertex and adds it"
      },
      {
        "start": 424.4,
        "duration": 2.72,
        "text": "into the sac"
      },
      {
        "start": 425.199,
        "duration": 3.601,
        "text": "at this point the current value in the"
      },
      {
        "start": 427.12,
        "duration": 5.44,
        "text": "sac is its previous value"
      },
      {
        "start": 428.8,
        "duration": 6.239,
        "text": "17 plus the new value of 17 for a total"
      },
      {
        "start": 432.56,
        "duration": 4.479,
        "text": "of 34. from here the traverser splits"
      },
      {
        "start": 435.039,
        "duration": 3.681,
        "text": "again and continues to move up"
      },
      {
        "start": 437.039,
        "duration": 3.6,
        "text": "the traverser that followed the branch"
      },
      {
        "start": 438.72,
        "duration": 4.0,
        "text": "up and to the left will arrive at a"
      },
      {
        "start": 440.639,
        "duration": 3.601,
        "text": "vertex with an age of 16"
      },
      {
        "start": 442.72,
        "duration": 3.52,
        "text": "and as you see right above in the"
      },
      {
        "start": 444.24,
        "duration": 3.04,
        "text": "equation the total value in this"
      },
      {
        "start": 446.24,
        "duration": 4.64,
        "text": "traverser sac"
      },
      {
        "start": 447.28,
        "duration": 5.759,
        "text": "will be 17 plus 17 plus 16"
      },
      {
        "start": 450.88,
        "duration": 4.4,
        "text": "which is 50. that means that the total"
      },
      {
        "start": 453.039,
        "duration": 4.401,
        "text": "age of the friends observed on this path"
      },
      {
        "start": 455.28,
        "duration": 4.0,
        "text": "is 50. the traverser which moved up"
      },
      {
        "start": 457.44,
        "duration": 3.68,
        "text": "along the branch to the right will reach"
      },
      {
        "start": 459.28,
        "duration": 4.16,
        "text": "a vertex with an age of 17."
      },
      {
        "start": 461.12,
        "duration": 4.639,
        "text": "and as you see above that vertex the"
      },
      {
        "start": 463.44,
        "duration": 5.759,
        "text": "total value in the traversers sac"
      },
      {
        "start": 465.759,
        "duration": 5.601,
        "text": "will be 17 plus 17 plus 17"
      },
      {
        "start": 469.199,
        "duration": 4.4,
        "text": "which is 51. that means that the total"
      },
      {
        "start": 471.36,
        "duration": 3.6,
        "text": "age of the friends observed along this"
      },
      {
        "start": 473.599,
        "duration": 3.121,
        "text": "path is 51."
      },
      {
        "start": 474.96,
        "duration": 3.44,
        "text": "as you look around this full graph"
      },
      {
        "start": 476.72,
        "duration": 2.319,
        "text": "example you will see that there are a"
      },
      {
        "start": 478.4,
        "duration": 3.519,
        "text": "total of"
      },
      {
        "start": 479.039,
        "duration": 5.121,
        "text": "13 different paths and therefore 13"
      },
      {
        "start": 481.919,
        "duration": 4.0,
        "text": "total traversers that would be generated"
      },
      {
        "start": 484.16,
        "duration": 3.92,
        "text": "throughout this process given this"
      },
      {
        "start": 485.919,
        "duration": 2.56,
        "text": "visual example let's take a look at some"
      },
      {
        "start": 488.08,
        "duration": 3.04,
        "text": "code"
      },
      {
        "start": 488.479,
        "duration": 4.16,
        "text": "of how to do this with the sac step we"
      },
      {
        "start": 491.12,
        "duration": 2.479,
        "text": "have two different ways to write a"
      },
      {
        "start": 492.639,
        "duration": 3.201,
        "text": "gremlin traversal"
      },
      {
        "start": 493.599,
        "duration": 4.0,
        "text": "that does the very walk that we just"
      },
      {
        "start": 495.84,
        "duration": 3.359,
        "text": "stepped through on the last slide the"
      },
      {
        "start": 497.599,
        "duration": 3.6,
        "text": "first traversal here on the slide"
      },
      {
        "start": 499.199,
        "duration": 4.161,
        "text": "shows you how to do the aggregation as"
      },
      {
        "start": 501.199,
        "duration": 4.72,
        "text": "you walk through the graph to do this"
      },
      {
        "start": 503.36,
        "duration": 3.36,
        "text": "the first line of the traversal calls g"
      },
      {
        "start": 505.919,
        "duration": 3.201,
        "text": "with sac"
      },
      {
        "start": 506.72,
        "duration": 4.4,
        "text": "0 to create a sac for the traversal and"
      },
      {
        "start": 509.12,
        "duration": 3.76,
        "text": "initialize its value to 0."
      },
      {
        "start": 511.12,
        "duration": 3.039,
        "text": "on the second line we find our favorite"
      },
      {
        "start": 512.88,
        "duration": 3.36,
        "text": "user goodall u1"
      },
      {
        "start": 514.159,
        "duration": 4.24,
        "text": "starting at this user we add its age"
      },
      {
        "start": 516.24,
        "duration": 3.76,
        "text": "into the sac if you remember the visual"
      },
      {
        "start": 518.399,
        "duration": 4.481,
        "text": "mental walk we did on the previous"
      },
      {
        "start": 520.0,
        "duration": 5.2,
        "text": "slide at this point we have added 17"
      },
      {
        "start": 522.88,
        "duration": 3.28,
        "text": "into the sac value we do this by calling"
      },
      {
        "start": 525.2,
        "duration": 3.84,
        "text": "the sac"
      },
      {
        "start": 526.16,
        "duration": 3.44,
        "text": "step passing the sac step the sum update"
      },
      {
        "start": 529.04,
        "duration": 2.96,
        "text": "function"
      },
      {
        "start": 529.6,
        "duration": 3.44,
        "text": "and then indicated what values to sum"
      },
      {
        "start": 532.0,
        "duration": 3.36,
        "text": "with the subsequent"
      },
      {
        "start": 533.04,
        "duration": 3.28,
        "text": "buy modulator here we say to sum the"
      },
      {
        "start": 535.36,
        "duration": 3.36,
        "text": "value age"
      },
      {
        "start": 536.32,
        "duration": 4.4,
        "text": "into the sac for that traverser we want"
      },
      {
        "start": 538.72,
        "duration": 3.84,
        "text": "to do this process for our friends"
      },
      {
        "start": 540.72,
        "duration": 3.6,
        "text": "and the friends of our friends so to do"
      },
      {
        "start": 542.56,
        "duration": 3.839,
        "text": "this we will need the recursive"
      },
      {
        "start": 544.32,
        "duration": 4.16,
        "text": "step repeat to do this we will need the"
      },
      {
        "start": 546.399,
        "duration": 3.361,
        "text": "recursive step repeat and you see that"
      },
      {
        "start": 548.48,
        "duration": 2.72,
        "text": "at the end of the repeat step"
      },
      {
        "start": 549.76,
        "duration": 3.6,
        "text": "we say we only want to do this"
      },
      {
        "start": 551.2,
        "duration": 4.079,
        "text": "repetition two times meaning that we are"
      },
      {
        "start": 553.36,
        "duration": 3.44,
        "text": "only going to do some work for two"
      },
      {
        "start": 555.279,
        "duration": 2.321,
        "text": "neighborhoods out from our starting"
      },
      {
        "start": 556.8,
        "duration": 2.56,
        "text": "location"
      },
      {
        "start": 557.6,
        "duration": 4.4,
        "text": "inside the repeat step we tell the"
      },
      {
        "start": 559.36,
        "duration": 3.76,
        "text": "traverser to walk out the nose edge to"
      },
      {
        "start": 562.0,
        "duration": 3.279,
        "text": "the next vertex"
      },
      {
        "start": 563.12,
        "duration": 3.839,
        "text": "once at the adjacent vertex we call the"
      },
      {
        "start": 565.279,
        "duration": 3.601,
        "text": "sac step give it the sum"
      },
      {
        "start": 566.959,
        "duration": 3.841,
        "text": "update function and tell the traverser"
      },
      {
        "start": 568.88,
        "duration": 3.84,
        "text": "to add in the age value"
      },
      {
        "start": 570.8,
        "duration": 4.0,
        "text": "into the gremlin sac once we have done"
      },
      {
        "start": 572.72,
        "duration": 2.72,
        "text": "this for our friends and the friends of"
      },
      {
        "start": 574.8,
        "duration": 2.96,
        "text": "our friends"
      },
      {
        "start": 575.44,
        "duration": 3.68,
        "text": "we inspect the value in gremlin sac by"
      },
      {
        "start": 577.76,
        "duration": 3.6,
        "text": "calling the sac function"
      },
      {
        "start": 579.12,
        "duration": 3.279,
        "text": "and now we will see the full list of all"
      },
      {
        "start": 581.36,
        "duration": 3.76,
        "text": "13 values"
      },
      {
        "start": 582.399,
        "duration": 4.641,
        "text": "previously seen on the last slide the"
      },
      {
        "start": 585.12,
        "duration": 4.0,
        "text": "second example shows us how to do this"
      },
      {
        "start": 587.04,
        "duration": 4.08,
        "text": "without using the sac step however we"
      },
      {
        "start": 589.12,
        "duration": 4.0,
        "text": "will then need to use the path step so"
      },
      {
        "start": 591.12,
        "duration": 2.96,
        "text": "that we preserve the full history of"
      },
      {
        "start": 593.12,
        "duration": 3.68,
        "text": "every traverser"
      },
      {
        "start": 594.08,
        "duration": 4.0,
        "text": "so that we can have the ability to sum"
      },
      {
        "start": 596.8,
        "duration": 3.28,
        "text": "up all of the ages"
      },
      {
        "start": 598.08,
        "duration": 3.439,
        "text": "to do this we find our favorite user"
      },
      {
        "start": 600.08,
        "duration": 3.6,
        "text": "good old u1 next"
      },
      {
        "start": 601.519,
        "duration": 3.121,
        "text": "we use the repeat step to walk out the"
      },
      {
        "start": 603.68,
        "duration": 3.2,
        "text": "nose edges"
      },
      {
        "start": 604.64,
        "duration": 3.84,
        "text": "two times this is the same as before and"
      },
      {
        "start": 606.88,
        "duration": 2.32,
        "text": "it traverses out to the second"
      },
      {
        "start": 608.48,
        "duration": 2.96,
        "text": "neighborhood"
      },
      {
        "start": 609.2,
        "duration": 3.68,
        "text": "from our starting location lastly we"
      },
      {
        "start": 611.44,
        "duration": 3.12,
        "text": "call path and represent"
      },
      {
        "start": 612.88,
        "duration": 3.36,
        "text": "all of the objects in the traversal"
      },
      {
        "start": 614.56,
        "duration": 4.56,
        "text": "stream by their age then"
      },
      {
        "start": 616.24,
        "duration": 4.32,
        "text": "we apply a sum to each traverser locally"
      },
      {
        "start": 619.12,
        "duration": 3.279,
        "text": "the use of local here"
      },
      {
        "start": 620.56,
        "duration": 3.839,
        "text": "makes sure that each of the 13"
      },
      {
        "start": 622.399,
        "duration": 3.12,
        "text": "traversers sum up the ages in their"
      },
      {
        "start": 624.399,
        "duration": 3.281,
        "text": "individual path"
      },
      {
        "start": 625.519,
        "duration": 3.841,
        "text": "instead of summing up all of the ages"
      },
      {
        "start": 627.68,
        "duration": 4.159,
        "text": "observed across the full graph"
      },
      {
        "start": 629.36,
        "duration": 3.68,
        "text": "and as we hope we see the same 13 ages"
      },
      {
        "start": 631.839,
        "duration": 3.12,
        "text": "as before"
      },
      {
        "start": 633.04,
        "duration": 3.76,
        "text": "in this example we want to show you how"
      },
      {
        "start": 634.959,
        "duration": 3.681,
        "text": "to use the value in gremlin stack to"
      },
      {
        "start": 636.8,
        "duration": 3.599,
        "text": "make a decision within the traversal"
      },
      {
        "start": 638.64,
        "duration": 3.12,
        "text": "for example maybe we want to keep"
      },
      {
        "start": 640.399,
        "duration": 3.041,
        "text": "walking through the graph"
      },
      {
        "start": 641.76,
        "duration": 3.12,
        "text": "until we collect a specific amount of"
      },
      {
        "start": 643.44,
        "duration": 3.2,
        "text": "data so in this example"
      },
      {
        "start": 644.88,
        "duration": 4.399,
        "text": "we're going to find a path that starts"
      },
      {
        "start": 646.64,
        "duration": 4.16,
        "text": "with our user u1 and eventually adds up"
      },
      {
        "start": 649.279,
        "duration": 3.761,
        "text": "to a total of 200"
      },
      {
        "start": 650.8,
        "duration": 3.2,
        "text": "or greater to initialize the traversers"
      },
      {
        "start": 653.04,
        "duration": 3.919,
        "text": "to have a sac"
      },
      {
        "start": 654.0,
        "duration": 4.72,
        "text": "again we start with g dot with sac 0."
      },
      {
        "start": 656.959,
        "duration": 5.201,
        "text": "then we find user u1"
      },
      {
        "start": 658.72,
        "duration": 6.4,
        "text": "and some user u1's age into the sac"
      },
      {
        "start": 662.16,
        "duration": 5.2,
        "text": "next we see a repeat until pattern here"
      },
      {
        "start": 665.12,
        "duration": 2.719,
        "text": "we want to continue to walk out the nose"
      },
      {
        "start": 667.36,
        "duration": 2.56,
        "text": "edges"
      },
      {
        "start": 667.839,
        "duration": 3.201,
        "text": "and we want to continue summing up the"
      },
      {
        "start": 669.92,
        "duration": 3.84,
        "text": "observed ages"
      },
      {
        "start": 671.04,
        "duration": 3.2,
        "text": "in the sac we want to do this until the"
      },
      {
        "start": 673.76,
        "duration": 3.6,
        "text": "sac"
      },
      {
        "start": 674.24,
        "duration": 5.279,
        "text": "value is greater or equal to 200"
      },
      {
        "start": 677.36,
        "duration": 4.24,
        "text": "then we call the path step on the"
      },
      {
        "start": 679.519,
        "duration": 4.721,
        "text": "traversers that pass through"
      },
      {
        "start": 681.6,
        "duration": 3.04,
        "text": "the repeat until filter we inspect the"
      },
      {
        "start": 684.24,
        "duration": 2.719,
        "text": "path"
      },
      {
        "start": 684.64,
        "duration": 4.8,
        "text": "objects which are all users by their"
      },
      {
        "start": 686.959,
        "duration": 3.921,
        "text": "user id we limit the results to only one"
      },
      {
        "start": 689.44,
        "duration": 4.079,
        "text": "path and we unfold it"
      },
      {
        "start": 690.88,
        "duration": 3.68,
        "text": "here we see that the collection of u1"
      },
      {
        "start": 693.519,
        "duration": 4.32,
        "text": "u74"
      },
      {
        "start": 694.56,
        "duration": 6.64,
        "text": "u750 775 572"
      },
      {
        "start": 697.839,
        "duration": 6.401,
        "text": "and u277 have a total age of 204"
      },
      {
        "start": 701.2,
        "duration": 4.72,
        "text": "which is greater than 200 next let's dig"
      },
      {
        "start": 704.24,
        "duration": 3.36,
        "text": "into an example that's a little bit more"
      },
      {
        "start": 705.92,
        "duration": 3.359,
        "text": "complicated than keeping track of a"
      },
      {
        "start": 707.6,
        "duration": 4.32,
        "text": "number let's walk through the graph"
      },
      {
        "start": 709.279,
        "duration": 4.641,
        "text": "and instead keep track of an object like"
      },
      {
        "start": 711.92,
        "duration": 4.24,
        "text": "a map when we start using more complex"
      },
      {
        "start": 713.92,
        "duration": 4.32,
        "text": "data structures like maps or lists it's"
      },
      {
        "start": 716.16,
        "duration": 2.64,
        "text": "vital to make sure we define a split"
      },
      {
        "start": 718.24,
        "duration": 2.399,
        "text": "operator"
      },
      {
        "start": 718.8,
        "duration": 3.44,
        "text": "we need to define a split operator"
      },
      {
        "start": 720.639,
        "duration": 3.281,
        "text": "because the default operator"
      },
      {
        "start": 722.24,
        "duration": 3.279,
        "text": "is the identity operator and that"
      },
      {
        "start": 723.92,
        "duration": 2.56,
        "text": "probably will not give you the behavior"
      },
      {
        "start": 725.519,
        "duration": 2.241,
        "text": "that you expect"
      },
      {
        "start": 726.48,
        "duration": 2.96,
        "text": "in this example we want the same"
      },
      {
        "start": 727.76,
        "duration": 3.68,
        "text": "behavior that we have been using in the"
      },
      {
        "start": 729.44,
        "duration": 3.199,
        "text": "previous examples we want to create a"
      },
      {
        "start": 731.44,
        "duration": 3.76,
        "text": "copy of the sac"
      },
      {
        "start": 732.639,
        "duration": 3.521,
        "text": "and its value that is to be passed on to"
      },
      {
        "start": 735.2,
        "duration": 2.879,
        "text": "the traversers"
      },
      {
        "start": 736.16,
        "duration": 3.359,
        "text": "when they split then we want each"
      },
      {
        "start": 738.079,
        "duration": 3.601,
        "text": "traverser to have their own"
      },
      {
        "start": 739.519,
        "duration": 3.76,
        "text": "instance of the sac object and its value"
      },
      {
        "start": 741.68,
        "duration": 3.52,
        "text": "so that the traverser can update the"
      },
      {
        "start": 743.279,
        "duration": 3.921,
        "text": "object during its walk throughout the"
      },
      {
        "start": 745.2,
        "duration": 3.6,
        "text": "graph to do this with a complex data"
      },
      {
        "start": 747.2,
        "duration": 3.28,
        "text": "structure like a map we need to define"
      },
      {
        "start": 748.8,
        "duration": 3.52,
        "text": "the split operator to be clone"
      },
      {
        "start": 750.48,
        "duration": 3.52,
        "text": "as we see here at the beginning of this"
      },
      {
        "start": 752.32,
        "duration": 4.48,
        "text": "example using the clone"
      },
      {
        "start": 754.0,
        "duration": 4.959,
        "text": "split operator gives each traverser its"
      },
      {
        "start": 756.8,
        "duration": 4.159,
        "text": "own copy of the map otherwise"
      },
      {
        "start": 758.959,
        "duration": 3.601,
        "text": "without defining the split operator it"
      },
      {
        "start": 760.959,
        "duration": 3.281,
        "text": "would use the default behavior"
      },
      {
        "start": 762.56,
        "duration": 3.6,
        "text": "which is the identity function when"
      },
      {
        "start": 764.24,
        "duration": 3.36,
        "text": "using a more complex data structure like"
      },
      {
        "start": 766.16,
        "duration": 3.359,
        "text": "a map this would mean"
      },
      {
        "start": 767.6,
        "duration": 3.039,
        "text": "that each traverser would be updating"
      },
      {
        "start": 769.519,
        "duration": 3.201,
        "text": "and reading from"
      },
      {
        "start": 770.639,
        "duration": 4.081,
        "text": "the same global object through the"
      },
      {
        "start": 772.72,
        "duration": 2.559,
        "text": "traversers local reference to that"
      },
      {
        "start": 774.72,
        "duration": 2.16,
        "text": "object"
      },
      {
        "start": 775.279,
        "duration": 3.601,
        "text": "this is probably not the behavior that"
      },
      {
        "start": 776.88,
        "duration": 3.68,
        "text": "you would expect to initialize the sac"
      },
      {
        "start": 778.88,
        "duration": 3.84,
        "text": "function to be a map we call"
      },
      {
        "start": 780.56,
        "duration": 4.24,
        "text": "g dot with sac and instantiate the sac"
      },
      {
        "start": 782.72,
        "duration": 2.559,
        "text": "to be a map with the map notation seen"
      },
      {
        "start": 784.8,
        "duration": 2.08,
        "text": "here"
      },
      {
        "start": 785.279,
        "duration": 3.761,
        "text": "next we want to define the split"
      },
      {
        "start": 786.88,
        "duration": 4.32,
        "text": "function to be cloned this guarantees"
      },
      {
        "start": 789.04,
        "duration": 4.0,
        "text": "that each traverser will receive its own"
      },
      {
        "start": 791.2,
        "duration": 3.12,
        "text": "local copy of the object we want this"
      },
      {
        "start": 793.04,
        "duration": 3.76,
        "text": "object to be a map"
      },
      {
        "start": 794.32,
        "duration": 4.48,
        "text": "of users and their ages to do that we"
      },
      {
        "start": 796.8,
        "duration": 2.56,
        "text": "start by traversing to our favorite user"
      },
      {
        "start": 798.8,
        "duration": 2.4,
        "text": "u1"
      },
      {
        "start": 799.36,
        "duration": 3.52,
        "text": "on the second line we call the sac"
      },
      {
        "start": 801.2,
        "duration": 3.92,
        "text": "function to update the map in the"
      },
      {
        "start": 802.88,
        "duration": 5.199,
        "text": "traversers sac what we want to do"
      },
      {
        "start": 805.12,
        "duration": 5.44,
        "text": "is to create a key in the map that is u1"
      },
      {
        "start": 808.079,
        "duration": 5.121,
        "text": "and we want that value to be u1's age"
      },
      {
        "start": 810.56,
        "duration": 3.12,
        "text": "17. we can do that by creating a custom"
      },
      {
        "start": 813.2,
        "duration": 2.24,
        "text": "function"
      },
      {
        "start": 813.68,
        "duration": 3.2,
        "text": "this function is a lambda function that"
      },
      {
        "start": 815.44,
        "duration": 3.04,
        "text": "takes two parameters"
      },
      {
        "start": 816.88,
        "duration": 3.28,
        "text": "this function is a lambda function that"
      },
      {
        "start": 818.48,
        "duration": 3.84,
        "text": "takes two parameters the map"
      },
      {
        "start": 820.16,
        "duration": 4.08,
        "text": "and the user vertex these parameters are"
      },
      {
        "start": 822.32,
        "duration": 3.199,
        "text": "shown to the left of the arrow in the"
      },
      {
        "start": 824.24,
        "duration": 3.36,
        "text": "lambda function notation"
      },
      {
        "start": 825.519,
        "duration": 3.601,
        "text": "to the right of the arrow we define how"
      },
      {
        "start": 827.6,
        "duration": 3.52,
        "text": "we want to use those parameters"
      },
      {
        "start": 829.12,
        "duration": 4.24,
        "text": "we want the map to have a key and we"
      },
      {
        "start": 831.12,
        "duration": 4.48,
        "text": "want that key to be the user's id"
      },
      {
        "start": 833.36,
        "duration": 3.839,
        "text": "we want the value to be the user's age"
      },
      {
        "start": 835.6,
        "duration": 2.32,
        "text": "then we return the map into the"
      },
      {
        "start": 837.199,
        "duration": 2.961,
        "text": "traversers"
      },
      {
        "start": 837.92,
        "duration": 4.4,
        "text": "sac all of that was just for putting in"
      },
      {
        "start": 840.16,
        "duration": 3.919,
        "text": "the very first value of the map at this"
      },
      {
        "start": 842.32,
        "duration": 3.28,
        "text": "time if we stopped the traversal and"
      },
      {
        "start": 844.079,
        "duration": 4.801,
        "text": "inspected the map we would see"
      },
      {
        "start": 845.6,
        "duration": 5.28,
        "text": "u1 and 17. next we want to repeat the"
      },
      {
        "start": 848.88,
        "duration": 3.68,
        "text": "same process as before we want to"
      },
      {
        "start": 850.88,
        "duration": 4.0,
        "text": "traverse to u1's friends"
      },
      {
        "start": 852.56,
        "duration": 3.12,
        "text": "and then the friends of u1's friends"
      },
      {
        "start": 854.88,
        "duration": 2.72,
        "text": "along the way"
      },
      {
        "start": 855.68,
        "duration": 4.0,
        "text": "we want each traverser to collect the"
      },
      {
        "start": 857.6,
        "duration": 4.4,
        "text": "user id and that user's age"
      },
      {
        "start": 859.68,
        "duration": 3.04,
        "text": "and then insert that data into their sac"
      },
      {
        "start": 862.0,
        "duration": 3.04,
        "text": "we do this"
      },
      {
        "start": 862.72,
        "duration": 3.84,
        "text": "just as before with a repeat step with a"
      },
      {
        "start": 865.04,
        "duration": 3.84,
        "text": "limit on the number of times"
      },
      {
        "start": 866.56,
        "duration": 3.839,
        "text": "we only want to do this two times then"
      },
      {
        "start": 868.88,
        "duration": 4.0,
        "text": "inside of the repeat step"
      },
      {
        "start": 870.399,
        "duration": 3.921,
        "text": "we walk out the nose edges to get to"
      },
      {
        "start": 872.88,
        "duration": 3.6,
        "text": "another user vertex"
      },
      {
        "start": 874.32,
        "duration": 3.04,
        "text": "on that user vertex we want to update"
      },
      {
        "start": 876.48,
        "duration": 2.719,
        "text": "the traversers"
      },
      {
        "start": 877.36,
        "duration": 3.36,
        "text": "sac we do this update with a lambda"
      },
      {
        "start": 879.199,
        "duration": 3.601,
        "text": "function inside the sac"
      },
      {
        "start": 880.72,
        "duration": 4.64,
        "text": "call as we saw before we have two"
      },
      {
        "start": 882.8,
        "duration": 4.0,
        "text": "parameters the sax map and the object"
      },
      {
        "start": 885.36,
        "duration": 3.68,
        "text": "the traverser is currently on"
      },
      {
        "start": 886.8,
        "duration": 4.08,
        "text": "which is a user vertex we create a key"
      },
      {
        "start": 889.04,
        "duration": 4.4,
        "text": "in the map that is the user's id"
      },
      {
        "start": 890.88,
        "duration": 4.639,
        "text": "and the keys value is the user's age"
      },
      {
        "start": 893.44,
        "duration": 2.48,
        "text": "then we return the map to the traversers"
      },
      {
        "start": 895.519,
        "duration": 2.32,
        "text": "sac"
      },
      {
        "start": 895.92,
        "duration": 3.84,
        "text": "after repeating that process two times"
      },
      {
        "start": 897.839,
        "duration": 3.12,
        "text": "we want to see the object within the sac"
      },
      {
        "start": 899.76,
        "duration": 3.12,
        "text": "so we call the sac"
      },
      {
        "start": 900.959,
        "duration": 3.041,
        "text": "step to read the contents of the"
      },
      {
        "start": 902.88,
        "duration": 3.36,
        "text": "traversers sac"
      },
      {
        "start": 904.0,
        "duration": 3.92,
        "text": "we limit only one traverser and look at"
      },
      {
        "start": 906.24,
        "duration": 5.44,
        "text": "the results we see a map"
      },
      {
        "start": 907.92,
        "duration": 4.719,
        "text": "with u1 and its age of 17 u74 with an"
      },
      {
        "start": 911.68,
        "duration": 3.44,
        "text": "age of 15"
      },
      {
        "start": 912.639,
        "duration": 4.481,
        "text": "and u40 with an age of 12. while this"
      },
      {
        "start": 915.12,
        "duration": 3.12,
        "text": "was a pretty big example the main things"
      },
      {
        "start": 917.12,
        "duration": 3.92,
        "text": "to remember are"
      },
      {
        "start": 918.24,
        "duration": 5.279,
        "text": "first with split each traverser gets a"
      },
      {
        "start": 921.04,
        "duration": 4.96,
        "text": "copy of the starting or initialized map"
      },
      {
        "start": 923.519,
        "duration": 4.56,
        "text": "second the updates to that map are local"
      },
      {
        "start": 926.0,
        "duration": 4.8,
        "text": "to the individual traversers sac"
      },
      {
        "start": 928.079,
        "duration": 4.56,
        "text": "third with complex objects you probably"
      },
      {
        "start": 930.8,
        "duration": 3.599,
        "text": "want to define the split function to be"
      },
      {
        "start": 932.639,
        "duration": 3.361,
        "text": "cloned because without split"
      },
      {
        "start": 934.399,
        "duration": 4.24,
        "text": "the traversers would be updating a"
      },
      {
        "start": 936.0,
        "duration": 3.92,
        "text": "global object through a local reference"
      },
      {
        "start": 938.639,
        "duration": 3.521,
        "text": "now once we have instructed our"
      },
      {
        "start": 939.92,
        "duration": 3.76,
        "text": "traversers on how to split naturally we"
      },
      {
        "start": 942.16,
        "duration": 2.4,
        "text": "need to tell them how to merge in our"
      },
      {
        "start": 943.68,
        "duration": 2.88,
        "text": "last example"
      },
      {
        "start": 944.56,
        "duration": 3.92,
        "text": "we want to dig into the merge operator"
      },
      {
        "start": 946.56,
        "duration": 3.68,
        "text": "and how it enables bulking optimization"
      },
      {
        "start": 948.48,
        "duration": 2.719,
        "text": "for better performance before digging"
      },
      {
        "start": 950.24,
        "duration": 2.56,
        "text": "into this example"
      },
      {
        "start": 951.199,
        "duration": 3.041,
        "text": "it's important to clarify the difference"
      },
      {
        "start": 952.8,
        "duration": 2.88,
        "text": "between bulking and merging"
      },
      {
        "start": 954.24,
        "duration": 3.76,
        "text": "bulking is the word for combining"
      },
      {
        "start": 955.68,
        "duration": 4.24,
        "text": "traversers that reach the same object"
      },
      {
        "start": 958.0,
        "duration": 3.68,
        "text": "in a traversal you can picture this as"
      },
      {
        "start": 959.92,
        "duration": 3.52,
        "text": "10 gremlins running around"
      },
      {
        "start": 961.68,
        "duration": 3.68,
        "text": "and eventually arriving to the same"
      },
      {
        "start": 963.44,
        "duration": 3.92,
        "text": "vertex with bulking enabled"
      },
      {
        "start": 965.36,
        "duration": 3.76,
        "text": "the 10 gremlins are going to be combined"
      },
      {
        "start": 967.36,
        "duration": 3.839,
        "text": "into one larger gremlin"
      },
      {
        "start": 969.12,
        "duration": 3.44,
        "text": "with a bulk value of 10. bulking is"
      },
      {
        "start": 971.199,
        "duration": 2.161,
        "text": "something that you can do with any"
      },
      {
        "start": 972.56,
        "duration": 3.199,
        "text": "traversal"
      },
      {
        "start": 973.36,
        "duration": 4.32,
        "text": "not just the sac step conceptually"
      },
      {
        "start": 975.759,
        "duration": 4.0,
        "text": "bulking is very similar to merging"
      },
      {
        "start": 977.68,
        "duration": 3.04,
        "text": "however the word merging is reserved to"
      },
      {
        "start": 979.759,
        "duration": 3.041,
        "text": "an operation"
      },
      {
        "start": 980.72,
        "duration": 4.4,
        "text": "with the sac step when using gremlin"
      },
      {
        "start": 982.8,
        "duration": 4.56,
        "text": "sacs merging defines how the values in"
      },
      {
        "start": 985.12,
        "duration": 4.32,
        "text": "the traverser sack are to be combined or"
      },
      {
        "start": 987.36,
        "duration": 3.2,
        "text": "merged when two or more traversers are"
      },
      {
        "start": 989.44,
        "duration": 2.959,
        "text": "bulking together"
      },
      {
        "start": 990.56,
        "duration": 3.6,
        "text": "think of the same example where we had"
      },
      {
        "start": 992.399,
        "duration": 3.761,
        "text": "10 gremlins running around the graph"
      },
      {
        "start": 994.16,
        "duration": 4.16,
        "text": "and they all arrived to the same place"
      },
      {
        "start": 996.16,
        "duration": 3.44,
        "text": "if those gremlins all have sacks with"
      },
      {
        "start": 998.32,
        "duration": 2.879,
        "text": "objects or values"
      },
      {
        "start": 999.6,
        "duration": 3.52,
        "text": "we need to tell them how they are to"
      },
      {
        "start": 1001.199,
        "duration": 3.601,
        "text": "combine the data in their sacs"
      },
      {
        "start": 1003.12,
        "duration": 3.68,
        "text": "into one this is the process called"
      },
      {
        "start": 1004.8,
        "duration": 3.12,
        "text": "merging merging is something specific to"
      },
      {
        "start": 1006.8,
        "duration": 3.12,
        "text": "the sac operator"
      },
      {
        "start": 1007.92,
        "duration": 3.839,
        "text": "which tells the gremlin traversers what"
      },
      {
        "start": 1009.92,
        "duration": 3.68,
        "text": "to do with the values in the sac"
      },
      {
        "start": 1011.759,
        "duration": 3.041,
        "text": "when they are being bulked or combined"
      },
      {
        "start": 1013.6,
        "duration": 2.56,
        "text": "together"
      },
      {
        "start": 1014.8,
        "duration": 3.039,
        "text": "to illustrate the difference between"
      },
      {
        "start": 1016.16,
        "duration": 3.52,
        "text": "these concepts we are going to walk the"
      },
      {
        "start": 1017.839,
        "duration": 2.401,
        "text": "graph shown on the right part of this"
      },
      {
        "start": 1019.68,
        "duration": 2.48,
        "text": "slide"
      },
      {
        "start": 1020.24,
        "duration": 3.68,
        "text": "we're going to start at u1 at the top"
      },
      {
        "start": 1022.16,
        "duration": 2.24,
        "text": "and then we're going to walk down each"
      },
      {
        "start": 1023.92,
        "duration": 3.119,
        "text": "path"
      },
      {
        "start": 1024.4,
        "duration": 4.48,
        "text": "to get to u493 the first example does"
      },
      {
        "start": 1027.039,
        "duration": 2.4,
        "text": "not have a merge operator so we're going"
      },
      {
        "start": 1028.88,
        "duration": 3.039,
        "text": "to have"
      },
      {
        "start": 1029.439,
        "duration": 4.24,
        "text": "two traversers with data to inspect the"
      },
      {
        "start": 1031.919,
        "duration": 3.841,
        "text": "second example introduces a merge"
      },
      {
        "start": 1033.679,
        "duration": 3.52,
        "text": "operator the two traversers that arrive"
      },
      {
        "start": 1035.76,
        "duration": 3.439,
        "text": "at u493"
      },
      {
        "start": 1037.199,
        "duration": 3.521,
        "text": "are going to bulk together and merge"
      },
      {
        "start": 1039.199,
        "duration": 3.84,
        "text": "their data into one sac"
      },
      {
        "start": 1040.72,
        "duration": 3.599,
        "text": "the output will only have one traverser"
      },
      {
        "start": 1043.039,
        "duration": 3.121,
        "text": "to really dig into this"
      },
      {
        "start": 1044.319,
        "duration": 3.52,
        "text": "let's walk through the code in the first"
      },
      {
        "start": 1046.16,
        "duration": 3.759,
        "text": "example we start with g"
      },
      {
        "start": 1047.839,
        "duration": 4.641,
        "text": "dot with sac and initialize the value to"
      },
      {
        "start": 1049.919,
        "duration": 3.12,
        "text": "zero then we start our traversal at user"
      },
      {
        "start": 1052.48,
        "duration": 3.36,
        "text": "u1"
      },
      {
        "start": 1053.039,
        "duration": 3.841,
        "text": "we add user u1's age into the sac as we"
      },
      {
        "start": 1055.84,
        "duration": 3.44,
        "text": "have seen before"
      },
      {
        "start": 1056.88,
        "duration": 3.12,
        "text": "we repeat walking out the nose edges and"
      },
      {
        "start": 1059.28,
        "duration": 2.639,
        "text": "we add"
      },
      {
        "start": 1060.0,
        "duration": 3.2,
        "text": "up the edges of the vertices into the"
      },
      {
        "start": 1061.919,
        "duration": 4.0,
        "text": "sac along the way"
      },
      {
        "start": 1063.2,
        "duration": 3.28,
        "text": "we traverse three nose edges and reach"
      },
      {
        "start": 1065.919,
        "duration": 3.441,
        "text": "user"
      },
      {
        "start": 1066.48,
        "duration": 4.079,
        "text": "493 at the bottom of the image here we"
      },
      {
        "start": 1069.36,
        "duration": 3.199,
        "text": "call the sac function"
      },
      {
        "start": 1070.559,
        "duration": 3.601,
        "text": "and we see that we have two traversers"
      },
      {
        "start": 1072.559,
        "duration": 3.681,
        "text": "one traverser was 65"
      },
      {
        "start": 1074.16,
        "duration": 4.0,
        "text": "and the second traverser was 72. we"
      },
      {
        "start": 1076.24,
        "duration": 3.84,
        "text": "expect to see two traversers because we"
      },
      {
        "start": 1078.16,
        "duration": 3.44,
        "text": "did not define a merging operation and"
      },
      {
        "start": 1080.08,
        "duration": 2.88,
        "text": "so we saw each traverser"
      },
      {
        "start": 1081.6,
        "duration": 3.6,
        "text": "even though they ended on the same"
      },
      {
        "start": 1082.96,
        "duration": 4.4,
        "text": "result vertex in the second example we"
      },
      {
        "start": 1085.2,
        "duration": 2.96,
        "text": "want to define a merge operator we start"
      },
      {
        "start": 1087.36,
        "duration": 4.0,
        "text": "by saying"
      },
      {
        "start": 1088.16,
        "duration": 5.68,
        "text": "g dot with bulk false with sac 0"
      },
      {
        "start": 1091.36,
        "duration": 4.4,
        "text": "sum i'm going to cover what is occurring"
      },
      {
        "start": 1093.84,
        "duration": 2.48,
        "text": "with the initialization of with bulk"
      },
      {
        "start": 1095.76,
        "duration": 2.32,
        "text": "false"
      },
      {
        "start": 1096.32,
        "duration": 3.68,
        "text": "a little later the important part to"
      },
      {
        "start": 1098.08,
        "duration": 4.32,
        "text": "note here is the definition of the"
      },
      {
        "start": 1100.0,
        "duration": 4.48,
        "text": "merging operator within the with"
      },
      {
        "start": 1102.4,
        "duration": 3.6,
        "text": "sac statement we are indicating that the"
      },
      {
        "start": 1104.48,
        "duration": 3.76,
        "text": "merging operator here"
      },
      {
        "start": 1106.0,
        "duration": 3.679,
        "text": "will be sum that means when two"
      },
      {
        "start": 1108.24,
        "duration": 4.4,
        "text": "traversers need to bulk"
      },
      {
        "start": 1109.679,
        "duration": 5.201,
        "text": "or combine from two into one we will"
      },
      {
        "start": 1112.64,
        "duration": 2.72,
        "text": "merge the sac values by adding them up"
      },
      {
        "start": 1114.88,
        "duration": 2.4,
        "text": "next"
      },
      {
        "start": 1115.36,
        "duration": 4.8,
        "text": "we want to start our traversal at user"
      },
      {
        "start": 1117.28,
        "duration": 5.6,
        "text": "u1 and add u1's age into the sac"
      },
      {
        "start": 1120.16,
        "duration": 4.32,
        "text": "again we repeat this three times walking"
      },
      {
        "start": 1122.88,
        "duration": 3.919,
        "text": "out the nose edges"
      },
      {
        "start": 1124.48,
        "duration": 4.72,
        "text": "and adding the user's ages into the sac"
      },
      {
        "start": 1126.799,
        "duration": 4.721,
        "text": "once we have reached user 493"
      },
      {
        "start": 1129.2,
        "duration": 4.32,
        "text": "we inspect the value of the object in"
      },
      {
        "start": 1131.52,
        "duration": 3.84,
        "text": "the sac by calling the sac function"
      },
      {
        "start": 1133.52,
        "duration": 3.279,
        "text": "here because we had a merging function"
      },
      {
        "start": 1135.36,
        "duration": 4.0,
        "text": "we only see one value"
      },
      {
        "start": 1136.799,
        "duration": 4.401,
        "text": "which is 116. now if you look at the"
      },
      {
        "start": 1139.36,
        "duration": 5.92,
        "text": "path values from the last example"
      },
      {
        "start": 1141.2,
        "duration": 5.76,
        "text": "you'll see that 65 plus 72 is 137"
      },
      {
        "start": 1145.28,
        "duration": 3.759,
        "text": "however because we were using the"
      },
      {
        "start": 1146.96,
        "duration": 3.92,
        "text": "bulking optimization the two traversers"
      },
      {
        "start": 1149.039,
        "duration": 3.921,
        "text": "arrived at 493"
      },
      {
        "start": 1150.88,
        "duration": 4.159,
        "text": "bulked together and then added their sac"
      },
      {
        "start": 1152.96,
        "duration": 2.48,
        "text": "values this augmented the sac with the"
      },
      {
        "start": 1155.039,
        "duration": 3.921,
        "text": "age"
      },
      {
        "start": 1155.44,
        "duration": 6.88,
        "text": "from 493 only once this keeps you"
      },
      {
        "start": 1158.96,
        "duration": 6.64,
        "text": "from double counting user 493's age"
      },
      {
        "start": 1162.32,
        "duration": 5.84,
        "text": "into the sac now back to the with bulk"
      },
      {
        "start": 1165.6,
        "duration": 3.04,
        "text": "false initialization we used with bulk"
      },
      {
        "start": 1168.16,
        "duration": 2.32,
        "text": "false"
      },
      {
        "start": 1168.64,
        "duration": 3.2,
        "text": "so that we did not output the same"
      },
      {
        "start": 1170.48,
        "duration": 3.439,
        "text": "result multiple times"
      },
      {
        "start": 1171.84,
        "duration": 3.28,
        "text": "for the same traverser which had a bulk"
      },
      {
        "start": 1173.919,
        "duration": 3.441,
        "text": "value of greater than one"
      },
      {
        "start": 1175.12,
        "duration": 3.28,
        "text": "in other words with bulk only affects"
      },
      {
        "start": 1177.36,
        "duration": 3.76,
        "text": "output formatting"
      },
      {
        "start": 1178.4,
        "duration": 3.44,
        "text": "and not actual execution the bulk value"
      },
      {
        "start": 1181.12,
        "duration": 2.72,
        "text": "keeps track"
      },
      {
        "start": 1181.84,
        "duration": 3.199,
        "text": "of the total number of traversers that"
      },
      {
        "start": 1183.84,
        "duration": 3.04,
        "text": "are combined together"
      },
      {
        "start": 1185.039,
        "duration": 4.161,
        "text": "into the single traverser so that we"
      },
      {
        "start": 1186.88,
        "duration": 4.159,
        "text": "know how many had been removed"
      },
      {
        "start": 1189.2,
        "duration": 3.52,
        "text": "through the bulking optimization and"
      },
      {
        "start": 1191.039,
        "duration": 3.681,
        "text": "that is it for the sac traversal"
      },
      {
        "start": 1192.72,
        "duration": 3.68,
        "text": "bulking and merging i know that was a"
      },
      {
        "start": 1194.72,
        "duration": 3.839,
        "text": "significant amount of information"
      },
      {
        "start": 1196.4,
        "duration": 8.56,
        "text": "so give the exercise a try and we will"
      },
      {
        "start": 1198.559,
        "duration": 6.401,
        "text": "be here ready to dig into the next topic"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-15T22:27:24.901807+00:00"
}