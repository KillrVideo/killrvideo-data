{
  "video_id": "z8EpuqBU2WE",
  "title": "5 Minutes About Pulsar | Getting Started with the Cassandra Sink",
  "description": "In this video, we look at Apache Pulsar's Cassandra sink connector. Learn more about the Cassandra connector here: https://pulsar.apache.org/docs/next/io-connectors#cassandra. Get started with Pulsar today on DataStax Astra Streaming: https://astra.datastax.com/registerstreaming.\n\nApache Pulsar has many built-in sink connectors that give your clusters great power. As one of the leading cloud-native databases, Cassandra is a perfect fit to sink topic data with.\n\n00:00 - Introduction\n00:31 - Cassandra Sink\n05:22 - Keep learning about Pulsar\n\nIf you ❤️ Apache Pulsar, connect with us (we love it too):\nSubscribe: http://www.youtube.com/c/datastaxdevs?sub_confirmation=1 \nTwitter: https://twitter.com/datastaxdevs\nTwitch: https://www.twitch.tv/datastaxdevs\nTalk to the team directly: pulsarquestions@datastax.com\n\nAbout DataStax Developer:\nOn the DataStax Developers YouTube channel, you can find tutorials, workshops and much more to help you learn and stay updated with the latest information on Apache Pulsar.  Visit https://datastax.com/dev for more free learning resources.",
  "published_at": "2022-08-24T13:00:39Z",
  "thumbnail": "https://i.ytimg.com/vi/z8EpuqBU2WE/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "getting_started",
    "workshop",
    "cassandra",
    "tutorial",
    "database",
    "talk",
    "introduction",
    "astra",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=z8EpuqBU2WE",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "hello and welcome to five minutes about pulsar my name is ayman khalil i'm on the streaming team here at data stacks today i'm going to show you how to set up a cassandra sync for pulsar if you want to follow along and you don't have a deployment of pulser ready to go you can go to astra.datastax.com register streaming and get a free pulser instance up and running if you have any questions about today's video you can email us at pulsarquestions datastax.com that will reach the team at datastax we'll be happy to answer any questions you may have first let's see how the cassandra sync fits into the overall pulsar setup as you may already know pulsar is a messaging system that decouples producers and consumers the main construct used for sending and receiving messages is a topic pulsar users can write their own applications to interact with pulsar now pulsar doesn't live in vacuum it can be easily integrated with external systems such as file systems databases and other messaging systems thanks to the pulsar i o framework pulsar has a growing number of built-in connectors that integrate pulsar with external systems it also offers a well-defined interface which makes it easy to extend pulsar to work with additional systems there are two types of connectors in pulsar sources which read data from external systems and write it into pulsar topics and syncs which read data from pulsar topics and writes it to the outside world today i'm going to show you one example of the sync connector that writes data into cassandra db i'll be using a sample application to demonstrate the power of the cassandra syncs in this app there are three entities a publisher marketplace and the reader the publishers offer their books to the reader via the marketplace every time a reader buys a book from the marketplace the marketplace will pay a certain amount of money to the publisher called royalty here is how the pulsar setup looks like on the marketplace side every time a royalty is calculated it is packaged into a transaction message and sent over to a pulsar topic now to bring this data to life a cassandra sync is configured to read the data from the topic and dump it into cassandra so that the marketplace can run the cassandra query language to get insights from the data now to the fun part for this demo i'll be using the managed pulser offering from astro streaming and diminished cassandra offering from astrodb i've already created my stream and my database let's take a look at the cassandra table that we'll be using with the sync i've already created a table called book underscore transactions it has five columns the creation date the publisher name a unique id the calculated royalty and the transaction type if i query this table it will return an empty result for now now let's go to the streaming section and configure our sync first we have to create a topic this is where the royalty transactions will be sent we call it transactions go to the syncs tab create a new sync select the pulser namespace the sync will be created under the sync type is astrodb and give your sync a name now select the topic from which the sync will be reading this is the transactions topic we just created in the previous step in this section select the table the sync will be writing to select your database your key space and the table name now in order for the sync to be able to access the cassandra table we need to pass it a token i've already generated a token from the token management page copy the token and pass it to the sync as you can see the mapping section is now auto-populated it maps the pulser message fields to cassandra columns i'll go ahead and update the mapping for the id to read its value from the pulsar message key with that we are ready to create our sync once the sync is up and running we are ready to generate our transactions this is a simple java app that will send random transactions at 1 tps speed to the topic we created in pulsar each transaction is modeled as a simple module as you can see now the transactions are being generated now let's go back to our cassandra db and query our table this query will return the sum of royalties in a given day grouped by the publisher as you can see we have three publishers with their calculated royalties if we rerun the query again we get updated numbers because this is happening in real time and the java application is still sending transactions to the topic i hope you found this video useful if you did please click the like button that will make it easier for other people to find this video and grow the pulsar community if you have any questions or feedback you can leave a comment below thank you for watching",
    "segments": [
      {
        "start": 0.08,
        "duration": 3.839,
        "text": "hello and welcome to five minutes about"
      },
      {
        "start": 1.839,
        "duration": 4.161,
        "text": "pulsar my name is ayman khalil i'm on"
      },
      {
        "start": 3.919,
        "duration": 3.681,
        "text": "the streaming team here at data stacks"
      },
      {
        "start": 6.0,
        "duration": 3.84,
        "text": "today i'm going to show you how to set"
      },
      {
        "start": 7.6,
        "duration": 3.919,
        "text": "up a cassandra sync for pulsar"
      },
      {
        "start": 9.84,
        "duration": 3.44,
        "text": "if you want to follow along and you"
      },
      {
        "start": 11.519,
        "duration": 5.121,
        "text": "don't have a deployment of pulser ready"
      },
      {
        "start": 13.28,
        "duration": 5.6,
        "text": "to go you can go to astra.datastax.com"
      },
      {
        "start": 16.64,
        "duration": 4.24,
        "text": "register streaming and get a free pulser"
      },
      {
        "start": 18.88,
        "duration": 3.68,
        "text": "instance up and running"
      },
      {
        "start": 20.88,
        "duration": 3.52,
        "text": "if you have any questions about today's"
      },
      {
        "start": 22.56,
        "duration": 4.719,
        "text": "video you can email us at"
      },
      {
        "start": 24.4,
        "duration": 4.719,
        "text": "pulsarquestions datastax.com that will"
      },
      {
        "start": 27.279,
        "duration": 3.601,
        "text": "reach the team at datastax we'll be"
      },
      {
        "start": 29.119,
        "duration": 2.48,
        "text": "happy to answer any questions you may"
      },
      {
        "start": 30.88,
        "duration": 2.48,
        "text": "have"
      },
      {
        "start": 31.599,
        "duration": 4.241,
        "text": "first let's see how the cassandra sync"
      },
      {
        "start": 33.36,
        "duration": 3.84,
        "text": "fits into the overall pulsar setup as"
      },
      {
        "start": 35.84,
        "duration": 2.96,
        "text": "you may already know pulsar is a"
      },
      {
        "start": 37.2,
        "duration": 3.679,
        "text": "messaging system that decouples"
      },
      {
        "start": 38.8,
        "duration": 4.16,
        "text": "producers and consumers"
      },
      {
        "start": 40.879,
        "duration": 4.321,
        "text": "the main construct used for sending and"
      },
      {
        "start": 42.96,
        "duration": 3.919,
        "text": "receiving messages is a topic"
      },
      {
        "start": 45.2,
        "duration": 4.24,
        "text": "pulsar users can write their own"
      },
      {
        "start": 46.879,
        "duration": 4.961,
        "text": "applications to interact with pulsar"
      },
      {
        "start": 49.44,
        "duration": 4.32,
        "text": "now pulsar doesn't live in vacuum it can"
      },
      {
        "start": 51.84,
        "duration": 4.48,
        "text": "be easily integrated with external"
      },
      {
        "start": 53.76,
        "duration": 4.72,
        "text": "systems such as file systems databases"
      },
      {
        "start": 56.32,
        "duration": 4.079,
        "text": "and other messaging systems"
      },
      {
        "start": 58.48,
        "duration": 3.68,
        "text": "thanks to the pulsar i o framework"
      },
      {
        "start": 60.399,
        "duration": 4.08,
        "text": "pulsar has a growing number of built-in"
      },
      {
        "start": 62.16,
        "duration": 4.639,
        "text": "connectors that integrate pulsar with"
      },
      {
        "start": 64.479,
        "duration": 4.64,
        "text": "external systems it also offers a"
      },
      {
        "start": 66.799,
        "duration": 4.081,
        "text": "well-defined interface which makes it"
      },
      {
        "start": 69.119,
        "duration": 3.441,
        "text": "easy to extend pulsar to work with"
      },
      {
        "start": 70.88,
        "duration": 3.279,
        "text": "additional systems"
      },
      {
        "start": 72.56,
        "duration": 3.919,
        "text": "there are two types of connectors in"
      },
      {
        "start": 74.159,
        "duration": 4.161,
        "text": "pulsar sources which read data from"
      },
      {
        "start": 76.479,
        "duration": 3.921,
        "text": "external systems and write it into"
      },
      {
        "start": 78.32,
        "duration": 4.56,
        "text": "pulsar topics"
      },
      {
        "start": 80.4,
        "duration": 4.32,
        "text": "and syncs which read data from pulsar"
      },
      {
        "start": 82.88,
        "duration": 4.08,
        "text": "topics and writes it to the outside"
      },
      {
        "start": 84.72,
        "duration": 3.84,
        "text": "world today i'm going to show you one"
      },
      {
        "start": 86.96,
        "duration": 4.24,
        "text": "example of the sync connector that"
      },
      {
        "start": 88.56,
        "duration": 4.08,
        "text": "writes data into cassandra db i'll be"
      },
      {
        "start": 91.2,
        "duration": 3.12,
        "text": "using a sample application to"
      },
      {
        "start": 92.64,
        "duration": 2.56,
        "text": "demonstrate the power of the cassandra"
      },
      {
        "start": 94.32,
        "duration": 3.04,
        "text": "syncs"
      },
      {
        "start": 95.2,
        "duration": 5.68,
        "text": "in this app there are three entities a"
      },
      {
        "start": 97.36,
        "duration": 5.28,
        "text": "publisher marketplace and the reader"
      },
      {
        "start": 100.88,
        "duration": 4.559,
        "text": "the publishers offer their books to the"
      },
      {
        "start": 102.64,
        "duration": 4.64,
        "text": "reader via the marketplace"
      },
      {
        "start": 105.439,
        "duration": 3.281,
        "text": "every time a reader buys a book from the"
      },
      {
        "start": 107.28,
        "duration": 3.04,
        "text": "marketplace"
      },
      {
        "start": 108.72,
        "duration": 4.12,
        "text": "the marketplace will pay a certain"
      },
      {
        "start": 110.32,
        "duration": 4.479,
        "text": "amount of money to the publisher called"
      },
      {
        "start": 112.84,
        "duration": 3.8,
        "text": "royalty"
      },
      {
        "start": 114.799,
        "duration": 4.161,
        "text": "here is how the pulsar setup looks like"
      },
      {
        "start": 116.64,
        "duration": 4.32,
        "text": "on the marketplace side every time a"
      },
      {
        "start": 118.96,
        "duration": 4.24,
        "text": "royalty is calculated it is packaged"
      },
      {
        "start": 120.96,
        "duration": 3.92,
        "text": "into a transaction message and sent over"
      },
      {
        "start": 123.2,
        "duration": 3.36,
        "text": "to a pulsar topic"
      },
      {
        "start": 124.88,
        "duration": 3.76,
        "text": "now to bring this data to life a"
      },
      {
        "start": 126.56,
        "duration": 3.839,
        "text": "cassandra sync is configured to read the"
      },
      {
        "start": 128.64,
        "duration": 3.36,
        "text": "data from the topic and dump it into"
      },
      {
        "start": 130.399,
        "duration": 3.441,
        "text": "cassandra"
      },
      {
        "start": 132.0,
        "duration": 3.92,
        "text": "so that the marketplace can run the"
      },
      {
        "start": 133.84,
        "duration": 3.84,
        "text": "cassandra query language to get insights"
      },
      {
        "start": 135.92,
        "duration": 4.24,
        "text": "from the data"
      },
      {
        "start": 137.68,
        "duration": 4.24,
        "text": "now to the fun part for this demo i'll"
      },
      {
        "start": 140.16,
        "duration": 3.68,
        "text": "be using the managed pulser offering"
      },
      {
        "start": 141.92,
        "duration": 4.16,
        "text": "from astro streaming and diminished"
      },
      {
        "start": 143.84,
        "duration": 4.32,
        "text": "cassandra offering from astrodb"
      },
      {
        "start": 146.08,
        "duration": 4.64,
        "text": "i've already created my stream and my"
      },
      {
        "start": 148.16,
        "duration": 2.56,
        "text": "database"
      },
      {
        "start": 151.76,
        "duration": 4.0,
        "text": "let's take a look at the cassandra table"
      },
      {
        "start": 153.599,
        "duration": 4.401,
        "text": "that we'll be using with the sync"
      },
      {
        "start": 155.76,
        "duration": 4.72,
        "text": "i've already created a table called book"
      },
      {
        "start": 158.0,
        "duration": 4.879,
        "text": "underscore transactions"
      },
      {
        "start": 160.48,
        "duration": 5.2,
        "text": "it has five columns the creation date"
      },
      {
        "start": 162.879,
        "duration": 4.961,
        "text": "the publisher name a unique id the"
      },
      {
        "start": 165.68,
        "duration": 3.6,
        "text": "calculated royalty and the transaction"
      },
      {
        "start": 167.84,
        "duration": 3.679,
        "text": "type"
      },
      {
        "start": 169.28,
        "duration": 5.28,
        "text": "if i query this table it will return an"
      },
      {
        "start": 171.519,
        "duration": 3.041,
        "text": "empty result for now"
      },
      {
        "start": 175.84,
        "duration": 4.8,
        "text": "now let's go to the streaming section"
      },
      {
        "start": 177.44,
        "duration": 3.2,
        "text": "and configure our sync"
      },
      {
        "start": 182.56,
        "duration": 4.08,
        "text": "first we have to create a topic this is"
      },
      {
        "start": 184.72,
        "duration": 6.08,
        "text": "where the royalty transactions will be"
      },
      {
        "start": 186.64,
        "duration": 4.16,
        "text": "sent we call it transactions"
      },
      {
        "start": 191.92,
        "duration": 5.2,
        "text": "go to the syncs tab"
      },
      {
        "start": 194.239,
        "duration": 4.801,
        "text": "create a new sync"
      },
      {
        "start": 197.12,
        "duration": 4.56,
        "text": "select the pulser namespace the sync"
      },
      {
        "start": 199.04,
        "duration": 5.44,
        "text": "will be created under"
      },
      {
        "start": 201.68,
        "duration": 6.08,
        "text": "the sync type is astrodb"
      },
      {
        "start": 204.48,
        "duration": 3.28,
        "text": "and give your sync a name"
      },
      {
        "start": 209.84,
        "duration": 3.28,
        "text": "now select the topic from which the sync"
      },
      {
        "start": 211.76,
        "duration": 3.119,
        "text": "will be reading"
      },
      {
        "start": 213.12,
        "duration": 5.119,
        "text": "this is the transactions topic we just"
      },
      {
        "start": 214.879,
        "duration": 3.36,
        "text": "created in the previous step"
      },
      {
        "start": 220.64,
        "duration": 3.92,
        "text": "in this section select the table the"
      },
      {
        "start": 222.72,
        "duration": 3.92,
        "text": "sync will be writing to"
      },
      {
        "start": 224.56,
        "duration": 4.8,
        "text": "select your database your key space and"
      },
      {
        "start": 226.64,
        "duration": 2.72,
        "text": "the table name"
      },
      {
        "start": 229.519,
        "duration": 4.241,
        "text": "now in order for the sync to be able to"
      },
      {
        "start": 231.68,
        "duration": 3.919,
        "text": "access the cassandra table we need to"
      },
      {
        "start": 233.76,
        "duration": 3.759,
        "text": "pass it a token"
      },
      {
        "start": 235.599,
        "duration": 4.0,
        "text": "i've already generated a token from the"
      },
      {
        "start": 237.519,
        "duration": 4.0,
        "text": "token management page"
      },
      {
        "start": 239.599,
        "duration": 4.961,
        "text": "copy the token"
      },
      {
        "start": 241.519,
        "duration": 3.041,
        "text": "and pass it to the sync"
      },
      {
        "start": 245.519,
        "duration": 3.761,
        "text": "as you can see the mapping section is"
      },
      {
        "start": 247.439,
        "duration": 4.0,
        "text": "now auto-populated"
      },
      {
        "start": 249.28,
        "duration": 4.0,
        "text": "it maps the pulser message fields to"
      },
      {
        "start": 251.439,
        "duration": 3.921,
        "text": "cassandra columns"
      },
      {
        "start": 253.28,
        "duration": 4.32,
        "text": "i'll go ahead and update the mapping for"
      },
      {
        "start": 255.36,
        "duration": 4.879,
        "text": "the id to read its value from the pulsar"
      },
      {
        "start": 257.6,
        "duration": 2.639,
        "text": "message key"
      },
      {
        "start": 260.639,
        "duration": 4.0,
        "text": "with that we are ready to create our"
      },
      {
        "start": 262.4,
        "duration": 2.239,
        "text": "sync"
      },
      {
        "start": 265.44,
        "duration": 5.84,
        "text": "once the sync is up and running we are"
      },
      {
        "start": 267.6,
        "duration": 3.68,
        "text": "ready to generate our transactions"
      },
      {
        "start": 278.4,
        "duration": 4.64,
        "text": "this is a simple java app that will send"
      },
      {
        "start": 280.4,
        "duration": 6.0,
        "text": "random transactions at 1 tps speed to"
      },
      {
        "start": 283.04,
        "duration": 5.439,
        "text": "the topic we created in pulsar"
      },
      {
        "start": 286.4,
        "duration": 4.48,
        "text": "each transaction is modeled as a simple"
      },
      {
        "start": 288.479,
        "duration": 2.401,
        "text": "module"
      },
      {
        "start": 293.36,
        "duration": 3.92,
        "text": "as you can see now the transactions are"
      },
      {
        "start": 295.28,
        "duration": 4.0,
        "text": "being generated"
      },
      {
        "start": 297.28,
        "duration": 4.24,
        "text": "now let's go back to our cassandra db"
      },
      {
        "start": 299.28,
        "duration": 3.84,
        "text": "and query our table"
      },
      {
        "start": 301.52,
        "duration": 3.519,
        "text": "this query will return the sum of"
      },
      {
        "start": 303.12,
        "duration": 3.76,
        "text": "royalties in a given day grouped by the"
      },
      {
        "start": 305.039,
        "duration": 3.681,
        "text": "publisher"
      },
      {
        "start": 306.88,
        "duration": 4.159,
        "text": "as you can see we have three publishers"
      },
      {
        "start": 308.72,
        "duration": 4.96,
        "text": "with their calculated royalties if we"
      },
      {
        "start": 311.039,
        "duration": 4.561,
        "text": "rerun the query again"
      },
      {
        "start": 313.68,
        "duration": 3.76,
        "text": "we get updated numbers because this is"
      },
      {
        "start": 315.6,
        "duration": 3.12,
        "text": "happening in real time and the java"
      },
      {
        "start": 317.44,
        "duration": 4.56,
        "text": "application is still sending"
      },
      {
        "start": 318.72,
        "duration": 3.28,
        "text": "transactions to the topic"
      },
      {
        "start": 322.4,
        "duration": 4.4,
        "text": "i hope you found this video useful if"
      },
      {
        "start": 324.4,
        "duration": 4.0,
        "text": "you did please click the like button"
      },
      {
        "start": 326.8,
        "duration": 3.76,
        "text": "that will make it easier for other"
      },
      {
        "start": 328.4,
        "duration": 4.16,
        "text": "people to find this video and grow the"
      },
      {
        "start": 330.56,
        "duration": 4.0,
        "text": "pulsar community if you have any"
      },
      {
        "start": 332.56,
        "duration": 6.6,
        "text": "questions or feedback you can leave a"
      },
      {
        "start": 334.56,
        "duration": 4.6,
        "text": "comment below thank you for watching"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-15T18:45:11.556135+00:00"
}