{
  "video_id": "Dx6cqLCd93c",
  "title": "Reactive Programming with Cassandra | Ep. 93 Distributed Data Show",
  "description": "The new 2.0 version of the DataStax Enterprise Java Driver introduced some new patterns for accessing your data: reactive programming. In this episode, Alexandre explains the reactive APIs available in the new driver and the \"sweet spots\" for when to use them.\nHighlights:\n0:00 - Welcoming Alex back to the show to continue the conversation about new features in the DataStax Java Driver 4.0 for Cassandra.\n0:30 - When people talk about reactive programming in Java they are often talking about the Reactive Streams API which includes interfaces such as Publisher, Subscriber and Subscription. One major advantage is not having to manage threads and futures.\n2:55 - The 4.0 API contains operations such as Session.execReactive() which returns a ReactiveResultSet to which your application can register a subscription\n4:10 - The driver uses a custom implementation of the reactive APIs in order to avoid bringing in additional dependencies. The implementation passed the Reactive Streams compatibility tests (TCK).\n5:20 - The subscriber supports a backpressure feature - it does not requesting additional pages from the publisher if there are not resources to handle on the client.",
  "published_at": "2019-04-09T13:00:01Z",
  "thumbnail": "https://i.ytimg.com/vi/Dx6cqLCd93c/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "talk",
    "cassandra",
    "datastax",
    "distributed"
  ],
  "url": "https://www.youtube.com/watch?v=Dx6cqLCd93c",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "hi this is Sarah Declan van we are back here in Orlando with Alex - hi ILX and today we will dig into one of the most interesting feature of the new Java driver it's a reactive API from data stacks this is the distributed data show so first of all Alex could you tell me what is reactive and how is compared in front of a synchronous so well reactive programming the most general sense of the word it's just a programming paradigm that aims to create responsive and resilient systems so this is very vague right so people generally refer to reactive programming they actually mean the reactive streams API which is a sort of initiative that was made a couple of years ago to create a framework that allows you to create those kind of reactive systems so this API contains a few interfaces the most important ones are the publisher which is the component that will emit data in the system and then you have the subscriber which is the one that it will consume that data and then you have the subscription which is kind of the contract between those two guys and they talk through the subscription so this is basically what we understand by reactive programming and then you are asking on how this compares to asynchronous right so any reactive system is necessarily asynchronous so you've got all the benefits of asynchronous code like no blocking calls that kind of thing but you don't have the drawbacks why because actually the only thing you need to do in reactive programming is to describe what you want to do with your data but then when the data actually starts to flow actually everything is taken care for you so you don't need to manipulate threads you don't need to manipulate futures so it's much easier right and there is no storage there is no checkpoints all of this is hidden from you Wow and what kind of Hugh's case can you implement which just non-blocking streams of course there are use cases letlet i think that the most obvious use case is for example you already have an application that uses some portions of reactive code think about spring web floods for example it's it that's big new wet set the new spring released last year yes all about reactive UI exactly so it's becoming extremely popular so of course if your application already uses the spring web flux using the reactive api of the driver will be a perfect match for you other than that i would say that for example if your application is just manipulating any kind of data so reactive programming is also a good fit for you nice so how what what does look like a reactive api yeah so the the reactive api of the driver is actually the main entry point is a still DAC session the DAC session object so you will see that once you get a DNC session object there are new methods in there they're called execute reactive so when you call one of this methods what happens is that you're going to get back an object called reactive result set okay so what is a reactive result set actually this guy is a publisher so publisher is one of the interfaces that I was mentioning before so this guy is actually a publisher that will publish to you all the roles that he fetches from Cassandra so basically the way it works is that your code is going to act like a subscriber so you're going to take that also flatten it you are going to subscribe to it and as soon as the subscription stocks the driver will take care to send the query to Cassandra and how soon as it starts getting rose from Cassandra it will emit those rows to the subscribe yes I got it so now your code is only a consumer and you get a some event each time a new row is coming exactly you got it all nice yes so ratchet pattern is not new in the field do you use any existing framework and is existing tool to implement your own reactive driver actually no because we didn't want to add new dependencies to the driver we are cautious when it comes to you know adding new dependencies to a library like the driver so we actually implemented everything from scratch that said implementing up the publisher interface is really not trivial so to make sure that we did something really robust and performant we also made sure that our publisher implementation passes the tests that come with the API so if you go to the reactive streams API website they also have a TCK so a DES compatibility kit which is a series of tests that you can pass to ensure that your publisher actually is compliant all the requirement all there is some kind of standout the specification and to go so our store our publishers pass all the specifications and requirements so that's nice so I heard before that you dig into very hard concept like backpressure chance all right the consumer don't be overwhelmed but all the data coming from Cassandra that's it yes absolutely so let's let's define backpressure so indeed in reactive systems we want to have a very tight control over the data flow so there is this mechanism called back pressure and what back pressure is is that basically the subscriber can tell the publisher hey you are going too fast for me I cannot handle all these items so please slow down and the way we do this with the driver is that we the driver will only fetch the next page if there is demand from the subscriber so it's absolutely impossible to blow up memory by fetching too many pages in case the subscriber is too slow see see this is what we mean when your code is a consumer you know if it cannot cause um everything that it with weights correct okay thank you thank you very much farming business today and see you next time for another episode you [Music]",
    "segments": [
      {
        "start": 0.05,
        "duration": 6.16,
        "text": "hi this is Sarah Declan van we are back"
      },
      {
        "start": 3.12,
        "duration": 5.01,
        "text": "here in Orlando with Alex - hi ILX and"
      },
      {
        "start": 6.21,
        "duration": 3.69,
        "text": "today we will dig into one of the most"
      },
      {
        "start": 8.13,
        "duration": 5.46,
        "text": "interesting feature of the new Java"
      },
      {
        "start": 9.9,
        "duration": 7.639,
        "text": "driver it's a reactive API from data"
      },
      {
        "start": 13.59,
        "duration": 7.019,
        "text": "stacks this is the distributed data show"
      },
      {
        "start": 17.539,
        "duration": 6.691,
        "text": "so first of all Alex could you tell me"
      },
      {
        "start": 20.609,
        "duration": 6.711,
        "text": "what is reactive and how is compared"
      },
      {
        "start": 24.23,
        "duration": 6.369,
        "text": "in front of a synchronous"
      },
      {
        "start": 27.32,
        "duration": 6.63,
        "text": "so well reactive programming the most"
      },
      {
        "start": 30.599,
        "duration": 6.261,
        "text": "general sense of the word it's just a"
      },
      {
        "start": 33.95,
        "duration": 6.19,
        "text": "programming paradigm that aims to create"
      },
      {
        "start": 36.86,
        "duration": 5.23,
        "text": "responsive and resilient systems so this"
      },
      {
        "start": 40.14,
        "duration": 4.59,
        "text": "is very vague right so people generally"
      },
      {
        "start": 42.09,
        "duration": 5.399,
        "text": "refer to reactive programming they"
      },
      {
        "start": 44.73,
        "duration": 6.599,
        "text": "actually mean the reactive streams API"
      },
      {
        "start": 47.489,
        "duration": 6.271,
        "text": "which is a sort of initiative that was"
      },
      {
        "start": 51.329,
        "duration": 4.561,
        "text": "made a couple of years ago to create a"
      },
      {
        "start": 53.76,
        "duration": 4.709,
        "text": "framework that allows you to create"
      },
      {
        "start": 55.89,
        "duration": 5.55,
        "text": "those kind of reactive systems so this"
      },
      {
        "start": 58.469,
        "duration": 5.311,
        "text": "API contains a few interfaces the most"
      },
      {
        "start": 61.44,
        "duration": 4.499,
        "text": "important ones are the publisher which"
      },
      {
        "start": 63.78,
        "duration": 3.6,
        "text": "is the component that will emit data in"
      },
      {
        "start": 65.939,
        "duration": 3.481,
        "text": "the system and then you have the"
      },
      {
        "start": 67.38,
        "duration": 4.65,
        "text": "subscriber which is the one that it will"
      },
      {
        "start": 69.42,
        "duration": 4.17,
        "text": "consume that data and then you have the"
      },
      {
        "start": 72.03,
        "duration": 4.199,
        "text": "subscription which is kind of the"
      },
      {
        "start": 73.59,
        "duration": 6.48,
        "text": "contract between those two guys and they"
      },
      {
        "start": 76.229,
        "duration": 6.661,
        "text": "talk through the subscription so this is"
      },
      {
        "start": 80.07,
        "duration": 4.86,
        "text": "basically what we understand by reactive"
      },
      {
        "start": 82.89,
        "duration": 4.47,
        "text": "programming and then you are asking on"
      },
      {
        "start": 84.93,
        "duration": 3.53,
        "text": "how this compares to asynchronous right"
      },
      {
        "start": 87.36,
        "duration": 4.16,
        "text": "so"
      },
      {
        "start": 88.46,
        "duration": 6.04,
        "text": "any reactive system is necessarily"
      },
      {
        "start": 91.52,
        "duration": 6.22,
        "text": "asynchronous so you've got all the"
      },
      {
        "start": 94.5,
        "duration": 5.759,
        "text": "benefits of asynchronous code like no"
      },
      {
        "start": 97.74,
        "duration": 5.43,
        "text": "blocking calls that kind of thing but"
      },
      {
        "start": 100.259,
        "duration": 4.771,
        "text": "you don't have the drawbacks why because"
      },
      {
        "start": 103.17,
        "duration": 4.47,
        "text": "actually the only thing you need to do"
      },
      {
        "start": 105.03,
        "duration": 5.01,
        "text": "in reactive programming is to describe"
      },
      {
        "start": 107.64,
        "duration": 4.68,
        "text": "what you want to do with your data but"
      },
      {
        "start": 110.04,
        "duration": 4.649,
        "text": "then when the data actually starts to"
      },
      {
        "start": 112.32,
        "duration": 3.99,
        "text": "flow actually everything is taken care"
      },
      {
        "start": 114.689,
        "duration": 3.241,
        "text": "for you so you don't need to manipulate"
      },
      {
        "start": 116.31,
        "duration": 4.32,
        "text": "threads you don't need to manipulate"
      },
      {
        "start": 117.93,
        "duration": 4.469,
        "text": "futures so it's much easier right and"
      },
      {
        "start": 120.63,
        "duration": 4.199,
        "text": "there is no storage there is no"
      },
      {
        "start": 122.399,
        "duration": 5.73,
        "text": "checkpoints all of this is hidden from"
      },
      {
        "start": 124.829,
        "duration": 6.05,
        "text": "you Wow and what kind of Hugh's case can"
      },
      {
        "start": 128.129,
        "duration": 5.97,
        "text": "you implement which just non-blocking"
      },
      {
        "start": 130.879,
        "duration": 5.801,
        "text": "streams of course there are"
      },
      {
        "start": 134.099,
        "duration": 4.95,
        "text": "use cases letlet i think that the most"
      },
      {
        "start": 136.68,
        "duration": 4.41,
        "text": "obvious use case is for example you"
      },
      {
        "start": 139.049,
        "duration": 4.53,
        "text": "already have an application that uses"
      },
      {
        "start": 141.09,
        "duration": 4.86,
        "text": "some portions of reactive code think"
      },
      {
        "start": 143.579,
        "duration": 4.74,
        "text": "about spring web floods for example it's"
      },
      {
        "start": 145.95,
        "duration": 4.319,
        "text": "it that's big new wet set the new spring"
      },
      {
        "start": 148.319,
        "duration": 4.831,
        "text": "released last year yes all about"
      },
      {
        "start": 150.269,
        "duration": 5.431,
        "text": "reactive UI exactly so it's becoming"
      },
      {
        "start": 153.15,
        "duration": 4.77,
        "text": "extremely popular so of course if your"
      },
      {
        "start": 155.7,
        "duration": 5.61,
        "text": "application already uses the spring web"
      },
      {
        "start": 157.92,
        "duration": 5.489,
        "text": "flux using the reactive api of the"
      },
      {
        "start": 161.31,
        "duration": 4.14,
        "text": "driver will be a perfect match for you"
      },
      {
        "start": 163.409,
        "duration": 3.75,
        "text": "other than that i would say that for"
      },
      {
        "start": 165.45,
        "duration": 3.869,
        "text": "example if your application is just"
      },
      {
        "start": 167.159,
        "duration": 4.351,
        "text": "manipulating any kind of data so"
      },
      {
        "start": 169.319,
        "duration": 6.301,
        "text": "reactive programming is also a good fit"
      },
      {
        "start": 171.51,
        "duration": 7.47,
        "text": "for you nice so how what what does look"
      },
      {
        "start": 175.62,
        "duration": 6.0,
        "text": "like a reactive api yeah so the the"
      },
      {
        "start": 178.98,
        "duration": 5.879,
        "text": "reactive api of the driver is actually"
      },
      {
        "start": 181.62,
        "duration": 5.55,
        "text": "the main entry point is a still DAC"
      },
      {
        "start": 184.859,
        "duration": 4.71,
        "text": "session the DAC session object so you"
      },
      {
        "start": 187.17,
        "duration": 4.95,
        "text": "will see that once you get a DNC session"
      },
      {
        "start": 189.569,
        "duration": 6.211,
        "text": "object there are new methods in there"
      },
      {
        "start": 192.12,
        "duration": 5.22,
        "text": "they're called execute reactive so when"
      },
      {
        "start": 195.78,
        "duration": 3.48,
        "text": "you call one of this methods what"
      },
      {
        "start": 197.34,
        "duration": 5.25,
        "text": "happens is that you're going to get back"
      },
      {
        "start": 199.26,
        "duration": 6.479,
        "text": "an object called reactive result set"
      },
      {
        "start": 202.59,
        "duration": 6.0,
        "text": "okay so what is a reactive result set"
      },
      {
        "start": 205.739,
        "duration": 4.801,
        "text": "actually this guy is a publisher so"
      },
      {
        "start": 208.59,
        "duration": 4.019,
        "text": "publisher is one of the interfaces that"
      },
      {
        "start": 210.54,
        "duration": 3.96,
        "text": "I was mentioning before so this guy is"
      },
      {
        "start": 212.609,
        "duration": 4.44,
        "text": "actually a publisher that will publish"
      },
      {
        "start": 214.5,
        "duration": 5.01,
        "text": "to you all the roles that he fetches"
      },
      {
        "start": 217.049,
        "duration": 5.19,
        "text": "from Cassandra so basically the way it"
      },
      {
        "start": 219.51,
        "duration": 5.069,
        "text": "works is that your code is going to act"
      },
      {
        "start": 222.239,
        "duration": 4.68,
        "text": "like a subscriber so you're going to"
      },
      {
        "start": 224.579,
        "duration": 5.041,
        "text": "take that also flatten it you are going"
      },
      {
        "start": 226.919,
        "duration": 4.861,
        "text": "to subscribe to it and as soon as the"
      },
      {
        "start": 229.62,
        "duration": 4.619,
        "text": "subscription stocks the driver will take"
      },
      {
        "start": 231.78,
        "duration": 4.949,
        "text": "care to send the query to Cassandra and"
      },
      {
        "start": 234.239,
        "duration": 5.25,
        "text": "how soon as it starts getting rose from"
      },
      {
        "start": 236.729,
        "duration": 5.1,
        "text": "Cassandra it will emit those rows to the"
      },
      {
        "start": 239.489,
        "duration": 5.46,
        "text": "subscribe yes I got it so now your code"
      },
      {
        "start": 241.829,
        "duration": 5.19,
        "text": "is only a consumer and you get a some"
      },
      {
        "start": 244.949,
        "duration": 5.991,
        "text": "event each time a new row is coming"
      },
      {
        "start": 247.019,
        "duration": 6.96,
        "text": "exactly you got it all nice yes so"
      },
      {
        "start": 250.94,
        "duration": 6.13,
        "text": "ratchet pattern is not new in the field"
      },
      {
        "start": 253.979,
        "duration": 4.801,
        "text": "do you use any existing framework and is"
      },
      {
        "start": 257.07,
        "duration": 5.13,
        "text": "existing tool to implement your own"
      },
      {
        "start": 258.78,
        "duration": 5.37,
        "text": "reactive driver actually no because we"
      },
      {
        "start": 262.2,
        "duration": 5.24,
        "text": "didn't want to add new dependencies to"
      },
      {
        "start": 264.15,
        "duration": 5.359,
        "text": "the driver we are cautious when it comes"
      },
      {
        "start": 267.44,
        "duration": 3.81,
        "text": "to you know adding new dependencies to a"
      },
      {
        "start": 269.509,
        "duration": 4.951,
        "text": "library like the driver so we actually"
      },
      {
        "start": 271.25,
        "duration": 6.18,
        "text": "implemented everything from scratch"
      },
      {
        "start": 274.46,
        "duration": 5.639,
        "text": "that said implementing up the publisher"
      },
      {
        "start": 277.43,
        "duration": 4.709,
        "text": "interface is really not trivial so to"
      },
      {
        "start": 280.099,
        "duration": 5.551,
        "text": "make sure that we did something really"
      },
      {
        "start": 282.139,
        "duration": 6.721,
        "text": "robust and performant we also made sure"
      },
      {
        "start": 285.65,
        "duration": 6.299,
        "text": "that our publisher implementation passes"
      },
      {
        "start": 288.86,
        "duration": 4.85,
        "text": "the tests that come with the API so if"
      },
      {
        "start": 291.949,
        "duration": 5.25,
        "text": "you go to the reactive streams API"
      },
      {
        "start": 293.71,
        "duration": 5.829,
        "text": "website they also have a TCK so a DES"
      },
      {
        "start": 297.199,
        "duration": 4.801,
        "text": "compatibility kit which is a series of"
      },
      {
        "start": 299.539,
        "duration": 5.821,
        "text": "tests that you can pass to ensure that"
      },
      {
        "start": 302.0,
        "duration": 4.949,
        "text": "your publisher actually is compliant all"
      },
      {
        "start": 305.36,
        "duration": 4.02,
        "text": "the requirement all there is some kind"
      },
      {
        "start": 306.949,
        "duration": 5.28,
        "text": "of standout the specification and to go"
      },
      {
        "start": 309.38,
        "duration": 4.89,
        "text": "so our store our publishers pass all the"
      },
      {
        "start": 312.229,
        "duration": 6.06,
        "text": "specifications and requirements so"
      },
      {
        "start": 314.27,
        "duration": 6.78,
        "text": "that's nice so I heard before that you"
      },
      {
        "start": 318.289,
        "duration": 4.861,
        "text": "dig into very hard concept like"
      },
      {
        "start": 321.05,
        "duration": 5.399,
        "text": "backpressure chance all right the"
      },
      {
        "start": 323.15,
        "duration": 5.579,
        "text": "consumer don't be overwhelmed but all"
      },
      {
        "start": 326.449,
        "duration": 4.62,
        "text": "the data coming from Cassandra that's it"
      },
      {
        "start": 328.729,
        "duration": 4.47,
        "text": "yes absolutely so let's let's define"
      },
      {
        "start": 331.069,
        "duration": 4.231,
        "text": "backpressure so indeed in reactive"
      },
      {
        "start": 333.199,
        "duration": 5.791,
        "text": "systems we want to have a very tight"
      },
      {
        "start": 335.3,
        "duration": 6.209,
        "text": "control over the data flow so there is"
      },
      {
        "start": 338.99,
        "duration": 4.59,
        "text": "this mechanism called back pressure and"
      },
      {
        "start": 341.509,
        "duration": 5.34,
        "text": "what back pressure is is that basically"
      },
      {
        "start": 343.58,
        "duration": 5.519,
        "text": "the subscriber can tell the publisher"
      },
      {
        "start": 346.849,
        "duration": 4.32,
        "text": "hey you are going too fast for me I"
      },
      {
        "start": 349.099,
        "duration": 5.22,
        "text": "cannot handle all these items so please"
      },
      {
        "start": 351.169,
        "duration": 5.641,
        "text": "slow down and the way we do this with"
      },
      {
        "start": 354.319,
        "duration": 5.28,
        "text": "the driver is that we the driver will"
      },
      {
        "start": 356.81,
        "duration": 4.829,
        "text": "only fetch the next page if there is"
      },
      {
        "start": 359.599,
        "duration": 4.38,
        "text": "demand from the subscriber so it's"
      },
      {
        "start": 361.639,
        "duration": 5.551,
        "text": "absolutely impossible to blow up memory"
      },
      {
        "start": 363.979,
        "duration": 6.12,
        "text": "by fetching too many pages in case the"
      },
      {
        "start": 367.19,
        "duration": 4.65,
        "text": "subscriber is too slow see see this is"
      },
      {
        "start": 370.099,
        "duration": 4.231,
        "text": "what we mean when your code is a"
      },
      {
        "start": 371.84,
        "duration": 4.56,
        "text": "consumer you know if it cannot cause um"
      },
      {
        "start": 374.33,
        "duration": 4.17,
        "text": "everything that it with weights correct"
      },
      {
        "start": 376.4,
        "duration": 6.06,
        "text": "okay thank you thank you very much"
      },
      {
        "start": 378.5,
        "duration": 5.94,
        "text": "farming business today and see you next"
      },
      {
        "start": 382.46,
        "duration": 4.04,
        "text": "time for another episode"
      },
      {
        "start": 384.44,
        "duration": 2.06,
        "text": "you"
      },
      {
        "start": 388.14,
        "duration": 3.65,
        "text": "[Music]"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T05:09:58.241031+00:00"
}