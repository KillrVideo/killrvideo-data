{
  "video_id": "yv7jtIVYfOE",
  "title": "DS330.26 Statistical Traversals | DataStax Enterprise 6 Graph",
  "description": "#DataStaxAcademy #DS330\nDS330.26 Statistical Traversals\nWIth a statistical traversal, we move around the graph and collect statistics about the structure or properties in some way. We are computing aggregates or some kind of analysis that will summarize what is in the graph. In this unit, you will learn about statistical traversals.\n\nLEARN FOR FREE at https://academy.datastax.com -- access all the FREE complete courses, tutorials, and hands-on exercises.\n\nASK QUESTIONS at https://community.datastax.com -- where experts from DataStax & the Apache Cassandra community share their expertise everyday.",
  "published_at": "2020-08-16T01:35:00Z",
  "thumbnail": "https://i.ytimg.com/vi/yv7jtIVYfOE/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "cassandra",
    "datastax",
    "tutorial",
    "apache_cassandra"
  ],
  "url": "https://www.youtube.com/watch?v=yv7jtIVYfOE",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] in a statistical traversal we are going to move around the graph and collect statistics about the structure or properties in some way we are computing aggregates or some kind of analysis that will summarize what is in the graph so instead of returning a subgraph or a collection of vertices or edges what the statistical traversal is doing is probably returning a scalar or collection of numbers that describe the statistics in the graph you can see in this example that we are counting the different colors of vertices one is green two are orange and four the vertices are kind of that dark teal this could be the result of a real statistical traversal of course any new traversal type will give us some new steps let's look at the steps for doing some simple aggregates we have count sum mean min and max and all of those things do about what you would expect them to do they will count things calculate an average find the min or the max now for each one we can optionally give them a scope by default the scope is going to be global but we can also ask for it to be local the default global scope will apply to aggregation of the entire stream the local scope will apply to the aggregation to each collection type object in the individual traversal you may want to provide an aggregation function of your own where none of the trivial mean min max or things really fit the bill for this there's fold now you can call fold and you can give it an initial value and then a function that will be applied on all of the objects in the traversal stream fold is best explained in an example that is coming up in a little bit there is also an inverse of fold called unfold now with an aggregation like sum there is no way that you can unsum numbers but potentially we are able to unfold after we have folded when we are aggregating it is pretty common for us to also group group basically creates a map of objects that organizes from the traversal stream into groups based on some known characteristics of those objects coming in now we can name the group that is the optional map label if we want to be able to refer to the map later on but much more importantly is the modulator by we are usually grouping by some particular thing we are grouping by age or gender or director or something else so the typical use is group and then by with the category we want to group by now the by modulator here is very important calling the bi modulator once will indicate what we want to group on for example age directors etc the second time you call the bimodulator you are indicating how you want to represent each object in the group so you may want to pick out some property in the object and use that property to represent the object in the map that group is creating now the distinction between those two calls with the buy step is very important and an example will go a long way in making that make sense if the purpose of grouping is simply to count then we will want to use the group count step if you want to group by age and then count up the people who have various ages you will want to say group count by age it is more efficient and more expressive to use this step let's look at some examples as always we are using our killer video graph schema we have movies that belong to genres and we have users who rate movies users also know other users we also have other people in our graph like actors directors composers and screenwriters who are related to the movies let's see what we can do with the statistical traversals with our sample data in this schema let's start with the basics let's count some vertices and then count some edges we see 10 797 vertices in this graph and 69 054 edges in the sample graph data we can be a bit more specific and we can count only those vertices with our user label which there are 1100 of those and we see that there are 3500 edges with the nose label next let's calculate some statistical values about the properties we have on the vertices in our graph first look at all of the vertices labeled users get their age and calculate their average age we see here that the youngest user is 12 and the oldest user is 25. we can keep going with some more examples that show some simple analysis let's get all of the movie vertices get their duration property and add it up we have 106 358 minutes worth of movies in the killer video data set now we mentioned fold before so here is an example that uses fold we are using fold to do the same computation as the sum step just so that there is an easy function to wrap your mind around now the call to fold gives you a seed value of zero when you're trying to do a sum zero is likely the seed value you would like to start with next we pass it a function and we use the closure syntax from the groovy language that function takes two parameters we are naming them x and y that is the stuff to the left of the arrow to the right of the arrow is the body of the function this is a pretty trivial function it's just adding x and y then that value is returned from the closure now it is important to note that functions can be much more complex we can put arbitrary code to the right of that arrow to do more complex things now if we have the name of the method you can also pass that directly into the fold step you give it a seed value of 0 and then pass the name of the method sum we are passing a native groovy method there but it could be some other closure identifier that we are passing in we could define a function elsewhere and pass it into the traversal if it's a more convenient way to factor our code now this is a pretty trivial example but if you have many lines of code for your function you might not want to put that in line inside your closure in the middle of your traversal this gives us a cleaner way to factor our code when the need arises so this next example is showing you three ways to answer the question how long will it take to watch all of our movies and our testing data so all three of the examples on this screen are showing you an answer or a way to determine the same question how long will it take to watch all of our movies and our test data fun fact 106 000 minutes is about one month of time so if you're really looking for some binge watching we have some movies for you in the next example what we would like to do is calculate the average age of the men and the women separately who use killer video so we will get all of the user vertices and we will group them by the gender property that is the first three lines all of the users and group them by gender the second call to the bi modulator where it says by age means in the resulting map i want to represent the values by that property if we had just grouped by gender we would get a map with two keys one key is m and one key would be f and the values would be the whole user vertices that whole vertex would be stored in the value here we are saying that we know we want to simplify that we just want the ages here we want the collection of ages for the m key and then a collection of ages for the f key and that is what we see in the sample output the average age of women who use killer video is 30.56 and the average age of men is 32.01 next suppose we want to find the number of different kinds of vertices in the different kinds of edges in this graph we will start by getting all of the vertices and simply group counting them by label we see that there are four labels that show up in our graph there are movies people genres and users and you can see the counts for each one of those giving us a distribution of vertex labels for this sample graph next we will group count the edges by their label we will look at all of the unique edge labels in this graph put them into groups and count them there are 10 678 actors 48 094 ratings and so forth and as you look at these numbers you might see things like there are 10 678 actors but only 8 759 people but actor is an edge label so it doesn't really refer to a person doing acting in reality one person can be an actor in more than one movie so one person can have multiple actor edges going from the movie vertex these numbers may seem odd at first but once you think about them they make sense next let's look at the distribution of ages for our users in the killer video data to do this let's grab all of the user vertices and group count them by age we will get a map that almost produces our histogram for us from here we could plot how many people are of each age lastly we can break down the movies by year we can look at how many movies were made in each year let's grab all of the movie vertices and group count them by year again this kind of gives you a histogram of how many films were made each year up until now the examples have been pretty simple this next one will calculate the centrality for the vertices in our graph now centrality isn't quite the same as looking at the total number of edges on a vertex it's a little bit more complicated than that to calculate centrality we are going to walk through all of the vertices in our graph and we are going to order them by their centrality then the first vertex in the list will have the highest centrality we are going to use a recursive traversal to do this that is the repeat step in this example let's look at the steps inside of the repeat we group count and give the map a name m so every time this group count is repeated the results are going to be put into the same map so we're going to walk around the graph compute things and put all of the counts in this m map now notice that we are not counting by anything in particular we are counting simply the vertices that we find along this walk every time we visit one we count it once from that group we traverse edges in both directions so we're going to walk all over the graph we repeat that a certain number of times we picked 30 and we picked it for a reason when doing this type of calculation to estimate centrality if you can imagine the list changing order every time you do this you can imagine that you will have a certain ordering after the first repetition on the second traversal the order will shift around a little bit eventually the order will converge on an estimation of the centrality of the vertices in the graph five times is likely not enough for this type of estimation but after 30 you might not see many changes in the centrality ordering for most graphs now that repeat group count both 30 times can do a lot of work we are going to force that work to complete by calling cap on the map m so all of those traversers need to do their computation and give us this map m to work with the next four lines are important for giving us the result we want but computationally they're a little less interesting here we are going to locally order those objects by their value decreasing what is that value it is the count of the number of times we have encountered each one of those vertices now let's look at the select keys line remember the object we have up until this point is a map the keys in the map are the vertices themselves the values are counts we have already ordered them by their value so we have the centrality ordering we need and we just want the keys this returns the now ordered list of vertices we would like to operate on those vertices individually not as a collection that is what unfold does it takes a big collection of vertices and lets us deal with them individually then we choose how we want to observe the output we choose to look at movies by their title and otherwise we just want to get their name you can see what we get the central vertex is the comedy genre followed by the drama genre skipping a few elements we see that the most central movie in our data set is forrest gump estimating centrality is a complex traversal but it isn't as simple as group or group by but it is a great example of a way to use the statistical traversal steps to build up to a more complex mathematical estimation i hope these examples have been helpful and that you enjoy the upcoming exercise",
    "segments": [
      {
        "start": 1.47,
        "duration": 5.31,
        "text": "[Music]"
      },
      {
        "start": 7.04,
        "duration": 3.36,
        "text": "in a statistical traversal"
      },
      {
        "start": 8.559,
        "duration": 3.521,
        "text": "we are going to move around the graph"
      },
      {
        "start": 10.4,
        "duration": 2.56,
        "text": "and collect statistics about the"
      },
      {
        "start": 12.08,
        "duration": 2.559,
        "text": "structure"
      },
      {
        "start": 12.96,
        "duration": 3.44,
        "text": "or properties in some way we are"
      },
      {
        "start": 14.639,
        "duration": 2.64,
        "text": "computing aggregates or some kind of"
      },
      {
        "start": 16.4,
        "duration": 3.2,
        "text": "analysis"
      },
      {
        "start": 17.279,
        "duration": 4.721,
        "text": "that will summarize what is in the graph"
      },
      {
        "start": 19.6,
        "duration": 4.48,
        "text": "so instead of returning a subgraph or"
      },
      {
        "start": 22.0,
        "duration": 4.24,
        "text": "a collection of vertices or edges what"
      },
      {
        "start": 24.08,
        "duration": 4.24,
        "text": "the statistical traversal is doing"
      },
      {
        "start": 26.24,
        "duration": 3.439,
        "text": "is probably returning a scalar or"
      },
      {
        "start": 28.32,
        "duration": 3.52,
        "text": "collection of numbers"
      },
      {
        "start": 29.679,
        "duration": 4.161,
        "text": "that describe the statistics in the"
      },
      {
        "start": 31.84,
        "duration": 3.36,
        "text": "graph you can see in this example"
      },
      {
        "start": 33.84,
        "duration": 3.76,
        "text": "that we are counting the different"
      },
      {
        "start": 35.2,
        "duration": 5.039,
        "text": "colors of vertices one is green"
      },
      {
        "start": 37.6,
        "duration": 4.0,
        "text": "two are orange and four the vertices are"
      },
      {
        "start": 40.239,
        "duration": 2.961,
        "text": "kind of that dark teal"
      },
      {
        "start": 41.6,
        "duration": 3.84,
        "text": "this could be the result of a real"
      },
      {
        "start": 43.2,
        "duration": 4.24,
        "text": "statistical traversal"
      },
      {
        "start": 45.44,
        "duration": 3.279,
        "text": "of course any new traversal type will"
      },
      {
        "start": 47.44,
        "duration": 2.959,
        "text": "give us some new steps"
      },
      {
        "start": 48.719,
        "duration": 3.441,
        "text": "let's look at the steps for doing some"
      },
      {
        "start": 50.399,
        "duration": 5.121,
        "text": "simple aggregates we have"
      },
      {
        "start": 52.16,
        "duration": 5.28,
        "text": "count sum mean min and max"
      },
      {
        "start": 55.52,
        "duration": 3.519,
        "text": "and all of those things do about what"
      },
      {
        "start": 57.44,
        "duration": 2.72,
        "text": "you would expect them to do they will"
      },
      {
        "start": 59.039,
        "duration": 3.68,
        "text": "count things"
      },
      {
        "start": 60.16,
        "duration": 3.039,
        "text": "calculate an average find the min or the"
      },
      {
        "start": 62.719,
        "duration": 2.561,
        "text": "max"
      },
      {
        "start": 63.199,
        "duration": 4.321,
        "text": "now for each one we can optionally give"
      },
      {
        "start": 65.28,
        "duration": 4.24,
        "text": "them a scope by default the scope is"
      },
      {
        "start": 67.52,
        "duration": 3.919,
        "text": "going to be global but we can also ask"
      },
      {
        "start": 69.52,
        "duration": 4.4,
        "text": "for it to be local"
      },
      {
        "start": 71.439,
        "duration": 4.481,
        "text": "the default global scope will apply to"
      },
      {
        "start": 73.92,
        "duration": 3.68,
        "text": "aggregation of the entire stream"
      },
      {
        "start": 75.92,
        "duration": 3.68,
        "text": "the local scope will apply to the"
      },
      {
        "start": 77.6,
        "duration": 3.92,
        "text": "aggregation to each collection type"
      },
      {
        "start": 79.6,
        "duration": 3.6,
        "text": "object in the individual traversal you"
      },
      {
        "start": 81.52,
        "duration": 3.04,
        "text": "may want to provide an aggregation"
      },
      {
        "start": 83.2,
        "duration": 4.48,
        "text": "function of your own"
      },
      {
        "start": 84.56,
        "duration": 3.84,
        "text": "where none of the trivial mean min max"
      },
      {
        "start": 87.68,
        "duration": 2.64,
        "text": "or things"
      },
      {
        "start": 88.4,
        "duration": 4.64,
        "text": "really fit the bill for this there's"
      },
      {
        "start": 90.32,
        "duration": 4.24,
        "text": "fold now you can call fold and you can"
      },
      {
        "start": 93.04,
        "duration": 3.759,
        "text": "give it an initial value"
      },
      {
        "start": 94.56,
        "duration": 4.239,
        "text": "and then a function that will be applied"
      },
      {
        "start": 96.799,
        "duration": 2.561,
        "text": "on all of the objects in the traversal"
      },
      {
        "start": 98.799,
        "duration": 2.561,
        "text": "stream"
      },
      {
        "start": 99.36,
        "duration": 3.439,
        "text": "fold is best explained in an example"
      },
      {
        "start": 101.36,
        "duration": 4.32,
        "text": "that is coming up in a little bit"
      },
      {
        "start": 102.799,
        "duration": 3.521,
        "text": "there is also an inverse of fold called"
      },
      {
        "start": 105.68,
        "duration": 3.28,
        "text": "unfold"
      },
      {
        "start": 106.32,
        "duration": 4.0,
        "text": "now with an aggregation like sum there"
      },
      {
        "start": 108.96,
        "duration": 4.4,
        "text": "is no way that you can"
      },
      {
        "start": 110.32,
        "duration": 4.479,
        "text": "unsum numbers but potentially we are"
      },
      {
        "start": 113.36,
        "duration": 4.0,
        "text": "able to unfold"
      },
      {
        "start": 114.799,
        "duration": 4.401,
        "text": "after we have folded when we are"
      },
      {
        "start": 117.36,
        "duration": 3.359,
        "text": "aggregating it is pretty common for us"
      },
      {
        "start": 119.2,
        "duration": 4.48,
        "text": "to also group"
      },
      {
        "start": 120.719,
        "duration": 4.0,
        "text": "group basically creates a map of objects"
      },
      {
        "start": 123.68,
        "duration": 3.439,
        "text": "that organizes"
      },
      {
        "start": 124.719,
        "duration": 4.561,
        "text": "from the traversal stream into groups"
      },
      {
        "start": 127.119,
        "duration": 3.12,
        "text": "based on some known characteristics of"
      },
      {
        "start": 129.28,
        "duration": 3.039,
        "text": "those objects"
      },
      {
        "start": 130.239,
        "duration": 3.601,
        "text": "coming in now we can name the group that"
      },
      {
        "start": 132.319,
        "duration": 3.28,
        "text": "is the optional map label"
      },
      {
        "start": 133.84,
        "duration": 4.479,
        "text": "if we want to be able to refer to the"
      },
      {
        "start": 135.599,
        "duration": 4.72,
        "text": "map later on but much more importantly"
      },
      {
        "start": 138.319,
        "duration": 3.681,
        "text": "is the modulator by we are usually"
      },
      {
        "start": 140.319,
        "duration": 4.64,
        "text": "grouping by some particular"
      },
      {
        "start": 142.0,
        "duration": 3.84,
        "text": "thing we are grouping by age or gender"
      },
      {
        "start": 144.959,
        "duration": 3.36,
        "text": "or director"
      },
      {
        "start": 145.84,
        "duration": 3.28,
        "text": "or something else so the typical use is"
      },
      {
        "start": 148.319,
        "duration": 3.681,
        "text": "group"
      },
      {
        "start": 149.12,
        "duration": 3.199,
        "text": "and then by with the category we want to"
      },
      {
        "start": 152.0,
        "duration": 3.519,
        "text": "group"
      },
      {
        "start": 152.319,
        "duration": 5.521,
        "text": "by now the by modulator here is very"
      },
      {
        "start": 155.519,
        "duration": 4.8,
        "text": "important calling the bi modulator once"
      },
      {
        "start": 157.84,
        "duration": 3.2,
        "text": "will indicate what we want to group on"
      },
      {
        "start": 160.319,
        "duration": 3.521,
        "text": "for example"
      },
      {
        "start": 161.04,
        "duration": 4.16,
        "text": "age directors etc the second time you"
      },
      {
        "start": 163.84,
        "duration": 2.96,
        "text": "call the bimodulator"
      },
      {
        "start": 165.2,
        "duration": 3.759,
        "text": "you are indicating how you want to"
      },
      {
        "start": 166.8,
        "duration": 3.6,
        "text": "represent each object in the group"
      },
      {
        "start": 168.959,
        "duration": 3.521,
        "text": "so you may want to pick out some"
      },
      {
        "start": 170.4,
        "duration": 3.919,
        "text": "property in the object and use that"
      },
      {
        "start": 172.48,
        "duration": 2.399,
        "text": "property to represent the object in the"
      },
      {
        "start": 174.319,
        "duration": 3.521,
        "text": "map"
      },
      {
        "start": 174.879,
        "duration": 4.961,
        "text": "that group is creating now the"
      },
      {
        "start": 177.84,
        "duration": 5.119,
        "text": "distinction between those two calls"
      },
      {
        "start": 179.84,
        "duration": 4.88,
        "text": "with the buy step is very important"
      },
      {
        "start": 182.959,
        "duration": 3.92,
        "text": "and an example will go a long way in"
      },
      {
        "start": 184.72,
        "duration": 4.32,
        "text": "making that make sense if the purpose of"
      },
      {
        "start": 186.879,
        "duration": 4.161,
        "text": "grouping is simply to count then we will"
      },
      {
        "start": 189.04,
        "duration": 4.0,
        "text": "want to use the group count step"
      },
      {
        "start": 191.04,
        "duration": 4.0,
        "text": "if you want to group by age and then"
      },
      {
        "start": 193.04,
        "duration": 4.0,
        "text": "count up the people who have various"
      },
      {
        "start": 195.04,
        "duration": 4.559,
        "text": "ages you will want to say group"
      },
      {
        "start": 197.04,
        "duration": 4.4,
        "text": "count by age it is more efficient and"
      },
      {
        "start": 199.599,
        "duration": 4.481,
        "text": "more expressive to use this step"
      },
      {
        "start": 201.44,
        "duration": 4.879,
        "text": "let's look at some examples as always we"
      },
      {
        "start": 204.08,
        "duration": 4.799,
        "text": "are using our killer video graph schema"
      },
      {
        "start": 206.319,
        "duration": 4.721,
        "text": "we have movies that belong to genres and"
      },
      {
        "start": 208.879,
        "duration": 4.961,
        "text": "we have users who rate movies"
      },
      {
        "start": 211.04,
        "duration": 4.559,
        "text": "users also know other users we also have"
      },
      {
        "start": 213.84,
        "duration": 4.08,
        "text": "other people in our graph like actors"
      },
      {
        "start": 215.599,
        "duration": 5.521,
        "text": "directors composers and screenwriters"
      },
      {
        "start": 217.92,
        "duration": 5.2,
        "text": "who are related to the movies"
      },
      {
        "start": 221.12,
        "duration": 3.28,
        "text": "let's see what we can do with the"
      },
      {
        "start": 223.12,
        "duration": 3.52,
        "text": "statistical traversals"
      },
      {
        "start": 224.4,
        "duration": 4.0,
        "text": "with our sample data in this schema"
      },
      {
        "start": 226.64,
        "duration": 3.679,
        "text": "let's start with the basics"
      },
      {
        "start": 228.4,
        "duration": 3.44,
        "text": "let's count some vertices and then count"
      },
      {
        "start": 230.319,
        "duration": 4.801,
        "text": "some edges we see"
      },
      {
        "start": 231.84,
        "duration": 6.64,
        "text": "10 797 vertices in this graph"
      },
      {
        "start": 235.12,
        "duration": 3.759,
        "text": "and 69 054 edges in the sample graph"
      },
      {
        "start": 238.48,
        "duration": 2.64,
        "text": "data"
      },
      {
        "start": 238.879,
        "duration": 4.481,
        "text": "we can be a bit more specific and we can"
      },
      {
        "start": 241.12,
        "duration": 3.039,
        "text": "count only those vertices with our user"
      },
      {
        "start": 243.36,
        "duration": 3.92,
        "text": "label"
      },
      {
        "start": 244.159,
        "duration": 5.44,
        "text": "which there are 1100 of those and we see"
      },
      {
        "start": 247.28,
        "duration": 5.76,
        "text": "that there are 3500 edges"
      },
      {
        "start": 249.599,
        "duration": 5.121,
        "text": "with the nose label next let's calculate"
      },
      {
        "start": 253.04,
        "duration": 2.8,
        "text": "some statistical values about the"
      },
      {
        "start": 254.72,
        "duration": 3.919,
        "text": "properties we have"
      },
      {
        "start": 255.84,
        "duration": 4.959,
        "text": "on the vertices in our graph first look"
      },
      {
        "start": 258.639,
        "duration": 4.161,
        "text": "at all of the vertices labeled users"
      },
      {
        "start": 260.799,
        "duration": 3.12,
        "text": "get their age and calculate their"
      },
      {
        "start": 262.8,
        "duration": 3.839,
        "text": "average age"
      },
      {
        "start": 263.919,
        "duration": 4.961,
        "text": "we see here that the youngest user is 12"
      },
      {
        "start": 266.639,
        "duration": 3.601,
        "text": "and the oldest user is 25."
      },
      {
        "start": 268.88,
        "duration": 3.759,
        "text": "we can keep going with some more"
      },
      {
        "start": 270.24,
        "duration": 4.56,
        "text": "examples that show some simple analysis"
      },
      {
        "start": 272.639,
        "duration": 3.441,
        "text": "let's get all of the movie vertices get"
      },
      {
        "start": 274.8,
        "duration": 4.76,
        "text": "their duration property"
      },
      {
        "start": 276.08,
        "duration": 6.32,
        "text": "and add it up we have 106"
      },
      {
        "start": 279.56,
        "duration": 4.44,
        "text": "358 minutes worth of movies in the"
      },
      {
        "start": 282.4,
        "duration": 4.239,
        "text": "killer video data set"
      },
      {
        "start": 284.0,
        "duration": 4.4,
        "text": "now we mentioned fold before so here is"
      },
      {
        "start": 286.639,
        "duration": 3.84,
        "text": "an example that uses fold"
      },
      {
        "start": 288.4,
        "duration": 4.079,
        "text": "we are using fold to do the same"
      },
      {
        "start": 290.479,
        "duration": 3.681,
        "text": "computation as the sum step"
      },
      {
        "start": 292.479,
        "duration": 3.041,
        "text": "just so that there is an easy function"
      },
      {
        "start": 294.16,
        "duration": 3.68,
        "text": "to wrap your mind around"
      },
      {
        "start": 295.52,
        "duration": 4.239,
        "text": "now the call to fold gives you a seed"
      },
      {
        "start": 297.84,
        "duration": 2.56,
        "text": "value of zero when you're trying to do a"
      },
      {
        "start": 299.759,
        "duration": 2.641,
        "text": "sum"
      },
      {
        "start": 300.4,
        "duration": 3.359,
        "text": "zero is likely the seed value you would"
      },
      {
        "start": 302.4,
        "duration": 4.079,
        "text": "like to start with"
      },
      {
        "start": 303.759,
        "duration": 4.561,
        "text": "next we pass it a function and we use"
      },
      {
        "start": 306.479,
        "duration": 2.321,
        "text": "the closure syntax from the groovy"
      },
      {
        "start": 308.32,
        "duration": 2.56,
        "text": "language"
      },
      {
        "start": 308.8,
        "duration": 3.52,
        "text": "that function takes two parameters we"
      },
      {
        "start": 310.88,
        "duration": 3.12,
        "text": "are naming them x and y"
      },
      {
        "start": 312.32,
        "duration": 3.84,
        "text": "that is the stuff to the left of the"
      },
      {
        "start": 314.0,
        "duration": 3.28,
        "text": "arrow to the right of the arrow is the"
      },
      {
        "start": 316.16,
        "duration": 2.96,
        "text": "body of the function"
      },
      {
        "start": 317.28,
        "duration": 3.359,
        "text": "this is a pretty trivial function it's"
      },
      {
        "start": 319.12,
        "duration": 3.6,
        "text": "just adding x and y"
      },
      {
        "start": 320.639,
        "duration": 3.041,
        "text": "then that value is returned from the"
      },
      {
        "start": 322.72,
        "duration": 3.12,
        "text": "closure now"
      },
      {
        "start": 323.68,
        "duration": 3.68,
        "text": "it is important to note that functions"
      },
      {
        "start": 325.84,
        "duration": 3.52,
        "text": "can be much more complex"
      },
      {
        "start": 327.36,
        "duration": 4.72,
        "text": "we can put arbitrary code to the right"
      },
      {
        "start": 329.36,
        "duration": 4.64,
        "text": "of that arrow to do more complex things"
      },
      {
        "start": 332.08,
        "duration": 3.839,
        "text": "now if we have the name of the method"
      },
      {
        "start": 334.0,
        "duration": 3.68,
        "text": "you can also pass that directly"
      },
      {
        "start": 335.919,
        "duration": 4.321,
        "text": "into the fold step you give it a seed"
      },
      {
        "start": 337.68,
        "duration": 3.2,
        "text": "value of 0 and then pass the name of the"
      },
      {
        "start": 340.24,
        "duration": 2.56,
        "text": "method"
      },
      {
        "start": 340.88,
        "duration": 3.84,
        "text": "sum we are passing a native groovy"
      },
      {
        "start": 342.8,
        "duration": 3.28,
        "text": "method there but it could be some other"
      },
      {
        "start": 344.72,
        "duration": 3.68,
        "text": "closure identifier"
      },
      {
        "start": 346.08,
        "duration": 3.36,
        "text": "that we are passing in we could define a"
      },
      {
        "start": 348.4,
        "duration": 3.359,
        "text": "function elsewhere"
      },
      {
        "start": 349.44,
        "duration": 4.96,
        "text": "and pass it into the traversal if it's a"
      },
      {
        "start": 351.759,
        "duration": 5.921,
        "text": "more convenient way to factor our code"
      },
      {
        "start": 354.4,
        "duration": 5.28,
        "text": "now this is a pretty trivial example but"
      },
      {
        "start": 357.68,
        "duration": 4.639,
        "text": "if you have many lines of code for your"
      },
      {
        "start": 359.68,
        "duration": 3.76,
        "text": "function you might not want to put that"
      },
      {
        "start": 362.319,
        "duration": 2.961,
        "text": "in line"
      },
      {
        "start": 363.44,
        "duration": 3.28,
        "text": "inside your closure in the middle of"
      },
      {
        "start": 365.28,
        "duration": 3.28,
        "text": "your traversal"
      },
      {
        "start": 366.72,
        "duration": 3.759,
        "text": "this gives us a cleaner way to factor"
      },
      {
        "start": 368.56,
        "duration": 3.759,
        "text": "our code when the need arises"
      },
      {
        "start": 370.479,
        "duration": 3.44,
        "text": "so this next example is showing you"
      },
      {
        "start": 372.319,
        "duration": 3.681,
        "text": "three ways to answer the question"
      },
      {
        "start": 373.919,
        "duration": 3.681,
        "text": "how long will it take to watch all of"
      },
      {
        "start": 376.0,
        "duration": 3.84,
        "text": "our movies and our testing data"
      },
      {
        "start": 377.6,
        "duration": 3.12,
        "text": "so all three of the examples on this"
      },
      {
        "start": 379.84,
        "duration": 3.199,
        "text": "screen are"
      },
      {
        "start": 380.72,
        "duration": 3.759,
        "text": "showing you an answer or a way to"
      },
      {
        "start": 383.039,
        "duration": 3.521,
        "text": "determine the same question"
      },
      {
        "start": 384.479,
        "duration": 3.44,
        "text": "how long will it take to watch all of"
      },
      {
        "start": 386.56,
        "duration": 4.079,
        "text": "our movies and our test data"
      },
      {
        "start": 387.919,
        "duration": 3.521,
        "text": "fun fact 106 000 minutes is about one"
      },
      {
        "start": 390.639,
        "duration": 2.081,
        "text": "month of time"
      },
      {
        "start": 391.44,
        "duration": 3.12,
        "text": "so if you're really looking for some"
      },
      {
        "start": 392.72,
        "duration": 2.72,
        "text": "binge watching we have some movies for"
      },
      {
        "start": 394.56,
        "duration": 2.639,
        "text": "you"
      },
      {
        "start": 395.44,
        "duration": 4.08,
        "text": "in the next example what we would like"
      },
      {
        "start": 397.199,
        "duration": 4.241,
        "text": "to do is calculate the average age of"
      },
      {
        "start": 399.52,
        "duration": 4.56,
        "text": "the men and the women separately"
      },
      {
        "start": 401.44,
        "duration": 3.92,
        "text": "who use killer video so we will get all"
      },
      {
        "start": 404.08,
        "duration": 2.88,
        "text": "of the user vertices"
      },
      {
        "start": 405.36,
        "duration": 3.6,
        "text": "and we will group them by the gender"
      },
      {
        "start": 406.96,
        "duration": 3.84,
        "text": "property that is the first three lines"
      },
      {
        "start": 408.96,
        "duration": 3.6,
        "text": "all of the users and group them by"
      },
      {
        "start": 410.8,
        "duration": 2.56,
        "text": "gender the second call to the bi"
      },
      {
        "start": 412.56,
        "duration": 2.96,
        "text": "modulator"
      },
      {
        "start": 413.36,
        "duration": 4.08,
        "text": "where it says by age means in the"
      },
      {
        "start": 415.52,
        "duration": 2.64,
        "text": "resulting map i want to represent the"
      },
      {
        "start": 417.44,
        "duration": 3.039,
        "text": "values"
      },
      {
        "start": 418.16,
        "duration": 3.039,
        "text": "by that property if we had just grouped"
      },
      {
        "start": 420.479,
        "duration": 3.201,
        "text": "by gender"
      },
      {
        "start": 421.199,
        "duration": 3.201,
        "text": "we would get a map with two keys one key"
      },
      {
        "start": 423.68,
        "duration": 3.12,
        "text": "is m"
      },
      {
        "start": 424.4,
        "duration": 4.4,
        "text": "and one key would be f and the values"
      },
      {
        "start": 426.8,
        "duration": 3.92,
        "text": "would be the whole user vertices"
      },
      {
        "start": 428.8,
        "duration": 4.239,
        "text": "that whole vertex would be stored in the"
      },
      {
        "start": 430.72,
        "duration": 4.16,
        "text": "value here we are saying that we know we"
      },
      {
        "start": 433.039,
        "duration": 2.481,
        "text": "want to simplify that we just want the"
      },
      {
        "start": 434.88,
        "duration": 2.879,
        "text": "ages"
      },
      {
        "start": 435.52,
        "duration": 3.2,
        "text": "here we want the collection of ages for"
      },
      {
        "start": 437.759,
        "duration": 2.88,
        "text": "the m key"
      },
      {
        "start": 438.72,
        "duration": 3.52,
        "text": "and then a collection of ages for the f"
      },
      {
        "start": 440.639,
        "duration": 3.761,
        "text": "key and that is what we see"
      },
      {
        "start": 442.24,
        "duration": 3.84,
        "text": "in the sample output the average age of"
      },
      {
        "start": 444.4,
        "duration": 5.12,
        "text": "women who use killer video"
      },
      {
        "start": 446.08,
        "duration": 6.72,
        "text": "is 30.56 and the average age of men"
      },
      {
        "start": 449.52,
        "duration": 5.119,
        "text": "is 32.01 next"
      },
      {
        "start": 452.8,
        "duration": 3.44,
        "text": "suppose we want to find the number of"
      },
      {
        "start": 454.639,
        "duration": 3.441,
        "text": "different kinds of vertices"
      },
      {
        "start": 456.24,
        "duration": 3.76,
        "text": "in the different kinds of edges in this"
      },
      {
        "start": 458.08,
        "duration": 3.04,
        "text": "graph we will start by getting all of"
      },
      {
        "start": 460.0,
        "duration": 3.84,
        "text": "the vertices"
      },
      {
        "start": 461.12,
        "duration": 4.4,
        "text": "and simply group counting them by label"
      },
      {
        "start": 463.84,
        "duration": 2.639,
        "text": "we see that there are four labels that"
      },
      {
        "start": 465.52,
        "duration": 4.239,
        "text": "show up in our graph"
      },
      {
        "start": 466.479,
        "duration": 5.12,
        "text": "there are movies people genres and users"
      },
      {
        "start": 469.759,
        "duration": 3.44,
        "text": "and you can see the counts for each one"
      },
      {
        "start": 471.599,
        "duration": 4.0,
        "text": "of those giving us"
      },
      {
        "start": 473.199,
        "duration": 3.361,
        "text": "a distribution of vertex labels for this"
      },
      {
        "start": 475.599,
        "duration": 3.361,
        "text": "sample graph"
      },
      {
        "start": 476.56,
        "duration": 3.039,
        "text": "next we will group count the edges by"
      },
      {
        "start": 478.96,
        "duration": 2.48,
        "text": "their label"
      },
      {
        "start": 479.599,
        "duration": 3.6,
        "text": "we will look at all of the unique edge"
      },
      {
        "start": 481.44,
        "duration": 2.4,
        "text": "labels in this graph put them into"
      },
      {
        "start": 483.199,
        "duration": 4.56,
        "text": "groups"
      },
      {
        "start": 483.84,
        "duration": 7.039,
        "text": "and count them there are 10 678 actors"
      },
      {
        "start": 487.759,
        "duration": 5.28,
        "text": "48 094 ratings and so forth"
      },
      {
        "start": 490.879,
        "duration": 3.76,
        "text": "and as you look at these numbers you"
      },
      {
        "start": 493.039,
        "duration": 5.121,
        "text": "might see things like"
      },
      {
        "start": 494.639,
        "duration": 6.801,
        "text": "there are 10 678 actors"
      },
      {
        "start": 498.16,
        "duration": 6.319,
        "text": "but only 8 759 people"
      },
      {
        "start": 501.44,
        "duration": 4.8,
        "text": "but actor is an edge label so it doesn't"
      },
      {
        "start": 504.479,
        "duration": 5.12,
        "text": "really refer to a person"
      },
      {
        "start": 506.24,
        "duration": 5.6,
        "text": "doing acting in reality one person can"
      },
      {
        "start": 509.599,
        "duration": 4.32,
        "text": "be an actor in more than one movie"
      },
      {
        "start": 511.84,
        "duration": 3.52,
        "text": "so one person can have multiple actor"
      },
      {
        "start": 513.919,
        "duration": 3.521,
        "text": "edges going from"
      },
      {
        "start": 515.36,
        "duration": 3.76,
        "text": "the movie vertex these numbers may seem"
      },
      {
        "start": 517.44,
        "duration": 2.079,
        "text": "odd at first but once you think about"
      },
      {
        "start": 519.12,
        "duration": 2.64,
        "text": "them"
      },
      {
        "start": 519.519,
        "duration": 3.2,
        "text": "they make sense next let's look at the"
      },
      {
        "start": 521.76,
        "duration": 3.199,
        "text": "distribution of"
      },
      {
        "start": 522.719,
        "duration": 3.361,
        "text": "ages for our users in the killer video"
      },
      {
        "start": 524.959,
        "duration": 3.521,
        "text": "data to do this"
      },
      {
        "start": 526.08,
        "duration": 3.68,
        "text": "let's grab all of the user vertices and"
      },
      {
        "start": 528.48,
        "duration": 3.12,
        "text": "group count them by age"
      },
      {
        "start": 529.76,
        "duration": 3.12,
        "text": "we will get a map that almost produces"
      },
      {
        "start": 531.6,
        "duration": 3.6,
        "text": "our histogram for us"
      },
      {
        "start": 532.88,
        "duration": 3.92,
        "text": "from here we could plot how many people"
      },
      {
        "start": 535.2,
        "duration": 3.6,
        "text": "are of each age"
      },
      {
        "start": 536.8,
        "duration": 4.08,
        "text": "lastly we can break down the movies by"
      },
      {
        "start": 538.8,
        "duration": 2.479,
        "text": "year we can look at how many movies were"
      },
      {
        "start": 540.88,
        "duration": 2.48,
        "text": "made"
      },
      {
        "start": 541.279,
        "duration": 4.481,
        "text": "in each year let's grab all of the movie"
      },
      {
        "start": 543.36,
        "duration": 4.4,
        "text": "vertices and group count them by year"
      },
      {
        "start": 545.76,
        "duration": 3.6,
        "text": "again this kind of gives you a histogram"
      },
      {
        "start": 547.76,
        "duration": 4.079,
        "text": "of how many films were made"
      },
      {
        "start": 549.36,
        "duration": 4.32,
        "text": "each year up until now the examples have"
      },
      {
        "start": 551.839,
        "duration": 3.44,
        "text": "been pretty simple this next one will"
      },
      {
        "start": 553.68,
        "duration": 2.88,
        "text": "calculate the centrality for the"
      },
      {
        "start": 555.279,
        "duration": 3.921,
        "text": "vertices in our graph"
      },
      {
        "start": 556.56,
        "duration": 4.399,
        "text": "now centrality isn't quite the same as"
      },
      {
        "start": 559.2,
        "duration": 3.68,
        "text": "looking at the total number of edges"
      },
      {
        "start": 560.959,
        "duration": 3.041,
        "text": "on a vertex it's a little bit more"
      },
      {
        "start": 562.88,
        "duration": 3.04,
        "text": "complicated than that"
      },
      {
        "start": 564.0,
        "duration": 3.92,
        "text": "to calculate centrality we are going to"
      },
      {
        "start": 565.92,
        "duration": 2.32,
        "text": "walk through all of the vertices in our"
      },
      {
        "start": 567.92,
        "duration": 2.0,
        "text": "graph"
      },
      {
        "start": 568.24,
        "duration": 4.159,
        "text": "and we are going to order them by their"
      },
      {
        "start": 569.92,
        "duration": 4.0,
        "text": "centrality then the first vertex in the"
      },
      {
        "start": 572.399,
        "duration": 3.201,
        "text": "list will have the highest"
      },
      {
        "start": 573.92,
        "duration": 3.52,
        "text": "centrality we are going to use a"
      },
      {
        "start": 575.6,
        "duration": 3.84,
        "text": "recursive traversal to do this"
      },
      {
        "start": 577.44,
        "duration": 3.68,
        "text": "that is the repeat step in this example"
      },
      {
        "start": 579.44,
        "duration": 3.12,
        "text": "let's look at the steps inside of the"
      },
      {
        "start": 581.12,
        "duration": 4.0,
        "text": "repeat we group count"
      },
      {
        "start": 582.56,
        "duration": 4.56,
        "text": "and give the map a name m so every time"
      },
      {
        "start": 585.12,
        "duration": 3.92,
        "text": "this group count is repeated the results"
      },
      {
        "start": 587.12,
        "duration": 3.839,
        "text": "are going to be put into the same map"
      },
      {
        "start": 589.04,
        "duration": 3.04,
        "text": "so we're going to walk around the graph"
      },
      {
        "start": 590.959,
        "duration": 3.761,
        "text": "compute things"
      },
      {
        "start": 592.08,
        "duration": 4.72,
        "text": "and put all of the counts in this m map"
      },
      {
        "start": 594.72,
        "duration": 3.84,
        "text": "now notice that we are not counting by"
      },
      {
        "start": 596.8,
        "duration": 3.76,
        "text": "anything in particular we are counting"
      },
      {
        "start": 598.56,
        "duration": 4.48,
        "text": "simply the vertices that we find"
      },
      {
        "start": 600.56,
        "duration": 3.519,
        "text": "along this walk every time we visit one"
      },
      {
        "start": 603.04,
        "duration": 2.96,
        "text": "we count it once"
      },
      {
        "start": 604.079,
        "duration": 4.081,
        "text": "from that group we traverse edges in"
      },
      {
        "start": 606.0,
        "duration": 4.32,
        "text": "both directions so we're going to walk"
      },
      {
        "start": 608.16,
        "duration": 3.28,
        "text": "all over the graph we repeat that a"
      },
      {
        "start": 610.32,
        "duration": 3.12,
        "text": "certain number of times"
      },
      {
        "start": 611.44,
        "duration": 3.519,
        "text": "we picked 30 and we picked it for a"
      },
      {
        "start": 613.44,
        "duration": 3.6,
        "text": "reason when doing this type of"
      },
      {
        "start": 614.959,
        "duration": 4.401,
        "text": "calculation to estimate centrality"
      },
      {
        "start": 617.04,
        "duration": 4.08,
        "text": "if you can imagine the list changing"
      },
      {
        "start": 619.36,
        "duration": 3.36,
        "text": "order every time you do this"
      },
      {
        "start": 621.12,
        "duration": 3.44,
        "text": "you can imagine that you will have a"
      },
      {
        "start": 622.72,
        "duration": 2.64,
        "text": "certain ordering after the first"
      },
      {
        "start": 624.56,
        "duration": 2.56,
        "text": "repetition"
      },
      {
        "start": 625.36,
        "duration": 3.84,
        "text": "on the second traversal the order will"
      },
      {
        "start": 627.12,
        "duration": 5.279,
        "text": "shift around a little bit eventually"
      },
      {
        "start": 629.2,
        "duration": 5.199,
        "text": "the order will converge on an estimation"
      },
      {
        "start": 632.399,
        "duration": 3.201,
        "text": "of the centrality of the vertices in the"
      },
      {
        "start": 634.399,
        "duration": 3.041,
        "text": "graph five times"
      },
      {
        "start": 635.6,
        "duration": 3.679,
        "text": "is likely not enough for this type of"
      },
      {
        "start": 637.44,
        "duration": 3.68,
        "text": "estimation but after 30"
      },
      {
        "start": 639.279,
        "duration": 4.0,
        "text": "you might not see many changes in the"
      },
      {
        "start": 641.12,
        "duration": 4.719,
        "text": "centrality ordering for most graphs"
      },
      {
        "start": 643.279,
        "duration": 4.401,
        "text": "now that repeat group count both 30"
      },
      {
        "start": 645.839,
        "duration": 3.44,
        "text": "times can do a lot of work"
      },
      {
        "start": 647.68,
        "duration": 3.2,
        "text": "we are going to force that work to"
      },
      {
        "start": 649.279,
        "duration": 4.401,
        "text": "complete by calling cap"
      },
      {
        "start": 650.88,
        "duration": 4.399,
        "text": "on the map m so all of those traversers"
      },
      {
        "start": 653.68,
        "duration": 3.839,
        "text": "need to do their computation"
      },
      {
        "start": 655.279,
        "duration": 4.401,
        "text": "and give us this map m to work with the"
      },
      {
        "start": 657.519,
        "duration": 3.44,
        "text": "next four lines are important for giving"
      },
      {
        "start": 659.68,
        "duration": 3.279,
        "text": "us the result we want but"
      },
      {
        "start": 660.959,
        "duration": 2.801,
        "text": "computationally they're a little less"
      },
      {
        "start": 662.959,
        "duration": 3.361,
        "text": "interesting"
      },
      {
        "start": 663.76,
        "duration": 3.92,
        "text": "here we are going to locally order those"
      },
      {
        "start": 666.32,
        "duration": 4.079,
        "text": "objects by their value"
      },
      {
        "start": 667.68,
        "duration": 3.12,
        "text": "decreasing what is that value it is the"
      },
      {
        "start": 670.399,
        "duration": 2.56,
        "text": "count"
      },
      {
        "start": 670.8,
        "duration": 4.719,
        "text": "of the number of times we have"
      },
      {
        "start": 672.959,
        "duration": 5.201,
        "text": "encountered each one of those vertices"
      },
      {
        "start": 675.519,
        "duration": 3.361,
        "text": "now let's look at the select keys line"
      },
      {
        "start": 678.16,
        "duration": 3.119,
        "text": "remember"
      },
      {
        "start": 678.88,
        "duration": 4.32,
        "text": "the object we have up until this point"
      },
      {
        "start": 681.279,
        "duration": 4.721,
        "text": "is a map the keys in the map"
      },
      {
        "start": 683.2,
        "duration": 3.52,
        "text": "are the vertices themselves the values"
      },
      {
        "start": 686.0,
        "duration": 2.56,
        "text": "are counts"
      },
      {
        "start": 686.72,
        "duration": 4.32,
        "text": "we have already ordered them by their"
      },
      {
        "start": 688.56,
        "duration": 3.44,
        "text": "value so we have the centrality ordering"
      },
      {
        "start": 691.04,
        "duration": 3.12,
        "text": "we need"
      },
      {
        "start": 692.0,
        "duration": 4.24,
        "text": "and we just want the keys this returns"
      },
      {
        "start": 694.16,
        "duration": 3.919,
        "text": "the now ordered list of vertices we"
      },
      {
        "start": 696.24,
        "duration": 2.56,
        "text": "would like to operate on those vertices"
      },
      {
        "start": 698.079,
        "duration": 2.88,
        "text": "individually"
      },
      {
        "start": 698.8,
        "duration": 3.76,
        "text": "not as a collection that is what unfold"
      },
      {
        "start": 700.959,
        "duration": 2.481,
        "text": "does it takes a big collection of"
      },
      {
        "start": 702.56,
        "duration": 3.2,
        "text": "vertices"
      },
      {
        "start": 703.44,
        "duration": 4.48,
        "text": "and lets us deal with them individually"
      },
      {
        "start": 705.76,
        "duration": 2.96,
        "text": "then we choose how we want to observe"
      },
      {
        "start": 707.92,
        "duration": 2.479,
        "text": "the output"
      },
      {
        "start": 708.72,
        "duration": 3.679,
        "text": "we choose to look at movies by their"
      },
      {
        "start": 710.399,
        "duration": 2.56,
        "text": "title and otherwise we just want to get"
      },
      {
        "start": 712.399,
        "duration": 2.56,
        "text": "their name"
      },
      {
        "start": 712.959,
        "duration": 3.841,
        "text": "you can see what we get the central"
      },
      {
        "start": 714.959,
        "duration": 4.32,
        "text": "vertex is the comedy genre"
      },
      {
        "start": 716.8,
        "duration": 3.279,
        "text": "followed by the drama genre skipping a"
      },
      {
        "start": 719.279,
        "duration": 2.56,
        "text": "few elements"
      },
      {
        "start": 720.079,
        "duration": 3.681,
        "text": "we see that the most central movie in"
      },
      {
        "start": 721.839,
        "duration": 3.841,
        "text": "our data set is forrest gump"
      },
      {
        "start": 723.76,
        "duration": 4.24,
        "text": "estimating centrality is a complex"
      },
      {
        "start": 725.68,
        "duration": 4.159,
        "text": "traversal but it isn't as simple as"
      },
      {
        "start": 728.0,
        "duration": 4.079,
        "text": "group or group by but it is a great"
      },
      {
        "start": 729.839,
        "duration": 4.401,
        "text": "example of a way to use the statistical"
      },
      {
        "start": 732.079,
        "duration": 4.401,
        "text": "traversal steps to build up to a more"
      },
      {
        "start": 734.24,
        "duration": 3.76,
        "text": "complex mathematical estimation i hope"
      },
      {
        "start": 736.48,
        "duration": 8.24,
        "text": "these examples have been helpful and"
      },
      {
        "start": 738.0,
        "duration": 6.72,
        "text": "that you enjoy the upcoming exercise"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-15T22:33:28.556237+00:00"
}