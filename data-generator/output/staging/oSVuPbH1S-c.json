{
  "video_id": "oSVuPbH1S-c",
  "title": "REST API in Astra DB - Introduction and curl",
  "description": "We show how to perform basic Create, Read, Update and Delete (CRUD) commands, as well as how to create and delete a table using Astra DB's Stargate REST API. Check out the entire Astra playlist https://www.youtube.com/playlist?list=PL2g2h-wyI4SpWK1G3UaxXhzZc6aUFXbvL.\n\nTry using the Stargate REST API with our Katacoda exercise for free here: https://katacoda.com/shallada/courses/astra-core-course/astra-rest-api\n\nYou can find documentation on the REST API here: https://docs.datastax.com/en/astra/docs/_attachments/restv2.html\n\nCONNECT WITH DATASTAX\nSubscribe: http://www.youtube.com/c/datastaxdevs?sub_confirmation=1 \nTwitter: https://twitter.com/datastaxdevs\nTwitch: https://www.twitch.tv/datastaxdevs\n\nAbout DataStax:\nDataStax is the company behind the massively scalable, highly available, cloud-native NoSQL data platform built on Apache Cassandra™. DataStax gives developers and enterprises the freedom to run data in any cloud, Kubernetes, hybrid or bare metal at global scale with zero downtime and zero lock-in. More than 450 of the world’s leading enterprises including Capital One, Cisco, Comcast, Delta Airlines, Macy’s, McDonald’s, Safeway, Sony, and Walmart use DataStax to build transformational data architectures for real-world outcomes. For more, visit DataStax.com and @DataStax.\n\nAbout DataStax Developer:\nOn the DataStax Developers YouTube channel, you can find tutorials, workshops and much more to help you learn and stay updated with the latest information on Apache Cassandra©.  Visit https://datastax.com/dev for more free learning resources.",
  "published_at": "2021-06-23T21:16:46Z",
  "thumbnail": "https://i.ytimg.com/vi/oSVuPbH1S-c/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "scalable",
    "workshop",
    "cassandra",
    "tutorial",
    "apache_cassandra",
    "nosql",
    "introduction",
    "astra",
    "architecture",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=oSVuPbH1S-c",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "[Music] if you're watching this video chances are you've created an astra db database and now you want to know how to use it we'll show you how when you create an astra db database stargate which is a component of astra db automatically creates a rest api for you in this example we'll use curl to access the api let's set up some environment variables to facilitate working with curl astra db makes this easy login to astra find your database page and click on the connect tab click on rest api and copy the export commands by clicking the clipboard icon in your terminal paste the export commands from your clipboard you see that the first three commands are database specific values for your database we need to set the fourth export value the application token before we can execute the fourth command to create the token go to the organization management screen and click on token management from the left navigation then select the database administrator role and click generate token copy the token by clicking here for security reasons we only get one shot at copying the token so once you copy the token make sure you paste it to a place where you can reuse it before overwriting the clipboard in our case we'll go to a terminal and place the token at the end of the fourth export command replacing the placeholder we can echo the variable just to make sure we set it correctly now we're ready to start using the api to create a table there are four parts to our curl rest command the http operation type the rest url endpoint the headers and any associated json we'll use an http post command to create a table we construct the url endpoints as follows using the environment variables we set up with the export commands we'll place the token in the headers using the variable we set up finally we use json to describe the table we're constructing in this example we'll name the table products and it will have five columns named id product name description price and created here's what the final curl command looks like let's execute it even though we see the result from the command we can use the cql console to verify we created the table next let's create a record in the table again we'll use an http post command the url endpoint looks similar to the one we used for creating the table but we replace table with products we use the same headers and you can see that the json describes the record by specifying values for each of the columns let's execute this command we'll use an http get command to retrieve the record to construct the url endpoint we add the id value to the url note the id is the primary key for this table we still need the application token header but since this is a read command we don't need any json when we execute the command we see that we get the record back we pipe the output into jq to make it a little easier to read the command to update the record looks like a combination of a read and a write we use the same url we used when we read the record but we use the headers in json similar to the write command also notice that we use the http put verb let's get the record to make sure the update happened finally let's delete the record we'll use an http delete verb but otherwise the command looks just like the read command here's the curl command to delete the table notice the url is the same we used to create the table with the table name appended to the end of the url that's all there is to using astradb rest api to access your database if you want to know more you can check out the astra db api references by clicking here and here you",
    "segments": [
      {
        "start": 0.21,
        "duration": 6.91,
        "text": "[Music]"
      },
      {
        "start": 5.12,
        "duration": 4.479,
        "text": "if you're watching this video"
      },
      {
        "start": 7.12,
        "duration": 3.519,
        "text": "chances are you've created an astra db"
      },
      {
        "start": 9.599,
        "duration": 3.761,
        "text": "database"
      },
      {
        "start": 10.639,
        "duration": 4.401,
        "text": "and now you want to know how to use it"
      },
      {
        "start": 13.36,
        "duration": 4.48,
        "text": "we'll show you how"
      },
      {
        "start": 15.04,
        "duration": 3.76,
        "text": "when you create an astra db database"
      },
      {
        "start": 17.84,
        "duration": 3.439,
        "text": "stargate"
      },
      {
        "start": 18.8,
        "duration": 6.0,
        "text": "which is a component of astra db"
      },
      {
        "start": 21.279,
        "duration": 6.32,
        "text": "automatically creates a rest api for you"
      },
      {
        "start": 24.8,
        "duration": 5.76,
        "text": "in this example we'll use curl to access"
      },
      {
        "start": 27.599,
        "duration": 5.281,
        "text": "the api"
      },
      {
        "start": 30.56,
        "duration": 4.56,
        "text": "let's set up some environment variables"
      },
      {
        "start": 32.88,
        "duration": 7.04,
        "text": "to facilitate working with curl"
      },
      {
        "start": 35.12,
        "duration": 6.88,
        "text": "astra db makes this easy login to astra"
      },
      {
        "start": 39.92,
        "duration": 5.92,
        "text": "find your database page and click on the"
      },
      {
        "start": 42.0,
        "duration": 3.84,
        "text": "connect tab"
      },
      {
        "start": 46.32,
        "duration": 7.2,
        "text": "click on rest api and copy the export"
      },
      {
        "start": 49.2,
        "duration": 4.32,
        "text": "commands by clicking the clipboard icon"
      },
      {
        "start": 53.84,
        "duration": 5.76,
        "text": "in your terminal paste the export"
      },
      {
        "start": 56.16,
        "duration": 5.44,
        "text": "commands from your clipboard"
      },
      {
        "start": 59.6,
        "duration": 4.559,
        "text": "you see that the first three commands"
      },
      {
        "start": 61.6,
        "duration": 4.559,
        "text": "are database specific values for your"
      },
      {
        "start": 64.159,
        "duration": 4.721,
        "text": "database"
      },
      {
        "start": 66.159,
        "duration": 4.64,
        "text": "we need to set the fourth export value"
      },
      {
        "start": 68.88,
        "duration": 5.44,
        "text": "the application token"
      },
      {
        "start": 70.799,
        "duration": 6.241,
        "text": "before we can execute the fourth command"
      },
      {
        "start": 74.32,
        "duration": 4.72,
        "text": "to create the token go to the"
      },
      {
        "start": 77.04,
        "duration": 5.04,
        "text": "organization management screen"
      },
      {
        "start": 79.04,
        "duration": 5.439,
        "text": "and click on token management from the"
      },
      {
        "start": 82.08,
        "duration": 5.28,
        "text": "left navigation"
      },
      {
        "start": 84.479,
        "duration": 3.361,
        "text": "then select the database administrator"
      },
      {
        "start": 87.36,
        "duration": 4.16,
        "text": "role"
      },
      {
        "start": 87.84,
        "duration": 7.599,
        "text": "and click generate token"
      },
      {
        "start": 91.52,
        "duration": 6.8,
        "text": "copy the token by clicking here"
      },
      {
        "start": 95.439,
        "duration": 4.881,
        "text": "for security reasons we only get one"
      },
      {
        "start": 98.32,
        "duration": 4.72,
        "text": "shot at copying the token"
      },
      {
        "start": 100.32,
        "duration": 4.799,
        "text": "so once you copy the token make sure you"
      },
      {
        "start": 103.04,
        "duration": 2.399,
        "text": "paste it to a place where you can reuse"
      },
      {
        "start": 105.119,
        "duration": 4.081,
        "text": "it"
      },
      {
        "start": 105.439,
        "duration": 3.761,
        "text": "before overwriting the clipboard"
      },
      {
        "start": 109.36,
        "duration": 3.92,
        "text": "in our case we'll go to a terminal and"
      },
      {
        "start": 112.24,
        "duration": 3.76,
        "text": "place the token"
      },
      {
        "start": 113.28,
        "duration": 5.92,
        "text": "at the end of the fourth export command"
      },
      {
        "start": 116.0,
        "duration": 5.36,
        "text": "replacing the placeholder"
      },
      {
        "start": 119.2,
        "duration": 5.519,
        "text": "we can echo the variable just to make"
      },
      {
        "start": 121.36,
        "duration": 6.56,
        "text": "sure we set it correctly"
      },
      {
        "start": 124.719,
        "duration": 6.081,
        "text": "now we're ready to start using the api"
      },
      {
        "start": 127.92,
        "duration": 4.959,
        "text": "to create a table"
      },
      {
        "start": 130.8,
        "duration": 3.519,
        "text": "there are four parts to our curl rest"
      },
      {
        "start": 132.879,
        "duration": 4.641,
        "text": "command"
      },
      {
        "start": 134.319,
        "duration": 6.481,
        "text": "the http operation type"
      },
      {
        "start": 137.52,
        "duration": 9.359,
        "text": "the rest url endpoint"
      },
      {
        "start": 140.8,
        "duration": 9.519,
        "text": "the headers and any associated json"
      },
      {
        "start": 146.879,
        "duration": 5.281,
        "text": "we'll use an http post command to create"
      },
      {
        "start": 150.319,
        "duration": 4.56,
        "text": "a table"
      },
      {
        "start": 152.16,
        "duration": 5.68,
        "text": "we construct the url endpoints as"
      },
      {
        "start": 154.879,
        "duration": 7.201,
        "text": "follows using the environment variables"
      },
      {
        "start": 157.84,
        "duration": 6.399,
        "text": "we set up with the export commands"
      },
      {
        "start": 162.08,
        "duration": 5.12,
        "text": "we'll place the token in the headers"
      },
      {
        "start": 164.239,
        "duration": 6.0,
        "text": "using the variable we set up"
      },
      {
        "start": 167.2,
        "duration": 3.6,
        "text": "finally we use json to describe the"
      },
      {
        "start": 170.239,
        "duration": 4.561,
        "text": "table"
      },
      {
        "start": 170.8,
        "duration": 7.12,
        "text": "we're constructing in this example"
      },
      {
        "start": 174.8,
        "duration": 6.799,
        "text": "we'll name the table products"
      },
      {
        "start": 177.92,
        "duration": 7.44,
        "text": "and it will have five columns named id"
      },
      {
        "start": 181.599,
        "duration": 7.761,
        "text": "product name description price"
      },
      {
        "start": 185.36,
        "duration": 5.92,
        "text": "and created here's what the final curl"
      },
      {
        "start": 189.36,
        "duration": 4.959,
        "text": "command looks like"
      },
      {
        "start": 191.28,
        "duration": 5.56,
        "text": "let's execute it"
      },
      {
        "start": 194.319,
        "duration": 3.92,
        "text": "even though we see the result from the"
      },
      {
        "start": 196.84,
        "duration": 4.36,
        "text": "command"
      },
      {
        "start": 198.239,
        "duration": 5.92,
        "text": "we can use the cql console to verify we"
      },
      {
        "start": 201.2,
        "duration": 2.959,
        "text": "created the table"
      },
      {
        "start": 210.159,
        "duration": 6.8,
        "text": "next let's create a record in the table"
      },
      {
        "start": 213.599,
        "duration": 6.881,
        "text": "again we'll use an http"
      },
      {
        "start": 216.959,
        "duration": 5.601,
        "text": "post command the url endpoint"
      },
      {
        "start": 220.48,
        "duration": 3.92,
        "text": "looks similar to the one we used for"
      },
      {
        "start": 222.56,
        "duration": 6.08,
        "text": "creating the table"
      },
      {
        "start": 224.4,
        "duration": 6.96,
        "text": "but we replace table with products"
      },
      {
        "start": 228.64,
        "duration": 5.28,
        "text": "we use the same headers and you can see"
      },
      {
        "start": 231.36,
        "duration": 4.879,
        "text": "that the json describes the record"
      },
      {
        "start": 233.92,
        "duration": 4.48,
        "text": "by specifying values for each of the"
      },
      {
        "start": 236.239,
        "duration": 5.521,
        "text": "columns"
      },
      {
        "start": 238.4,
        "duration": 8.72,
        "text": "let's execute this command we'll use an"
      },
      {
        "start": 241.76,
        "duration": 8.96,
        "text": "http get command to retrieve the record"
      },
      {
        "start": 247.12,
        "duration": 6.88,
        "text": "to construct the url endpoint we add the"
      },
      {
        "start": 250.72,
        "duration": 6.72,
        "text": "id value to the url"
      },
      {
        "start": 254.0,
        "duration": 5.6,
        "text": "note the id is the primary key for this"
      },
      {
        "start": 257.44,
        "duration": 4.24,
        "text": "table"
      },
      {
        "start": 259.6,
        "duration": 3.039,
        "text": "we still need the application token"
      },
      {
        "start": 261.68,
        "duration": 3.6,
        "text": "header"
      },
      {
        "start": 262.639,
        "duration": 6.721,
        "text": "but since this is a read command we"
      },
      {
        "start": 265.28,
        "duration": 6.8,
        "text": "don't need any json"
      },
      {
        "start": 269.36,
        "duration": 4.8,
        "text": "when we execute the command we see that"
      },
      {
        "start": 272.08,
        "duration": 4.88,
        "text": "we get the record back"
      },
      {
        "start": 274.16,
        "duration": 5.28,
        "text": "we pipe the output into jq to make it a"
      },
      {
        "start": 276.96,
        "duration": 4.56,
        "text": "little easier to read"
      },
      {
        "start": 279.44,
        "duration": 3.84,
        "text": "the command to update the record looks"
      },
      {
        "start": 281.52,
        "duration": 5.92,
        "text": "like a combination of a read"
      },
      {
        "start": 283.28,
        "duration": 7.52,
        "text": "and a write we use the same url"
      },
      {
        "start": 287.44,
        "duration": 5.84,
        "text": "we used when we read the record but we"
      },
      {
        "start": 290.8,
        "duration": 4.959,
        "text": "use the headers in json similar to the"
      },
      {
        "start": 293.28,
        "duration": 6.08,
        "text": "write command"
      },
      {
        "start": 295.759,
        "duration": 6.481,
        "text": "also notice that we use the http"
      },
      {
        "start": 299.36,
        "duration": 2.88,
        "text": "put verb"
      },
      {
        "start": 303.12,
        "duration": 4.96,
        "text": "let's get the record to make sure the"
      },
      {
        "start": 305.199,
        "duration": 2.881,
        "text": "update happened"
      },
      {
        "start": 308.639,
        "duration": 7.361,
        "text": "finally let's delete the record"
      },
      {
        "start": 311.919,
        "duration": 6.241,
        "text": "we'll use an http delete verb"
      },
      {
        "start": 316.0,
        "duration": 5.36,
        "text": "but otherwise the command looks just"
      },
      {
        "start": 318.16,
        "duration": 5.28,
        "text": "like the read command"
      },
      {
        "start": 321.36,
        "duration": 3.839,
        "text": "here's the curl command to delete the"
      },
      {
        "start": 323.44,
        "duration": 4.16,
        "text": "table"
      },
      {
        "start": 325.199,
        "duration": 3.84,
        "text": "notice the url is the same we used to"
      },
      {
        "start": 327.6,
        "duration": 3.439,
        "text": "create the table"
      },
      {
        "start": 329.039,
        "duration": 4.88,
        "text": "with the table name appended to the end"
      },
      {
        "start": 331.039,
        "duration": 2.88,
        "text": "of the url"
      },
      {
        "start": 334.639,
        "duration": 5.761,
        "text": "that's all there is to using astradb"
      },
      {
        "start": 336.88,
        "duration": 5.68,
        "text": "rest api to access your database"
      },
      {
        "start": 340.4,
        "duration": 3.44,
        "text": "if you want to know more you can check"
      },
      {
        "start": 342.56,
        "duration": 11.28,
        "text": "out the astra db"
      },
      {
        "start": 343.84,
        "duration": 10.0,
        "text": "api references by clicking here and here"
      },
      {
        "start": 354.24,
        "duration": 2.08,
        "text": "you"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-15T20:31:06.025956+00:00"
}