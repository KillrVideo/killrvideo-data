{
  "video_id": "f7N4G35BZlw",
  "title": "Distributed Data Show Episode 37: Cassandra at Instagram with Dikang Gu",
  "description": "We talk with Dikang Gu about Instagram’s experience migrating from Apache Cassandra 2.2 to 3.0 and using Rocks DB as a pluggable storage engine for Cassandra.\n\nABOUT DATASTAX ENTERPRISE 5.1\nDataStax Enterprise 5.1, the database platform for cloud applications, includes Apache Cassandra 3.x with materialized views, tiered storage and advanced replication. Introduced in 5.1 is DataStax Enterprise Graph, the first graph database fast enough to power customer-facing applications, scale to massive datasets and integrate advanced tools to power deep analytical queries.\n\nLearn more at http://www.datastax.com/products/datastax-enterprise and https://academy.datastax.com/resources/whats-new-datastax-enterprise-50\n\nCONNECT WITH DATASTAX\nSubscribe: http://www.youtube.com/c/datastax?sub_confirmation=1 \nSite: http://datastax.com \nFacebook: https://facebook.com/datastax \nTwitter: https://twitter.com/datastax \nLinkedin: https://www.linkedin.com/company/datastax\nhttp://feeds.feedburner.com/datastax \nhttps://github.com/datastax \n\nABOUT DATASTAX ACADEMY\nOn the DataStax Academy YouTube channel, you can find tutorials, webinars and much more to help you learn and stay updated with the latest information on DataStax Enterprise©.  Create an account on https://academy.datastax.com to watch our free online courses, tutorials, and more.",
  "published_at": "2018-03-05T21:08:16Z",
  "thumbnail": "https://i.ytimg.com/vi/f7N4G35BZlw/maxresdefault.jpg",
  "channel_title": "DataStax Developers",
  "channel_id": "UCAIQY251avaMv7bBv5PCo-A",
  "tags": [
    "distributed",
    "cassandra",
    "database",
    "apache_cassandra",
    "tutorial",
    "talk",
    "datastax"
  ],
  "url": "https://www.youtube.com/watch?v=f7N4G35BZlw",
  "transcript": {
    "available": true,
    "language": "English (auto-generated)",
    "language_code": "en",
    "is_generated": true,
    "text": "welcome to another episode of the distributed data show brought to you by data Stax Academy where we bring you the latest news and interview technical experts to help you succeed at building large-scale distributed systems welcome to another and I'm here with who is with Instagram it's part of Facebook of course and he's gonna be telling us a little bit about the usage of Apache Cassandra at Instagram so can you tell me a little bit about your background to start out with sure hello everyone I'm Tiko so I'm currently a software engineer working on Instagram Cassandra team so we're working on providing Cassandra as general key value storage system in Instagram before that I was working on the development of Apache HDFS at the Facebook data infrastructure team nice okay so you've got kind of a long history in this big data world and it's not just working with Apache Cassandra yes its back so how did you get introduced to using Cassandra and how did you get started with it at Instagram sure so um Instagram like we use it we use a lot of open source technologies yeah and like we started to use Cassandra at the very early days so I was transferred from Facebook which we Instagram in 2014 at that time we the in Sequim infrastructure team was a very small team we managed a lot of open source technologies like Django Apache Cassandra salary etc and we've had our really good experience about the reliability and availability of Apache Cassandra we started with Cassandra version 1.2 running local SSDs at a blue-eyes environment the Custer was more at the beginning so as the casino team in Islam we did not even have people whole time working on Cassandra at that time nobody yeah no I was like yeah okay yes so then like as in squirm gross like we put more and more use cases in Cassandra we also found it at the Cassandra team eidetic dedicated a team to provide a Cassandra as a service miss question so today we're running you know like thousands of Cassandra servers across multiple data centers is well okay good okay so I have a couple just things to follow up with you here so yeah your story sounds kind of typical to all the way Oh Cassandra usage happens at a lot of companies where one team starts using it yeah and then they're starting to grow their cluster they start figuring it out other teams are like hey does that actually work sure what do you mean okay let's get on this and then pretty soon you actually need kind of an ops team yes is that that Cassandra team is a is kind of an ops team yes so what we did a both as a beginning yeah we're do direct operations maintenance and also like we are doing the development on the client API particular kind of objection so basically like we want to provide high level abstractions for in Sequim you know product the teams so that like we can hide the complexity of Cassandra original API to provide the you know faster iterations for our okay so you're actually doing you're providing a capability on top and abstraction layer on top yeah do you also provide like data modeling consultation and advice or I've seen this happen we do yeah a lot of times and organizations where you really need that that capacity you know that competency to really be able to provide good data modeling guidance to teams so they don't kind of mess things up sure yeah especially at the beginning you know like for a lot of teams they do not have enough experience with Apache Cassandra so when you do like a course ooh together with them about that data modeling about like what the kind of for what a kind of table properties like the combustion strategy or the TTL that you use right and then gradually like we hide everything like into the abstractions so that what is a sort so light so that today for our product teams what they wanted what they need to do is only to pick one abstraction there like they do not need to worry about like what a compulsion strategies they should use they do not need to about like which custom which actually class which I could show cluster they should put in there I use paste so all these are like you know handled by our team awesome okay so you're an epi provider a lot of the time to these teams what are the guarantees like you have some essays that you're giving these teams as part of that yep so as a service you know like a we provide you know SOA and reliability and the performance of Cassandra okay so in Instagram majority Cassandra majority Cassandra cuesta online request so in order to provide reliable and responsive user experience we have very tight as the way on those metrics so for example for reliability we're providing five nines reliability to our customers which means you know at any time the client failure rate should be less than 0.001 percent right and for the performance were actively monitoring the the throughput and latency of different clusters especially the p99 with the latency so we have done a lot of units and the improvements of Apache Cassandra in order to provide you know high performance to our customers gotcha okay so are there any metrics in particular that you're tracking that are the most helpful like what are you really key in on that helps you know how you're doing sure yeah so for example for the reliability yeah we are you know monitoring the total number of requests and also the total number of faith failed requests you know right so given like those two inputs we can easily calculate that was a Philly rate for our customers okay then for example like wherever we have an average window of five minutes and then like we want to provide you know in any five minutes window the failure rate should be less than 0.001 percent okay that's how we tracked your ability as a way right so we do similar things for performance by monitoring by collecting and the monitoring the let him see the p99 latency or mmp-9 99 latency on the client side okay so Instagram like we have a huge dashboard to show like the live metrics the live reliability and performance metrics okay nice so what's the budget is the most common corrective action is it just add more nodes so yes so for the durability like so actually you know Cassandra's architecture allows us to torrent small number of downloads of the other nodes yet in Cassandra so which means like a single node or a few notes go down we're not to trigger you know SOA all right large number of failures pause so in that case I can absorb some pretty good number of downloads for Leslie with the size clusters that you have yes so is that a case like we have you know a production engineering team yeah which will help us to you know automate allowed hope for like for example like know that we Play stores yeah or even the Casta expansion tours which allow us to quickly you know the place those those downloads or expanded the capacity expanded across when we hit the limitation of the capacitance okay yeah and for the performance you know like we have done a lot of cheesy tuning but in the early days you know try different hip size tried to find the you know parameters for the CMS and all the tricky stuff that's that's kind of like that last mile of configuration that's gonna squeeze those last ounces of performance out yes exactly yes and then either was like very hard for us to find a common set of for settings for of course all our use cases of course all clusters of course a lot of times we have to do the tunings you know podcaster so which actually like more work for you more work of ours yeah so um originally like a way start Ksenia up weight which you know upgraded our casters from two to two three OH which like actually like how could help us on the reliability and the performance okay so you mean you made that big jump to GE the upgrade to Cassandra 3-dot yes X which yeah tell me more about that upgrade sure yeah so you know like um we started that up where the process in mid Oh 2017 so at that time you know like we're already served hundreds of in sperm use cases and we are running Cassandra you know across multiple data centers like across thousands of servers and there were three millions of operations per second yeah but you know like we were not using the latest Cassandra when many using Cassandra 2.1 and a 2.2 at that time yeah so there were a lot of a change solid release but yes yeah there were a lot of changes between you know Cassandra to Anika Center 3 so it costs a lot of mention is over hide the to us especially if we want to back pour some fixes or new features from your Cassandra voyages to our innovations so we make when made the decision to spend effort to upgrade a Cassandra choose three Oh gotcha so how did you go about deciding was kind of like the first use case to make that transition you didn't just throw everything on freedo night yes of course yeah so you know like as in factual infrastructure team is one you know like we want to minimize the risk the upgraded race yeah yes because we do not want to have regressions on the performance and availability after the upgrade so like or you set a level of expectation with your internal customers yes exactly yes so so as a result so we before upgrade a way created a shadow clusters you know to mimic the setup and the traffic our production clusters in this I mean in this set up we're about you compare different the matrix between Cassandra two and the cosine two three it's the beginning with so you know big performance regressions right on the Cassandra three clusters the p99 reader and the writer latency was actually you know two times worse than our production clusters but you know yeah but you know our goal is to have again no for you started tuning before we start and eternal yeah this is baseline yeah yes so as I mentioned our Co is to have no performance or reliability good questions so like engineers spend a lot of time to work together with Apache Cassandra community to identify the root cause for those equations and to fix all the regressions you know Ksenia sorry so you're you're identifying bugs and maybe even pushing some bug fixes back toward yes so besides the performance fixes we have done we also like identified some issues in the for example in the hints delivery process and also the batch log processing process during the upgrade okay so we we have the fixes internally and where we will also open source them to the Apache Cassandra community as well okay so is everything on Cassandra 3 now yes at this moment I'm happy to say like Oh Cassandra clusters is one I'll run it on three all right now with no performance or reliability regressions excellent how long did that full process take it took us about six months okay to finish you know - from the evaluation to actually like up way to the last server two three oh good that's it that's a pretty big effort so yeah I think that i iooked up when he started talking about the shadow clusters because that is the envy probably of many a software engineer to have that kind of resource environment I don't know I don't know if it might have been as easy for you if you didn't have that kind of setup where you can actually literally compare the traffic going into to live clusters on two different versions it's the same exact traffic yes I don't know what you do otherwise yes so that's very important to us and I think there were like to find a ways to do the shadowing to do that double right for them a one way is to ask our product teams to change their business logic yeah you know to write to the production question and also try to to send your 300 shadow faster yeah but you know it's not a convenient for our product teams and that they are not happy to spend the time plug a another Cassandra you know request in their business logic so unfortunately they in facebook we have you know we can leverage a lot of infrastructure from work from Facebook so they have a way to they have a promote to be able to shadow any three of the traffic through the basic traffic in Facebook okay so in spam like was heavily using the thrift API in Sandra so that like we can plug in or we can configure the Facebook shadowing framework yeah you wrote or to duplicate the traffic's interesting so that you're actually using the thrifty yes the thrift got rid of that yeah we've gotten rid of that info so we didn't or haven't upgraded keep all you really mean it this time in for yeah okay so what do you what's the next big thing you started talking about 4.0 like what are you looking forward to coming down the pipeline yes so I think there were a lot of biggest things happening in Ksenia community so for Instagram like you know since last year last year yeah we have been working on a very interesting project to make Apache Cassandra storage engine to be pluggable and also in pavement and new rocks TV based storage engine - Cassandra okay yeah so our men motivation for this project you know is to improve the performance of Apache Cassandra especially you know the p99 with the latency so we did like you know phototype with you the benchmark yeah by switching from Cassandra's home storage engine to a new rocks TV based storage engine we're able to eliminate majority of the Java garbage collection overhead which actually reduces the Cassandra latency significantly right yeah and I want to mention like all our work on my sauce and also we're setting up a benchmark framework AWS AWS environment so everyone can download our source code try it in AWS or your local environment and you will see the difference okay so I gotta ask so you just you just implemented the I storage engine interface right yeah in Cassandra and then you were good to go I'm joking like there's no there is no such thing right yeah how invasive was it to put Roxy be I mean how many things that you have to touch so basically like we are almost touching every component in Cassandra okay so you know this is because you know for the components in Cassandra like we did right the past like streaming repair table management etc all based on this formats yes the capita together with the storage and in details by the storage engine engine details I mean the story I mean the SS table concept right you know they are leaking everywhere to all these components such as tables everywhere yes so we're not trying to fix every leaking of places you know right at once so instead like we gradually plug the logs TV in different components okay like the readwrite pass right like the streaming which are most critical for us so like we try to have API in the reader in the read pass right read pass industry me first right so that like we can increment a different version of the reader pass a different book about you find of implementation all right streaming so will there be a little bit more I'm not trying to lead you here but will there be a little bit more of the API is cleaner api's around some of those things to make you know the next person that wants to plug in another storage engine that much easier yeah so if you you know if you are monitoring the community discussions yeah so you you will notice like there had been a discussion a very big JIRA which the title is Cassandra plug was storage engine rights so there are a number you know sorry I forgot but some of these popular chairs they just become known by their number yes so there are a lot of discussions that you know happening is that the gyro like so personally like I also I proposed a detail the design talk about how to make Cassandra's storage engine to be pluggable so so in that Sarah I'm not talking about the logs to be at all so the purpose is make the central storage engine to be pluggable first you know like to decouple the the storage engine from other components so that it will improve that has testability of the Cassandra significantly right so he's a teacher are like I also created and you know about the chance of jurors to reflect every component in Cassandra for example like how to refactor screaming how to refactor read read pass so you know it's such a huge amount of work which a you know like I really want everyone in the community to help from that Europe to help making Cassandra's storage engine to be truly pluggable that's like a massive undertaking and much appreciated thanks for all your your great work on that and we have a couple minutes here so I just wondered if you had any more fun stories about Cassandra at Facebook Instagram sure yeah so yeah I think a white interest interesting story I want to share is that you know like is well like we're heavily using to send yoga so which means you know like about every to send reporter use cases they I mean more or less they have some data stored in Apache Cassandra yeah that's got a little bit right yeah so and right now you know like we're also like trying to see any opportunities Oh for you know over Kassandra you see kisses in facebook so which means like we want to open our door to more Facebook right as I use kisses as well right that's awesome you know it's so funny because you know most people know this that concealer was originally developed in facebook and then donated open sourced yes I can an Apache project meanwhile like it seems to be used at Facebook and then when they acquired Instagram then it came kind of came back in yes right yeah yeah I think I think a Cassandra burrows allowed in the community I want to thank all the you know the community effort the community developers to make Cassandra a very competitive database system in the world excellent well thank you so much for joining us hanging love to have you on again sometime thanks everyone for watching thank you thank you everyone you",
    "segments": [
      {
        "start": 0.03,
        "duration": 4.17,
        "text": "welcome to another episode of the"
      },
      {
        "start": 2.37,
        "duration": 4.23,
        "text": "distributed data show brought to you by"
      },
      {
        "start": 4.2,
        "duration": 4.26,
        "text": "data Stax Academy where we bring you the"
      },
      {
        "start": 6.6,
        "duration": 4.05,
        "text": "latest news and interview technical"
      },
      {
        "start": 8.46,
        "duration": 8.28,
        "text": "experts to help you succeed at building"
      },
      {
        "start": 10.65,
        "duration": 13.7,
        "text": "large-scale distributed systems welcome"
      },
      {
        "start": 16.74,
        "duration": 10.17,
        "text": "to another and I'm here with who is with"
      },
      {
        "start": 24.35,
        "duration": 4.48,
        "text": "Instagram it's part of Facebook of"
      },
      {
        "start": 26.91,
        "duration": 4.289,
        "text": "course and he's gonna be telling us a"
      },
      {
        "start": 28.83,
        "duration": 5.7,
        "text": "little bit about the usage of Apache"
      },
      {
        "start": 31.199,
        "duration": 4.591,
        "text": "Cassandra at Instagram so can you tell"
      },
      {
        "start": 34.53,
        "duration": 3.27,
        "text": "me a little bit about your background to"
      },
      {
        "start": 35.79,
        "duration": 3.089,
        "text": "start out with sure hello everyone I'm"
      },
      {
        "start": 37.8,
        "duration": 3.599,
        "text": "Tiko"
      },
      {
        "start": 38.879,
        "duration": 5.43,
        "text": "so I'm currently a software engineer"
      },
      {
        "start": 41.399,
        "duration": 5.43,
        "text": "working on Instagram Cassandra team so"
      },
      {
        "start": 44.309,
        "duration": 5.221,
        "text": "we're working on providing Cassandra as"
      },
      {
        "start": 46.829,
        "duration": 5.581,
        "text": "general key value storage system in"
      },
      {
        "start": 49.53,
        "duration": 6.45,
        "text": "Instagram before that I was working on"
      },
      {
        "start": 52.41,
        "duration": 6.989,
        "text": "the development of Apache HDFS at the"
      },
      {
        "start": 55.98,
        "duration": 5.28,
        "text": "Facebook data infrastructure team nice"
      },
      {
        "start": 59.399,
        "duration": 3.721,
        "text": "okay so you've got kind of a long"
      },
      {
        "start": 61.26,
        "duration": 4.02,
        "text": "history in this big data world and it's"
      },
      {
        "start": 63.12,
        "duration": 5.91,
        "text": "not just working with Apache Cassandra"
      },
      {
        "start": 65.28,
        "duration": 6.449,
        "text": "yes its back so how did you get"
      },
      {
        "start": 69.03,
        "duration": 4.83,
        "text": "introduced to using Cassandra and how"
      },
      {
        "start": 71.729,
        "duration": 3.241,
        "text": "did you get started with it at Instagram"
      },
      {
        "start": 73.86,
        "duration": 4.14,
        "text": "sure"
      },
      {
        "start": 74.97,
        "duration": 6.03,
        "text": "so um Instagram like we use it we use a"
      },
      {
        "start": 78.0,
        "duration": 5.67,
        "text": "lot of open source technologies yeah and"
      },
      {
        "start": 81.0,
        "duration": 5.25,
        "text": "like we started to use Cassandra at the"
      },
      {
        "start": 83.67,
        "duration": 5.4,
        "text": "very early days so I was transferred"
      },
      {
        "start": 86.25,
        "duration": 5.96,
        "text": "from Facebook which we Instagram in 2014"
      },
      {
        "start": 89.07,
        "duration": 5.61,
        "text": "at that time we the in Sequim"
      },
      {
        "start": 92.21,
        "duration": 5.26,
        "text": "infrastructure team was a very small"
      },
      {
        "start": 94.68,
        "duration": 5.1,
        "text": "team we managed a lot of open source"
      },
      {
        "start": 97.47,
        "duration": 6.12,
        "text": "technologies like Django Apache"
      },
      {
        "start": 99.78,
        "duration": 6.869,
        "text": "Cassandra salary etc and we've had our"
      },
      {
        "start": 103.59,
        "duration": 5.669,
        "text": "really good experience about the"
      },
      {
        "start": 106.649,
        "duration": 5.4,
        "text": "reliability and availability of Apache"
      },
      {
        "start": 109.259,
        "duration": 7.561,
        "text": "Cassandra we started with Cassandra"
      },
      {
        "start": 112.049,
        "duration": 6.191,
        "text": "version 1.2 running local SSDs at a"
      },
      {
        "start": 116.82,
        "duration": 4.479,
        "text": "blue-eyes environment"
      },
      {
        "start": 118.24,
        "duration": 5.97,
        "text": "the Custer was more at the beginning so"
      },
      {
        "start": 121.299,
        "duration": 5.131,
        "text": "as the casino team in Islam we did not"
      },
      {
        "start": 124.21,
        "duration": 5.07,
        "text": "even have people whole time working on"
      },
      {
        "start": 126.43,
        "duration": 6.059,
        "text": "Cassandra at that time nobody yeah no I"
      },
      {
        "start": 129.28,
        "duration": 6.66,
        "text": "was like yeah okay yes so then like as"
      },
      {
        "start": 132.489,
        "duration": 5.341,
        "text": "in squirm gross like we put more and"
      },
      {
        "start": 135.94,
        "duration": 4.11,
        "text": "more use cases in Cassandra"
      },
      {
        "start": 137.83,
        "duration": 5.129,
        "text": "we also found it at the Cassandra team"
      },
      {
        "start": 140.05,
        "duration": 5.969,
        "text": "eidetic dedicated a team to provide a"
      },
      {
        "start": 142.959,
        "duration": 4.921,
        "text": "Cassandra as a service miss question so"
      },
      {
        "start": 146.019,
        "duration": 4.021,
        "text": "today we're running you know like"
      },
      {
        "start": 147.88,
        "duration": 5.04,
        "text": "thousands of Cassandra servers across"
      },
      {
        "start": 150.04,
        "duration": 4.529,
        "text": "multiple data centers is well okay good"
      },
      {
        "start": 152.92,
        "duration": 4.56,
        "text": "okay so I have a couple just things to"
      },
      {
        "start": 154.569,
        "duration": 4.381,
        "text": "follow up with you here so yeah your"
      },
      {
        "start": 157.48,
        "duration": 4.259,
        "text": "story sounds kind of typical to all the"
      },
      {
        "start": 158.95,
        "duration": 4.95,
        "text": "way Oh Cassandra usage happens at a lot"
      },
      {
        "start": 161.739,
        "duration": 4.201,
        "text": "of companies where one team starts using"
      },
      {
        "start": 163.9,
        "duration": 3.24,
        "text": "it yeah and then they're starting to"
      },
      {
        "start": 165.94,
        "duration": 4.29,
        "text": "grow their cluster they start figuring"
      },
      {
        "start": 167.14,
        "duration": 3.87,
        "text": "it out other teams are like hey does"
      },
      {
        "start": 170.23,
        "duration": 3.0,
        "text": "that actually work"
      },
      {
        "start": 171.01,
        "duration": 4.14,
        "text": "sure what do you mean okay let's get on"
      },
      {
        "start": 173.23,
        "duration": 5.339,
        "text": "this and then pretty soon you actually"
      },
      {
        "start": 175.15,
        "duration": 6.059,
        "text": "need kind of an ops team yes is that"
      },
      {
        "start": 178.569,
        "duration": 5.191,
        "text": "that Cassandra team is a is kind of an"
      },
      {
        "start": 181.209,
        "duration": 3.09,
        "text": "ops team yes so what we did a both as a"
      },
      {
        "start": 183.76,
        "duration": 2.4,
        "text": "beginning"
      },
      {
        "start": 184.299,
        "duration": 4.711,
        "text": "yeah we're do direct operations"
      },
      {
        "start": 186.16,
        "duration": 5.79,
        "text": "maintenance and also like we are doing"
      },
      {
        "start": 189.01,
        "duration": 5.64,
        "text": "the development on the client API"
      },
      {
        "start": 191.95,
        "duration": 5.759,
        "text": "particular kind of objection so"
      },
      {
        "start": 194.65,
        "duration": 5.309,
        "text": "basically like we want to provide high"
      },
      {
        "start": 197.709,
        "duration": 4.711,
        "text": "level abstractions for in Sequim you"
      },
      {
        "start": 199.959,
        "duration": 4.801,
        "text": "know product the teams so that like we"
      },
      {
        "start": 202.42,
        "duration": 5.01,
        "text": "can hide the complexity of Cassandra"
      },
      {
        "start": 204.76,
        "duration": 7.02,
        "text": "original API to provide the you know"
      },
      {
        "start": 207.43,
        "duration": 5.97,
        "text": "faster iterations for our okay so you're"
      },
      {
        "start": 211.78,
        "duration": 3.329,
        "text": "actually doing you're providing a"
      },
      {
        "start": 213.4,
        "duration": 3.6,
        "text": "capability on top and abstraction layer"
      },
      {
        "start": 215.109,
        "duration": 4.171,
        "text": "on top yeah do you also provide like"
      },
      {
        "start": 217.0,
        "duration": 4.65,
        "text": "data modeling consultation and advice or"
      },
      {
        "start": 219.28,
        "duration": 4.44,
        "text": "I've seen this happen we do yeah a lot"
      },
      {
        "start": 221.65,
        "duration": 6.36,
        "text": "of times and organizations where you"
      },
      {
        "start": 223.72,
        "duration": 6.599,
        "text": "really need that that capacity you know"
      },
      {
        "start": 228.01,
        "duration": 3.9,
        "text": "that competency to really be able to"
      },
      {
        "start": 230.319,
        "duration": 3.781,
        "text": "provide good data modeling guidance to"
      },
      {
        "start": 231.91,
        "duration": 4.859,
        "text": "teams so they don't kind of mess things"
      },
      {
        "start": 234.1,
        "duration": 4.35,
        "text": "up sure yeah especially at the beginning"
      },
      {
        "start": 236.769,
        "duration": 3.84,
        "text": "you know like"
      },
      {
        "start": 238.45,
        "duration": 4.619,
        "text": "for a lot of teams they do not have"
      },
      {
        "start": 240.609,
        "duration": 4.731,
        "text": "enough experience with Apache Cassandra"
      },
      {
        "start": 243.069,
        "duration": 4.59,
        "text": "so when you do like a course ooh"
      },
      {
        "start": 245.34,
        "duration": 3.24,
        "text": "together with them about that data"
      },
      {
        "start": 247.659,
        "duration": 5.001,
        "text": "modeling"
      },
      {
        "start": 248.58,
        "duration": 7.08,
        "text": "about like what the kind of for what a"
      },
      {
        "start": 252.66,
        "duration": 5.579,
        "text": "kind of table properties like the"
      },
      {
        "start": 255.66,
        "duration": 5.01,
        "text": "combustion strategy or the TTL that you"
      },
      {
        "start": 258.239,
        "duration": 5.161,
        "text": "use right and then gradually like we"
      },
      {
        "start": 260.67,
        "duration": 6.33,
        "text": "hide everything like into the"
      },
      {
        "start": 263.4,
        "duration": 5.94,
        "text": "abstractions so that what is a sort so"
      },
      {
        "start": 267.0,
        "duration": 4.23,
        "text": "light so that today for our product"
      },
      {
        "start": 269.34,
        "duration": 4.92,
        "text": "teams what they wanted what they need to"
      },
      {
        "start": 271.23,
        "duration": 4.92,
        "text": "do is only to pick one abstraction there"
      },
      {
        "start": 274.26,
        "duration": 4.68,
        "text": "like they do not need to worry about"
      },
      {
        "start": 276.15,
        "duration": 4.83,
        "text": "like what a compulsion strategies they"
      },
      {
        "start": 278.94,
        "duration": 4.38,
        "text": "should use they do not need to about"
      },
      {
        "start": 280.98,
        "duration": 4.32,
        "text": "like which custom which actually class"
      },
      {
        "start": 283.32,
        "duration": 5.28,
        "text": "which I could show cluster they should"
      },
      {
        "start": 285.3,
        "duration": 6.47,
        "text": "put in there I use paste so all these"
      },
      {
        "start": 288.6,
        "duration": 8.07,
        "text": "are like you know handled by our team"
      },
      {
        "start": 291.77,
        "duration": 7.42,
        "text": "awesome okay so you're an epi provider a"
      },
      {
        "start": 296.67,
        "duration": 4.62,
        "text": "lot of the time to these teams what are"
      },
      {
        "start": 299.19,
        "duration": 3.51,
        "text": "the guarantees like you have some essays"
      },
      {
        "start": 301.29,
        "duration": 2.37,
        "text": "that you're giving these teams as part"
      },
      {
        "start": 302.7,
        "duration": 3.06,
        "text": "of that yep"
      },
      {
        "start": 303.66,
        "duration": 5.04,
        "text": "so as a service you know like a we"
      },
      {
        "start": 305.76,
        "duration": 5.34,
        "text": "provide you know SOA and reliability and"
      },
      {
        "start": 308.7,
        "duration": 4.77,
        "text": "the performance of Cassandra okay so in"
      },
      {
        "start": 311.1,
        "duration": 6.03,
        "text": "Instagram majority Cassandra majority"
      },
      {
        "start": 313.47,
        "duration": 7.199,
        "text": "Cassandra cuesta online request so in"
      },
      {
        "start": 317.13,
        "duration": 6.57,
        "text": "order to provide reliable and responsive"
      },
      {
        "start": 320.669,
        "duration": 6.0,
        "text": "user experience we have very tight as"
      },
      {
        "start": 323.7,
        "duration": 6.0,
        "text": "the way on those metrics so for example"
      },
      {
        "start": 326.669,
        "duration": 6.871,
        "text": "for reliability we're providing five"
      },
      {
        "start": 329.7,
        "duration": 6.45,
        "text": "nines reliability to our customers which"
      },
      {
        "start": 333.54,
        "duration": 6.21,
        "text": "means you know at any time the client"
      },
      {
        "start": 336.15,
        "duration": 6.18,
        "text": "failure rate should be less than 0.001"
      },
      {
        "start": 339.75,
        "duration": 6.39,
        "text": "percent right and for the performance"
      },
      {
        "start": 342.33,
        "duration": 6.42,
        "text": "were actively monitoring the the"
      },
      {
        "start": 346.14,
        "duration": 5.4,
        "text": "throughput and latency of different"
      },
      {
        "start": 348.75,
        "duration": 5.07,
        "text": "clusters especially the p99"
      },
      {
        "start": 351.54,
        "duration": 4.74,
        "text": "with the latency so we have done a lot"
      },
      {
        "start": 353.82,
        "duration": 4.74,
        "text": "of units and the improvements of Apache"
      },
      {
        "start": 356.28,
        "duration": 4.78,
        "text": "Cassandra in order to provide you know"
      },
      {
        "start": 358.56,
        "duration": 5.81,
        "text": "high performance to our customers"
      },
      {
        "start": 361.06,
        "duration": 4.81,
        "text": "gotcha okay so are there any metrics in"
      },
      {
        "start": 364.37,
        "duration": 3.9,
        "text": "particular that you're tracking that are"
      },
      {
        "start": 365.87,
        "duration": 4.71,
        "text": "the most helpful like what are you"
      },
      {
        "start": 368.27,
        "duration": 4.8,
        "text": "really key in on that helps you know how"
      },
      {
        "start": 370.58,
        "duration": 4.559,
        "text": "you're doing sure yeah so for example"
      },
      {
        "start": 373.07,
        "duration": 4.409,
        "text": "for the reliability yeah we are you know"
      },
      {
        "start": 375.139,
        "duration": 5.4,
        "text": "monitoring the total number of requests"
      },
      {
        "start": 377.479,
        "duration": 5.791,
        "text": "and also the total number of faith"
      },
      {
        "start": 380.539,
        "duration": 5.91,
        "text": "failed requests you know right"
      },
      {
        "start": 383.27,
        "duration": 5.399,
        "text": "so given like those two inputs we can"
      },
      {
        "start": 386.449,
        "duration": 4.741,
        "text": "easily calculate that was a Philly rate"
      },
      {
        "start": 388.669,
        "duration": 5.25,
        "text": "for our customers okay then for example"
      },
      {
        "start": 391.19,
        "duration": 5.13,
        "text": "like wherever we have an average window"
      },
      {
        "start": 393.919,
        "duration": 5.071,
        "text": "of five minutes and then like we want to"
      },
      {
        "start": 396.32,
        "duration": 5.4,
        "text": "provide you know in any five minutes"
      },
      {
        "start": 398.99,
        "duration": 6.57,
        "text": "window the failure rate should be less"
      },
      {
        "start": 401.72,
        "duration": 6.629,
        "text": "than 0.001 percent okay that's how we"
      },
      {
        "start": 405.56,
        "duration": 5.46,
        "text": "tracked your ability as a way right so"
      },
      {
        "start": 408.349,
        "duration": 5.1,
        "text": "we do similar things for performance by"
      },
      {
        "start": 411.02,
        "duration": 5.399,
        "text": "monitoring by collecting and the"
      },
      {
        "start": 413.449,
        "duration": 6.84,
        "text": "monitoring the let him see the p99"
      },
      {
        "start": 416.419,
        "duration": 4.801,
        "text": "latency or mmp-9 99 latency on the"
      },
      {
        "start": 420.289,
        "duration": 3.63,
        "text": "client side"
      },
      {
        "start": 421.22,
        "duration": 6.36,
        "text": "okay so Instagram like we have a huge"
      },
      {
        "start": 423.919,
        "duration": 6.301,
        "text": "dashboard to show like the live metrics"
      },
      {
        "start": 427.58,
        "duration": 5.97,
        "text": "the live reliability and performance"
      },
      {
        "start": 430.22,
        "duration": 6.93,
        "text": "metrics okay nice so what's the budget"
      },
      {
        "start": 433.55,
        "duration": 10.589,
        "text": "is the most common corrective action is"
      },
      {
        "start": 437.15,
        "duration": 9.48,
        "text": "it just add more nodes so yes so for the"
      },
      {
        "start": 444.139,
        "duration": 5.601,
        "text": "durability like so actually you know"
      },
      {
        "start": 446.63,
        "duration": 7.2,
        "text": "Cassandra's architecture allows us to"
      },
      {
        "start": 449.74,
        "duration": 4.66,
        "text": "torrent small number of downloads of the"
      },
      {
        "start": 453.83,
        "duration": 3.57,
        "text": "other nodes"
      },
      {
        "start": 454.4,
        "duration": 5.82,
        "text": "yet in Cassandra so which means like a"
      },
      {
        "start": 457.4,
        "duration": 5.34,
        "text": "single node or a few notes go down we're"
      },
      {
        "start": 460.22,
        "duration": 5.669,
        "text": "not to trigger you know SOA all right"
      },
      {
        "start": 462.74,
        "duration": 6.51,
        "text": "large number of failures pause so in"
      },
      {
        "start": 465.889,
        "duration": 5.041,
        "text": "that case I can absorb some pretty good"
      },
      {
        "start": 469.25,
        "duration": 3.419,
        "text": "number of downloads for Leslie with the"
      },
      {
        "start": 470.93,
        "duration": 4.109,
        "text": "size clusters that you have yes"
      },
      {
        "start": 472.669,
        "duration": 4.891,
        "text": "so is that a case like we have you know"
      },
      {
        "start": 475.039,
        "duration": 5.491,
        "text": "a production engineering team yeah"
      },
      {
        "start": 477.56,
        "duration": 4.949,
        "text": "which will help us to you know automate"
      },
      {
        "start": 480.53,
        "duration": 3.75,
        "text": "allowed hope for like for example like"
      },
      {
        "start": 482.509,
        "duration": 4.5,
        "text": "know that we Play stores"
      },
      {
        "start": 484.28,
        "duration": 4.879,
        "text": "yeah or even the Casta expansion tours"
      },
      {
        "start": 487.009,
        "duration": 6.62,
        "text": "which allow us to quickly"
      },
      {
        "start": 489.159,
        "duration": 7.65,
        "text": "you know the place those those downloads"
      },
      {
        "start": 493.629,
        "duration": 5.49,
        "text": "or expanded the capacity expanded across"
      },
      {
        "start": 496.809,
        "duration": 4.86,
        "text": "when we hit the limitation of the"
      },
      {
        "start": 499.119,
        "duration": 5.55,
        "text": "capacitance okay yeah and for the"
      },
      {
        "start": 501.669,
        "duration": 5.191,
        "text": "performance you know like we have done a"
      },
      {
        "start": 504.669,
        "duration": 4.59,
        "text": "lot of cheesy tuning but in the early"
      },
      {
        "start": 506.86,
        "duration": 4.379,
        "text": "days you know try different hip size"
      },
      {
        "start": 509.259,
        "duration": 5.22,
        "text": "tried to find the you know parameters"
      },
      {
        "start": 511.239,
        "duration": 5.1,
        "text": "for the CMS and all the tricky stuff"
      },
      {
        "start": 514.479,
        "duration": 3.84,
        "text": "that's that's kind of like that last"
      },
      {
        "start": 516.339,
        "duration": 4.351,
        "text": "mile of configuration that's gonna"
      },
      {
        "start": 518.319,
        "duration": 4.47,
        "text": "squeeze those last ounces of performance"
      },
      {
        "start": 520.69,
        "duration": 5.67,
        "text": "out yes exactly yes and then either was"
      },
      {
        "start": 522.789,
        "duration": 6.54,
        "text": "like very hard for us to find a common"
      },
      {
        "start": 526.36,
        "duration": 5.94,
        "text": "set of for settings for of course all"
      },
      {
        "start": 529.329,
        "duration": 5.43,
        "text": "our use cases of course all clusters of"
      },
      {
        "start": 532.3,
        "duration": 5.31,
        "text": "course a lot of times we have to do the"
      },
      {
        "start": 534.759,
        "duration": 5.25,
        "text": "tunings you know podcaster so which"
      },
      {
        "start": 537.61,
        "duration": 3.39,
        "text": "actually like more work for you more"
      },
      {
        "start": 540.009,
        "duration": 4.291,
        "text": "work of ours"
      },
      {
        "start": 541.0,
        "duration": 6.63,
        "text": "yeah so um originally like a way start"
      },
      {
        "start": 544.3,
        "duration": 5.719,
        "text": "Ksenia up weight which you know upgraded"
      },
      {
        "start": 547.63,
        "duration": 6.12,
        "text": "our casters from two to two three OH"
      },
      {
        "start": 550.019,
        "duration": 6.82,
        "text": "which like actually like how could help"
      },
      {
        "start": 553.75,
        "duration": 5.55,
        "text": "us on the reliability and the"
      },
      {
        "start": 556.839,
        "duration": 5.911,
        "text": "performance okay so you mean you made"
      },
      {
        "start": 559.3,
        "duration": 7.289,
        "text": "that big jump to GE the upgrade to"
      },
      {
        "start": 562.75,
        "duration": 6.839,
        "text": "Cassandra 3-dot yes X which yeah tell me"
      },
      {
        "start": 566.589,
        "duration": 5.911,
        "text": "more about that upgrade sure yeah so you"
      },
      {
        "start": 569.589,
        "duration": 6.901,
        "text": "know like um we started that up where"
      },
      {
        "start": 572.5,
        "duration": 5.819,
        "text": "the process in mid Oh 2017 so at that"
      },
      {
        "start": 576.49,
        "duration": 5.279,
        "text": "time you know like we're already served"
      },
      {
        "start": 578.319,
        "duration": 5.52,
        "text": "hundreds of in sperm use cases and we"
      },
      {
        "start": 581.769,
        "duration": 4.651,
        "text": "are running Cassandra you know across"
      },
      {
        "start": 583.839,
        "duration": 4.531,
        "text": "multiple data centers like across"
      },
      {
        "start": 586.42,
        "duration": 4.56,
        "text": "thousands of servers and there were"
      },
      {
        "start": 588.37,
        "duration": 5.969,
        "text": "three millions of operations per second"
      },
      {
        "start": 590.98,
        "duration": 6.0,
        "text": "yeah but you know like we were not using"
      },
      {
        "start": 594.339,
        "duration": 5.55,
        "text": "the latest Cassandra when many using"
      },
      {
        "start": 596.98,
        "duration": 5.31,
        "text": "Cassandra 2.1 and a 2.2 at that time"
      },
      {
        "start": 599.889,
        "duration": 5.55,
        "text": "yeah so there were a lot of a change"
      },
      {
        "start": 602.29,
        "duration": 4.71,
        "text": "solid release but yes yeah there were a"
      },
      {
        "start": 605.439,
        "duration": 5.101,
        "text": "lot of changes between you know"
      },
      {
        "start": 607.0,
        "duration": 5.579,
        "text": "Cassandra to Anika Center 3 so it costs"
      },
      {
        "start": 610.54,
        "duration": 5.299,
        "text": "a lot of mention is over hide the to us"
      },
      {
        "start": 612.579,
        "duration": 5.971,
        "text": "especially if we want to back pour some"
      },
      {
        "start": 615.839,
        "duration": 4.5,
        "text": "fixes or new features from your"
      },
      {
        "start": 618.55,
        "duration": 4.759,
        "text": "Cassandra voyages to our"
      },
      {
        "start": 620.339,
        "duration": 7.261,
        "text": "innovations so we make when made the"
      },
      {
        "start": 623.309,
        "duration": 7.59,
        "text": "decision to spend effort to upgrade a"
      },
      {
        "start": 627.6,
        "duration": 4.83,
        "text": "Cassandra choose three Oh gotcha so how"
      },
      {
        "start": 630.899,
        "duration": 4.081,
        "text": "did you go about deciding was kind of"
      },
      {
        "start": 632.43,
        "duration": 4.379,
        "text": "like the first use case to make that"
      },
      {
        "start": 634.98,
        "duration": 4.799,
        "text": "transition you didn't just throw"
      },
      {
        "start": 636.809,
        "duration": 3.45,
        "text": "everything on freedo night yes of course"
      },
      {
        "start": 639.779,
        "duration": 4.62,
        "text": "yeah"
      },
      {
        "start": 640.259,
        "duration": 7.05,
        "text": "so you know like as in factual"
      },
      {
        "start": 644.399,
        "duration": 5.821,
        "text": "infrastructure team is one you know like"
      },
      {
        "start": 647.309,
        "duration": 5.551,
        "text": "we want to minimize the risk the"
      },
      {
        "start": 650.22,
        "duration": 6.419,
        "text": "upgraded race yeah yes because we do not"
      },
      {
        "start": 652.86,
        "duration": 6.419,
        "text": "want to have regressions on the"
      },
      {
        "start": 656.639,
        "duration": 6.06,
        "text": "performance and availability after the"
      },
      {
        "start": 659.279,
        "duration": 5.61,
        "text": "upgrade so like or you set a level of"
      },
      {
        "start": 662.699,
        "duration": 4.11,
        "text": "expectation with your internal customers"
      },
      {
        "start": 664.889,
        "duration": 6.331,
        "text": "yes exactly yes"
      },
      {
        "start": 666.809,
        "duration": 6.96,
        "text": "so so as a result so we before upgrade a"
      },
      {
        "start": 671.22,
        "duration": 6.33,
        "text": "way created a shadow clusters you know"
      },
      {
        "start": 673.769,
        "duration": 7.951,
        "text": "to mimic the setup and the traffic our"
      },
      {
        "start": 677.55,
        "duration": 6.42,
        "text": "production clusters in this I mean in"
      },
      {
        "start": 681.72,
        "duration": 4.799,
        "text": "this set up we're about you compare"
      },
      {
        "start": 683.97,
        "duration": 5.159,
        "text": "different the matrix between Cassandra"
      },
      {
        "start": 686.519,
        "duration": 5.641,
        "text": "two and the cosine two three"
      },
      {
        "start": 689.129,
        "duration": 5.55,
        "text": "it's the beginning with so you know big"
      },
      {
        "start": 692.16,
        "duration": 6.029,
        "text": "performance regressions right on the"
      },
      {
        "start": 694.679,
        "duration": 5.52,
        "text": "Cassandra three clusters the p99 reader"
      },
      {
        "start": 698.189,
        "duration": 4.74,
        "text": "and the writer latency was actually you"
      },
      {
        "start": 700.199,
        "duration": 6.12,
        "text": "know two times worse than our production"
      },
      {
        "start": 702.929,
        "duration": 5.28,
        "text": "clusters but you know yeah but you know"
      },
      {
        "start": 706.319,
        "duration": 3.87,
        "text": "our goal is to have again"
      },
      {
        "start": 708.209,
        "duration": 4.201,
        "text": "no for you started tuning before we"
      },
      {
        "start": 710.189,
        "duration": 6.27,
        "text": "start and eternal yeah this is baseline"
      },
      {
        "start": 712.41,
        "duration": 7.289,
        "text": "yeah yes so as I mentioned our Co is to"
      },
      {
        "start": 716.459,
        "duration": 3.841,
        "text": "have no performance or reliability good"
      },
      {
        "start": 719.699,
        "duration": 4.171,
        "text": "questions"
      },
      {
        "start": 720.3,
        "duration": 5.729,
        "text": "so like engineers spend a lot of time to"
      },
      {
        "start": 723.87,
        "duration": 6.0,
        "text": "work together with Apache Cassandra"
      },
      {
        "start": 726.029,
        "duration": 7.021,
        "text": "community to identify the root cause for"
      },
      {
        "start": 729.87,
        "duration": 7.529,
        "text": "those equations and to fix all the"
      },
      {
        "start": 733.05,
        "duration": 6.329,
        "text": "regressions you know Ksenia sorry so"
      },
      {
        "start": 737.399,
        "duration": 4.93,
        "text": "you're you're identifying bugs and maybe"
      },
      {
        "start": 739.379,
        "duration": 5.801,
        "text": "even pushing some bug fixes back toward"
      },
      {
        "start": 742.329,
        "duration": 5.851,
        "text": "yes so besides the performance fixes we"
      },
      {
        "start": 745.18,
        "duration": 5.79,
        "text": "have done we also like identified some"
      },
      {
        "start": 748.18,
        "duration": 5.94,
        "text": "issues in the for example in the hints"
      },
      {
        "start": 750.97,
        "duration": 6.84,
        "text": "delivery process and also the batch log"
      },
      {
        "start": 754.12,
        "duration": 6.839,
        "text": "processing process during the upgrade"
      },
      {
        "start": 757.81,
        "duration": 5.73,
        "text": "okay so we we have the fixes internally"
      },
      {
        "start": 760.959,
        "duration": 4.951,
        "text": "and where we will also open source them"
      },
      {
        "start": 763.54,
        "duration": 7.349,
        "text": "to the Apache Cassandra community as"
      },
      {
        "start": 765.91,
        "duration": 6.15,
        "text": "well okay so is everything on Cassandra"
      },
      {
        "start": 770.889,
        "duration": 4.26,
        "text": "3 now yes"
      },
      {
        "start": 772.06,
        "duration": 5.969,
        "text": "at this moment I'm happy to say like Oh"
      },
      {
        "start": 775.149,
        "duration": 5.401,
        "text": "Cassandra clusters is one I'll run it on"
      },
      {
        "start": 778.029,
        "duration": 5.67,
        "text": "three all right now with no performance"
      },
      {
        "start": 780.55,
        "duration": 5.64,
        "text": "or reliability regressions excellent how"
      },
      {
        "start": 783.699,
        "duration": 5.611,
        "text": "long did that full process take it took"
      },
      {
        "start": 786.19,
        "duration": 5.579,
        "text": "us about six months okay to finish you"
      },
      {
        "start": 789.31,
        "duration": 5.82,
        "text": "know - from the evaluation to actually"
      },
      {
        "start": 791.769,
        "duration": 7.111,
        "text": "like up way to the last server two three"
      },
      {
        "start": 795.13,
        "duration": 7.829,
        "text": "oh good that's it that's a pretty big"
      },
      {
        "start": 798.88,
        "duration": 5.55,
        "text": "effort so yeah I think that i iooked up"
      },
      {
        "start": 802.959,
        "duration": 3.901,
        "text": "when he started talking about the shadow"
      },
      {
        "start": 804.43,
        "duration": 5.82,
        "text": "clusters because that is the envy"
      },
      {
        "start": 806.86,
        "duration": 6.089,
        "text": "probably of many a software engineer to"
      },
      {
        "start": 810.25,
        "duration": 5.43,
        "text": "have that kind of resource environment I"
      },
      {
        "start": 812.949,
        "duration": 4.26,
        "text": "don't know I don't know if it might have"
      },
      {
        "start": 815.68,
        "duration": 4.259,
        "text": "been as easy for you if you didn't have"
      },
      {
        "start": 817.209,
        "duration": 4.5,
        "text": "that kind of setup where you can"
      },
      {
        "start": 819.939,
        "duration": 3.45,
        "text": "actually literally compare the traffic"
      },
      {
        "start": 821.709,
        "duration": 3.36,
        "text": "going into to live clusters on two"
      },
      {
        "start": 823.389,
        "duration": 3.541,
        "text": "different versions it's the same exact"
      },
      {
        "start": 825.069,
        "duration": 5.041,
        "text": "traffic yes I don't know what you do"
      },
      {
        "start": 826.93,
        "duration": 5.43,
        "text": "otherwise yes so that's very important"
      },
      {
        "start": 830.11,
        "duration": 4.829,
        "text": "to us and I think there were like to"
      },
      {
        "start": 832.36,
        "duration": 4.8,
        "text": "find a ways to do the shadowing to do"
      },
      {
        "start": 834.939,
        "duration": 6.27,
        "text": "that double right for them a one way is"
      },
      {
        "start": 837.16,
        "duration": 6.57,
        "text": "to ask our product teams to change their"
      },
      {
        "start": 841.209,
        "duration": 5.341,
        "text": "business logic yeah you know to write to"
      },
      {
        "start": 843.73,
        "duration": 5.849,
        "text": "the production question and also try to"
      },
      {
        "start": 846.55,
        "duration": 5.039,
        "text": "to send your 300 shadow faster"
      },
      {
        "start": 849.579,
        "duration": 4.141,
        "text": "yeah but you know it's not a convenient"
      },
      {
        "start": 851.589,
        "duration": 5.1,
        "text": "for our product teams and that they are"
      },
      {
        "start": 853.72,
        "duration": 3.809,
        "text": "not happy to spend the time plug a"
      },
      {
        "start": 856.689,
        "duration": 2.941,
        "text": "another"
      },
      {
        "start": 857.529,
        "duration": 5.011,
        "text": "Cassandra you know request in their"
      },
      {
        "start": 859.63,
        "duration": 5.67,
        "text": "business logic so unfortunately they in"
      },
      {
        "start": 862.54,
        "duration": 5.01,
        "text": "facebook we have you know"
      },
      {
        "start": 865.3,
        "duration": 5.4,
        "text": "we can leverage a lot of infrastructure"
      },
      {
        "start": 867.55,
        "duration": 6.45,
        "text": "from work from Facebook so they have a"
      },
      {
        "start": 870.7,
        "duration": 6.21,
        "text": "way to they have a promote to be able to"
      },
      {
        "start": 874.0,
        "duration": 5.91,
        "text": "shadow any three of the traffic through"
      },
      {
        "start": 876.91,
        "duration": 5.88,
        "text": "the basic traffic in Facebook okay so in"
      },
      {
        "start": 879.91,
        "duration": 6.96,
        "text": "spam like was heavily using the thrift"
      },
      {
        "start": 882.79,
        "duration": 7.76,
        "text": "API in Sandra so that like we can plug"
      },
      {
        "start": 886.87,
        "duration": 7.04,
        "text": "in or we can configure the Facebook"
      },
      {
        "start": 890.55,
        "duration": 5.98,
        "text": "shadowing framework yeah you wrote or to"
      },
      {
        "start": 893.91,
        "duration": 4.36,
        "text": "duplicate the traffic's interesting so"
      },
      {
        "start": 896.53,
        "duration": 5.43,
        "text": "that you're actually using the thrifty"
      },
      {
        "start": 898.27,
        "duration": 7.29,
        "text": "yes the thrift got rid of that yeah"
      },
      {
        "start": 901.96,
        "duration": 5.43,
        "text": "we've gotten rid of that info so we"
      },
      {
        "start": 905.56,
        "duration": 5.27,
        "text": "didn't or haven't upgraded keep all you"
      },
      {
        "start": 907.39,
        "duration": 3.44,
        "text": "really mean it this time in for yeah"
      },
      {
        "start": 910.86,
        "duration": 5.74,
        "text": "okay so what do you what's the next big"
      },
      {
        "start": 914.38,
        "duration": 4.2,
        "text": "thing you started talking about 4.0 like"
      },
      {
        "start": 916.6,
        "duration": 4.95,
        "text": "what are you looking forward to coming"
      },
      {
        "start": 918.58,
        "duration": 4.86,
        "text": "down the pipeline yes"
      },
      {
        "start": 921.55,
        "duration": 4.56,
        "text": "so I think there were a lot of biggest"
      },
      {
        "start": 923.44,
        "duration": 4.65,
        "text": "things happening in Ksenia community so"
      },
      {
        "start": 926.11,
        "duration": 4.41,
        "text": "for Instagram like you know since last"
      },
      {
        "start": 928.09,
        "duration": 5.73,
        "text": "year last year yeah we have been working"
      },
      {
        "start": 930.52,
        "duration": 6.09,
        "text": "on a very interesting project to make"
      },
      {
        "start": 933.82,
        "duration": 5.85,
        "text": "Apache Cassandra storage engine to be"
      },
      {
        "start": 936.61,
        "duration": 6.27,
        "text": "pluggable and also in pavement and new"
      },
      {
        "start": 939.67,
        "duration": 6.06,
        "text": "rocks TV based storage engine -"
      },
      {
        "start": 942.88,
        "duration": 5.73,
        "text": "Cassandra okay yeah so our men"
      },
      {
        "start": 945.73,
        "duration": 5.25,
        "text": "motivation for this project you know is"
      },
      {
        "start": 948.61,
        "duration": 5.43,
        "text": "to improve the performance of Apache"
      },
      {
        "start": 950.98,
        "duration": 6.63,
        "text": "Cassandra especially you know the p99"
      },
      {
        "start": 954.04,
        "duration": 6.63,
        "text": "with the latency so we did like you know"
      },
      {
        "start": 957.61,
        "duration": 4.62,
        "text": "phototype with you the benchmark yeah by"
      },
      {
        "start": 960.67,
        "duration": 5.13,
        "text": "switching from"
      },
      {
        "start": 962.23,
        "duration": 6.54,
        "text": "Cassandra's home storage engine to a new"
      },
      {
        "start": 965.8,
        "duration": 7.05,
        "text": "rocks TV based storage engine we're able"
      },
      {
        "start": 968.77,
        "duration": 6.51,
        "text": "to eliminate majority of the Java"
      },
      {
        "start": 972.85,
        "duration": 5.31,
        "text": "garbage collection overhead which"
      },
      {
        "start": 975.28,
        "duration": 6.15,
        "text": "actually reduces the Cassandra latency"
      },
      {
        "start": 978.16,
        "duration": 5.7,
        "text": "significantly right yeah and I want to"
      },
      {
        "start": 981.43,
        "duration": 5.31,
        "text": "mention like all our work on my sauce"
      },
      {
        "start": 983.86,
        "duration": 7.19,
        "text": "and also we're setting up a benchmark"
      },
      {
        "start": 986.74,
        "duration": 7.42,
        "text": "framework AWS AWS environment"
      },
      {
        "start": 991.05,
        "duration": 6.57,
        "text": "so everyone can download our source code"
      },
      {
        "start": 994.16,
        "duration": 6.25,
        "text": "try it in AWS or your local environment"
      },
      {
        "start": 997.62,
        "duration": 4.55,
        "text": "and you will see the difference okay so"
      },
      {
        "start": 1000.41,
        "duration": 4.29,
        "text": "I gotta ask"
      },
      {
        "start": 1002.17,
        "duration": 5.23,
        "text": "so you just you just implemented the I"
      },
      {
        "start": 1004.7,
        "duration": 4.89,
        "text": "storage engine interface right yeah in"
      },
      {
        "start": 1007.4,
        "duration": 4.32,
        "text": "Cassandra and then you were good to go"
      },
      {
        "start": 1009.59,
        "duration": 5.16,
        "text": "I'm joking like there's no there is no"
      },
      {
        "start": 1011.72,
        "duration": 6.42,
        "text": "such thing right yeah how invasive was"
      },
      {
        "start": 1014.75,
        "duration": 5.67,
        "text": "it to put Roxy be I mean how many things"
      },
      {
        "start": 1018.14,
        "duration": 4.44,
        "text": "that you have to touch so basically like"
      },
      {
        "start": 1020.42,
        "duration": 4.38,
        "text": "we are almost touching every component"
      },
      {
        "start": 1022.58,
        "duration": 4.98,
        "text": "in Cassandra okay so you know this is"
      },
      {
        "start": 1024.8,
        "duration": 4.92,
        "text": "because you know for the components in"
      },
      {
        "start": 1027.56,
        "duration": 7.05,
        "text": "Cassandra like we did right the past"
      },
      {
        "start": 1029.72,
        "duration": 9.51,
        "text": "like streaming repair table management"
      },
      {
        "start": 1034.61,
        "duration": 6.84,
        "text": "etc all based on this formats yes the"
      },
      {
        "start": 1039.23,
        "duration": 4.979,
        "text": "capita together with the storage and in"
      },
      {
        "start": 1041.45,
        "duration": 7.35,
        "text": "details by the storage engine engine"
      },
      {
        "start": 1044.209,
        "duration": 6.871,
        "text": "details I mean the story I mean the SS"
      },
      {
        "start": 1048.8,
        "duration": 3.87,
        "text": "table concept right you know they are"
      },
      {
        "start": 1051.08,
        "duration": 3.84,
        "text": "leaking everywhere to all these"
      },
      {
        "start": 1052.67,
        "duration": 6.9,
        "text": "components such as tables everywhere"
      },
      {
        "start": 1054.92,
        "duration": 8.7,
        "text": "yes so we're not trying to fix every"
      },
      {
        "start": 1059.57,
        "duration": 7.2,
        "text": "leaking of places you know right at once"
      },
      {
        "start": 1063.62,
        "duration": 5.94,
        "text": "so instead like we gradually plug the"
      },
      {
        "start": 1066.77,
        "duration": 5.34,
        "text": "logs TV in different components okay"
      },
      {
        "start": 1069.56,
        "duration": 5.42,
        "text": "like the readwrite pass right like the"
      },
      {
        "start": 1072.11,
        "duration": 8.7,
        "text": "streaming which are most critical for us"
      },
      {
        "start": 1074.98,
        "duration": 8.25,
        "text": "so like we try to have API in the reader"
      },
      {
        "start": 1080.81,
        "duration": 5.67,
        "text": "in the read pass right read pass"
      },
      {
        "start": 1083.23,
        "duration": 6.79,
        "text": "industry me first right so that like we"
      },
      {
        "start": 1086.48,
        "duration": 6.81,
        "text": "can increment a different version of the"
      },
      {
        "start": 1090.02,
        "duration": 4.98,
        "text": "reader pass a different book about you"
      },
      {
        "start": 1093.29,
        "duration": 3.96,
        "text": "find of implementation all right"
      },
      {
        "start": 1095.0,
        "duration": 4.11,
        "text": "streaming so will there be a little bit"
      },
      {
        "start": 1097.25,
        "duration": 3.65,
        "text": "more I'm not trying to lead you here but"
      },
      {
        "start": 1099.11,
        "duration": 4.71,
        "text": "will there be a little bit more of the"
      },
      {
        "start": 1100.9,
        "duration": 5.44,
        "text": "API is cleaner api's around some of"
      },
      {
        "start": 1103.82,
        "duration": 3.93,
        "text": "those things to make you know the next"
      },
      {
        "start": 1106.34,
        "duration": 4.56,
        "text": "person that wants to plug in another"
      },
      {
        "start": 1107.75,
        "duration": 6.6,
        "text": "storage engine that much easier yeah so"
      },
      {
        "start": 1110.9,
        "duration": 4.39,
        "text": "if you you know if you are monitoring"
      },
      {
        "start": 1114.35,
        "duration": 4.57,
        "text": "the"
      },
      {
        "start": 1115.29,
        "duration": 5.79,
        "text": "community discussions yeah so you you"
      },
      {
        "start": 1118.92,
        "duration": 5.79,
        "text": "will notice like there had been a"
      },
      {
        "start": 1121.08,
        "duration": 5.61,
        "text": "discussion a very big JIRA which the"
      },
      {
        "start": 1124.71,
        "duration": 4.53,
        "text": "title is Cassandra plug was storage"
      },
      {
        "start": 1126.69,
        "duration": 5.37,
        "text": "engine rights so there are a number you"
      },
      {
        "start": 1129.24,
        "duration": 4.41,
        "text": "know sorry I forgot but some of these"
      },
      {
        "start": 1132.06,
        "duration": 5.37,
        "text": "popular chairs they just become known by"
      },
      {
        "start": 1133.65,
        "duration": 5.76,
        "text": "their number yes so there are a lot of"
      },
      {
        "start": 1137.43,
        "duration": 6.24,
        "text": "discussions that you know happening is"
      },
      {
        "start": 1139.41,
        "duration": 7.56,
        "text": "that the gyro like so personally like I"
      },
      {
        "start": 1143.67,
        "duration": 7.38,
        "text": "also I proposed a detail the design talk"
      },
      {
        "start": 1146.97,
        "duration": 7.95,
        "text": "about how to make Cassandra's storage"
      },
      {
        "start": 1151.05,
        "duration": 5.61,
        "text": "engine to be pluggable so so in that"
      },
      {
        "start": 1154.92,
        "duration": 5.25,
        "text": "Sarah I'm not talking about the logs to"
      },
      {
        "start": 1156.66,
        "duration": 5.52,
        "text": "be at all so the purpose is make the"
      },
      {
        "start": 1160.17,
        "duration": 5.52,
        "text": "central storage engine to be pluggable"
      },
      {
        "start": 1162.18,
        "duration": 6.39,
        "text": "first you know like to decouple the the"
      },
      {
        "start": 1165.69,
        "duration": 4.68,
        "text": "storage engine from other components so"
      },
      {
        "start": 1168.57,
        "duration": 3.86,
        "text": "that it will improve that has"
      },
      {
        "start": 1170.37,
        "duration": 4.8,
        "text": "testability of the Cassandra"
      },
      {
        "start": 1172.43,
        "duration": 5.07,
        "text": "significantly right so he's a teacher"
      },
      {
        "start": 1175.17,
        "duration": 5.64,
        "text": "are like I also created and you know"
      },
      {
        "start": 1177.5,
        "duration": 6.61,
        "text": "about the chance of jurors to reflect"
      },
      {
        "start": 1180.81,
        "duration": 5.55,
        "text": "every component in Cassandra for example"
      },
      {
        "start": 1184.11,
        "duration": 5.67,
        "text": "like how to refactor screaming how to"
      },
      {
        "start": 1186.36,
        "duration": 6.54,
        "text": "refactor read read pass so you know it's"
      },
      {
        "start": 1189.78,
        "duration": 6.18,
        "text": "such a huge amount of work which a you"
      },
      {
        "start": 1192.9,
        "duration": 5.7,
        "text": "know like I really want everyone in the"
      },
      {
        "start": 1195.96,
        "duration": 6.03,
        "text": "community to help from that Europe to"
      },
      {
        "start": 1198.6,
        "duration": 6.78,
        "text": "help making Cassandra's storage engine"
      },
      {
        "start": 1201.99,
        "duration": 4.95,
        "text": "to be truly pluggable that's like a"
      },
      {
        "start": 1205.38,
        "duration": 3.78,
        "text": "massive undertaking and much appreciated"
      },
      {
        "start": 1206.94,
        "duration": 4.8,
        "text": "thanks for all your your great work on"
      },
      {
        "start": 1209.16,
        "duration": 4.11,
        "text": "that and we have a couple minutes here"
      },
      {
        "start": 1211.74,
        "duration": 4.98,
        "text": "so I just wondered if you had any more"
      },
      {
        "start": 1213.27,
        "duration": 7.32,
        "text": "fun stories about Cassandra at Facebook"
      },
      {
        "start": 1216.72,
        "duration": 6.06,
        "text": "Instagram sure yeah so yeah I think a"
      },
      {
        "start": 1220.59,
        "duration": 5.73,
        "text": "white interest interesting story I want"
      },
      {
        "start": 1222.78,
        "duration": 6.24,
        "text": "to share is that you know like is well"
      },
      {
        "start": 1226.32,
        "duration": 6.69,
        "text": "like we're heavily using to send yoga so"
      },
      {
        "start": 1229.02,
        "duration": 7.2,
        "text": "which means you know like about every to"
      },
      {
        "start": 1233.01,
        "duration": 5.39,
        "text": "send reporter use cases they I mean more"
      },
      {
        "start": 1236.22,
        "duration": 4.42,
        "text": "or less they have some data stored in"
      },
      {
        "start": 1238.4,
        "duration": 4.279,
        "text": "Apache Cassandra yeah"
      },
      {
        "start": 1240.64,
        "duration": 4.59,
        "text": "that's got a little bit right yeah so"
      },
      {
        "start": 1242.679,
        "duration": 5.341,
        "text": "and right now you know like we're also"
      },
      {
        "start": 1245.23,
        "duration": 7.56,
        "text": "like trying to see any opportunities Oh"
      },
      {
        "start": 1248.02,
        "duration": 7.71,
        "text": "for you know over Kassandra you see"
      },
      {
        "start": 1252.79,
        "duration": 4.92,
        "text": "kisses in facebook so which means like"
      },
      {
        "start": 1255.73,
        "duration": 4.56,
        "text": "we want to open our door to more"
      },
      {
        "start": 1257.71,
        "duration": 3.599,
        "text": "Facebook right as I use kisses as well"
      },
      {
        "start": 1260.29,
        "duration": 2.94,
        "text": "right"
      },
      {
        "start": 1261.309,
        "duration": 4.141,
        "text": "that's awesome you know it's so funny"
      },
      {
        "start": 1263.23,
        "duration": 4.11,
        "text": "because you know most people know this"
      },
      {
        "start": 1265.45,
        "duration": 5.55,
        "text": "that concealer was originally developed"
      },
      {
        "start": 1267.34,
        "duration": 6.03,
        "text": "in facebook and then donated open"
      },
      {
        "start": 1271.0,
        "duration": 5.4,
        "text": "sourced yes I can an Apache project"
      },
      {
        "start": 1273.37,
        "duration": 5.52,
        "text": "meanwhile like it seems to be used at"
      },
      {
        "start": 1276.4,
        "duration": 4.11,
        "text": "Facebook and then when they acquired"
      },
      {
        "start": 1278.89,
        "duration": 5.07,
        "text": "Instagram then it came kind of came back"
      },
      {
        "start": 1280.51,
        "duration": 4.98,
        "text": "in yes right yeah yeah I think I think a"
      },
      {
        "start": 1283.96,
        "duration": 4.53,
        "text": "Cassandra burrows allowed in the"
      },
      {
        "start": 1285.49,
        "duration": 5.52,
        "text": "community I want to thank all the you"
      },
      {
        "start": 1288.49,
        "duration": 5.01,
        "text": "know the community effort the community"
      },
      {
        "start": 1291.01,
        "duration": 6.5,
        "text": "developers to make Cassandra a very"
      },
      {
        "start": 1293.5,
        "duration": 6.12,
        "text": "competitive database system in the world"
      },
      {
        "start": 1297.51,
        "duration": 4.27,
        "text": "excellent well thank you so much for"
      },
      {
        "start": 1299.62,
        "duration": 6.15,
        "text": "joining us hanging love to have you on"
      },
      {
        "start": 1301.78,
        "duration": 9.35,
        "text": "again sometime thanks everyone for"
      },
      {
        "start": 1305.77,
        "duration": 5.36,
        "text": "watching thank you thank you everyone"
      },
      {
        "start": 1317.77,
        "duration": 2.06,
        "text": "you"
      }
    ],
    "error": null,
    "error_type": null
  },
  "collected_at": "2025-12-16T06:48:28.306941+00:00"
}