# CQL Version History

| CQL Version | Introduced / Used in Apache Cassandra Version(s) | Notable Features, Deprecations, and Breaking Changes |
|-------------|--------------------------------------------------|-----------------------------------------------------|
| 3.0.0 | Introduced in Cassandra 1.2.0 (CQL3 release) | • **New**: Support for composite (multi-column) primary keys, enabling table definitions with compound partition/clustering keys<br>• **New**: Introduced the ORDER BY clause (limited to clustering columns) for sorting query results within a partition<br>• **New**: Added collection data types (list<>, set<>, map<>) with native support for lists, sets, and maps in CQL<br>• **Breaking Change**: CQL3 is not backward compatible with CQL2. Removed Thrift-specific query syntax such as the .. range operator and FIRST/REVERSED modifiers |
| 3.0.1 | Used in Cassandra 1.2.x (e.g. 1.2.1, 1.2.2) | • **Breaking Change**: CQL no longer allows using date strings as timeuuid values (this was previously permitted due to a bug)<br>• **New**: Added helper functions for timeuuid and timestamps: now(), minTimeuuid(), maxTimeuuid(), dateOf(), and unixTimestampOf() to generate or extract components of timeuuid values<br>• **New**: Floating-point constants now support exponent notation (e.g. 4.2E10 for 4.2×10^10) |
| 3.0.2 | Used in Cassandra 1.2.x (later patches) | • **Change**: Made literal type validation stricter — e.g. '2' is no longer accepted for an int (was previously treated as 2), and 42 is no longer accepted as a blob<br>• **New**: Introduced blob literals (hex string constants for blob types) and related conversion functions<br>• **Deprecated**: Using regular strings as blob input is now deprecated — clients should switch to the new blob literal syntax<br>• **New**: Allowed the token() function in SELECT clauses (to retrieve partitioner token values) |
| 3.0.3 | Used in Cassandra 1.2.x (later patches) | • **New**: Added support for custom secondary indexes in CQL — users can now create indexes using a custom index implementation class |
| 3.0.4 | Used in Cassandra 1.2.x (later patches) | • **New**: Updated syntax for creating custom indexes — when using CREATE INDEX on a table, you can now specify a custom index class with options in a clearer syntax<br>• **Breaking Change**: CQL no longer allows inequality conditions on the partition key (even with ordered partitioners) — range scans on partition keys must use the token() function instead |
| 3.0.5 | Used in Cassandra 1.2.x / 2.0.0 (transition) | • **New**: The query language now permits empty IN lists in SELECT, UPDATE, and DELETE statements. For example, an IN () clause is accepted (and simply returns no results) |
| 3.1.0 | Introduced in Cassandra 2.0.0 (CQL spec 3.1) | • **New**: ALTER TABLE now supports dropping columns via the DROP <column> syntax<br>• **New**: SELECT statements support column aliases in the SELECT clause (e.g., SELECT col AS alias ...)<br>• **New**: DDL statements can use IF conditions — CREATE KEYSPACE/TABLE/INDEX IF NOT EXISTS and DROP KEYSPACE/TABLE/INDEX IF EXISTS are now supported<br>• **New**: Conditional DML (lightweight transactions) introduced — INSERT ... IF NOT EXISTS and UPDATE ... IF <condition> are now supported |
| 3.1.1 | Used in Cassandra 2.0.x | • **New**: SELECT DISTINCT is now supported to fetch the list of distinct partition keys<br>• **New**: Added support for using a list of values as a single bind variable in an IN clause. Now you can use the syntax ... WHERE col IN ? and bind a collection (list) of values to that placeholder<br>• **New**: Support for named bind markers in CQL prepared statements — you can use :name notation in CQL to indicate a named parameter |
| 3.1.2 | Used in Cassandra 2.0.x | • **New**: Added NaN and Infinity as valid constants for float types<br>• **Breaking Change**: The identifiers NaN and Infinity are now reserved keywords (for use as float literals) |
| 3.1.3 | Used in Cassandra 2.0.x | • **New**: Extended timestamp formats — CQL timestamp literals now accept millisecond-precision formats in strings |
| 3.1.4 | Used in Cassandra 2.0.x | • **New**: When creating a custom index, CREATE INDEX now accepts index options. You can specify custom options (configuration) for a custom index implementation within the CQL statement |
| 3.1.5 | Used in Cassandra 2.0.x | • **New**: CQL allows grouping clustering columns in an IN relation. You can now form a WHERE clause with a tuple of clustering columns on the left side of an IN<br>• **New**: Introduced static columns in table schemas. Static columns store data per partition (not per row) and can be defined in CQL |
| 3.1.6 | Used in Cassandra 2.0.x | • **New**: Added a built-in function uuid() to generate a random v4 UUID on the fly within CQL<br>• **New**: DELETE ... IF EXISTS is now supported, allowing conditional deletes that execute only if the row exists |
| 3.1.7 | Used in Cassandra 2.0.x (latest patches) | • **New**: Enhanced SELECT to support querying multiple rows in a partition by clustering keys using an IN tuple<br>• **New**: Added IF NOT EXISTS/IF EXISTS syntax to user management — CREATE USER IF NOT EXISTS and DROP USER IF EXISTS are now supported |
| 3.2.0 | Introduced in Cassandra 2.1.0 (CQL spec 3.2) | • **New**: Added support for user-defined types (UDTs). You can now create types (CREATE TYPE) and use them as column data types in tables<br>• **New**: Secondary indexes can now be created on collection columns<br>• **New**: Introduced the CONTAINS and CONTAINS KEY operators for querying collection columns<br>• **New**: Added tuple types (tuple<...>) to CQL<br>• **New**: DROP INDEX now supports an optional keyspace qualifier |
| 3.3.0 | Introduced in Cassandra 2.2.0 (CQL spec 3.3) | • **New**: Added support for user-defined functions (UDFs) and aggregates<br>• **New**: Support for double-dollar $$ string literals as an alternative quoting mechanism<br>• **New**: Roles-based authentication introduced, superseding the old USER/PASSWORD mechanism<br>• **New**: Added new data types: date and time, and 8-bit and 16-bit integer types tinyint and smallint<br>• **New**: Added JSON support — you can now INSERT JSON <json_string> into a table or SELECT JSON to retrieve rows as JSON<br>• **New**: Added new time conversion functions (e.g., toTimestamp, toUnixTimestamp) |
| 3.3.1 | Introduced in Cassandra 2.2.7 (also in 3.0.0–3.0.2) | • **New**: The TRUNCATE statement now accepts an optional TABLE keyword. Writing TRUNCATE TABLE <table_name> is allowed as an alias for TRUNCATE <table_name> |
| 3.4.0 | Introduced in Cassandra 3.0.3 (CQL spec bump on 3.0 branch); also used in early 3.x releases | • **New**: Introduced Materialized Views (MV) support in CQL<br>• **New**: Expanded DELETE capabilities — DELETE statements can now use inequality conditions (<, <=, >, >=) and IN on any part of the primary key<br>• **New**: Similarly, UPDATE statements now allow IN restrictions on any primary key column |
| 3.4.1 | Used in Cassandra 3.x (e.g. 3.0.4+ or 3.4) | • **New**: Added CAST() functions to explicitly cast one data type to another in CQL queries |
| 3.4.2 | Used in Cassandra 3.x (e.g. Cassandra 3.6) | • **Change**: Modified TTL semantics when a table has a default TTL. Now, if a write specifies TTL = 0, it will prevent any expiration on that write<br>• **New**: ALTER TABLE now supports adding or dropping multiple columns in one statement<br>• **New**: Added a PER PARTITION LIMIT option for SELECT queries<br>• **New**: Extended user-defined functions API — UDFs can now instantiate UDTValue and TupleValue objects via a new UDFContext interface<br>• **New**: Allowed non-frozen UDTs: user-defined types no longer need to be frozen |
| 3.4.3 | Introduced in Cassandra 3.10 (also in 3.11.6+) | • **New**: Added a new duration data type to represent lengths of time (months, days, nanoseconds) in a single typed value<br>• **New**: CQL now supports GROUP BY in SELECT queries<br>• **New**: Added a DEFAULT UNSET option for INSERT JSON<br>• **New**: Allowed NULL as a valid TTL value in INSERT/UPDATE statements |
| 3.4.4 | Introduced in Cassandra 3.10 (CQL 3.4.4 in 3.0.11 and 3.11.7+) | • **Breaking Change**: Removed the ability to alter a column's data type after creation<br>• **Breaking Change**: Removed the ability to alter a user-defined type's field type |
| 3.4.5 | Introduced in Cassandra 4.0.0 | • **New**: Introduced arithmetic operators in CQL<br>• **New**: Added support for using + and − on date/time types to add or subtract durations<br>• **New**: Added several "current" time functions: currentTimestamp(), currentDate(), currentTime(), and currentTimeUUID() |
| 3.4.6 | Introduced in Cassandra 4.1.0 (4.1 includes multiple CQL improvements) | • **New**: Added support for ALTER TABLE ... IF EXISTS/IF NOT EXISTS in schema alterations<br>• **New**: Allowed granting/revoking multiple permissions in one GRANT/REVOKE CQL statement<br>• **New**: Client-side password hashing support — CQL accepts pre-hashed passwords for user creation and ALTER USER<br>• **New**: Added type casting in WHERE clauses and in INSERT/UPDATE values<br>• **New**: The conditional (IF) clauses for UPDATE and DELETE now support CONTAINS and CONTAINS KEY conditions on collections<br>• **New**: Enhanced permissions granularity — you can now grant permissions on all tables in a keyspace in one command<br>• **New**: Aggregation by time intervals in GROUP BY: CQL can now group timestamps by time bucket |
| 3.4.7 | Introduced in Cassandra 5.0.0 (upcoming 5.x) | • **New**: Added built-in vector similarity search functions for the new Vector capability<br>• **Breaking Change**: Removed the previously deprecated time conversion functions dateOf() and unixTimestampOf()<br>• **New**: Added support for data masking features<br>• **New**: Added two new granular permissions: UNMASK and SELECT_MASKED<br>• **New**: Allowed user-defined functions to be used as masking functions<br>• **Deprecated**: Adopted snake_case names for built-in functions, deprecating the older CamelCase function names<br>• **New**: Introduced a new vector data type to store fixed-length vectors (for vector search/indexing applications) |